import{c as mr,r as x,a as ge,w as ke,e as tn,A as qn,u as zn,P as Xo,h as Ce,af as pr,g as ei,d as vr,B as ti,ag as ni,j as ri,ah as ai,X as mt,ai as Dt,V as Ye,Y as we,Z as xe,_ as j,$ as _,aj as H,a1 as ue,a2 as Z,ak as nn,a5 as et,a0 as Je,al as Se,am as hr,a3 as sn,an as ln,ao as un,ap as gr,Q as dt,aq as oi,o as yr,W as ii,a6 as rn,C as si,ar as li,as as ui,at as ci,au as Kt}from"./index.b749e8eb.js";import{u as di,a as fi,v as Qn,b as mi,c as pi,d as vi,e as hi,f as gi,r as Zn,s as yi,p as Jn,g as bi,Q as $t,h as ft,i as Mt,j as br,k as Ti,l as wi,m as Si,n as Ai,o as Oi,q as Ei,t as Kn,w as _i}from"./hiveConnect.df2af198.js";import{u as Ci,b as Pi,k as Ni,e as Mi,f as Ii,c as Xn}from"./QItem.20b2ee63.js";import{Q as he,a as Li}from"./QInput.231c4c10.js";import{Q as Xt,a as Di}from"./QTable.94cf2c69.js";import{Q as $i,a as ct}from"./QBanner.8f9a8b03.js";import{Q as qe,a as ze}from"./QCard.1490ecd7.js";import{Q as cn,a as er}from"./QRadio.33268793.js";import{a as Re}from"./axios.66c02ff4.js";import{Q as Ui}from"./QSpace.f5f88036.js";import"./QList.510a3f30.js";var Tr=mr({name:"QTooltip",inheritAttrs:!1,props:{...di,...Ci,...fi,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Qn},self:{type:String,default:"top middle",validator:Qn},offset:{type:Array,default:()=>[14,14],validator:mi},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Pi],setup(n,{slots:o,emit:a,attrs:l}){let c,m;const v=ei(),{proxy:{$q:w}}=v,d=x(null),y=x(!1),h=ge(()=>Jn(n.anchor,w.lang.rtl)),g=ge(()=>Jn(n.self,w.lang.rtl)),I=ge(()=>n.persistent!==!0),{registerTick:R,removeTick:M}=Ni(),{registerTimeout:O}=Mi(),{transitionProps:W,transitionStyle:G}=pi(n),{localScrollTarget:D,changeScrollEvent:S,unconfigureScrollTarget:L}=vi(n,ce),{anchorEl:$,canShow:U,anchorEvents:C}=hi({showing:y,configureAnchorEl:ye}),{show:E,hide:F}=Ii({showing:y,canShow:U,handleShow:Oe,handleHide:Ne,hideOnRouteChange:I,processOnMount:!0});Object.assign(C,{delayShow:$e,delayHide:tt});const{showPortal:q,hidePortal:le,renderPortal:Ae}=gi(v,d,nt,"tooltip");if(w.platform.is.mobile===!0){const J={anchorEl:$,innerRef:d,onClickOutside(pe){return F(pe),pe.target.classList.contains("q-dialog__backdrop")&&ti(pe),!0}},He=ge(()=>n.modelValue===null&&n.persistent!==!0&&y.value===!0);ke(He,pe=>{(pe===!0?bi:Zn)(J)}),tn(()=>{Zn(J)})}function Oe(J){q(),R(()=>{m=new MutationObserver(()=>fe()),m.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),fe(),ce()}),c===void 0&&(c=ke(()=>w.screen.width+"|"+w.screen.height+"|"+n.self+"|"+n.anchor+"|"+w.lang.rtl,fe)),O(()=>{q(!0),a("show",J)},n.transitionDuration)}function Ne(J){M(),le(),De(),O(()=>{le(!0),a("hide",J)},n.transitionDuration)}function De(){m!==void 0&&(m.disconnect(),m=void 0),c!==void 0&&(c(),c=void 0),L(),qn(C,"tooltipTemp")}function fe(){yi({targetEl:d.value,offset:n.offset,anchorEl:$.value,anchorOrigin:h.value,selfOrigin:g.value,maxHeight:n.maxHeight,maxWidth:n.maxWidth})}function $e(J){if(w.platform.is.mobile===!0){Xn(),document.body.classList.add("non-selectable");const He=$.value,pe=["touchmove","touchcancel","touchend","click"].map(be=>[He,be,"delayHide","passiveCapture"]);zn(C,"tooltipTemp",pe)}O(()=>{E(J)},n.delay)}function tt(J){w.platform.is.mobile===!0&&(qn(C,"tooltipTemp"),Xn(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),O(()=>{F(J)},n.hideDelay)}function ye(){if(n.noParentEvent===!0||$.value===null)return;const J=w.platform.is.mobile===!0?[[$.value,"touchstart","delayShow","passive"]]:[[$.value,"mouseenter","delayShow","passive"],[$.value,"mouseleave","delayHide","passive"]];zn(C,"anchor",J)}function ce(){if($.value!==null||n.scrollTarget!==void 0){D.value=Xo($.value,n.scrollTarget);const J=n.noParentEvent===!0?fe:F;S(D.value,J)}}function me(){return y.value===!0?Ce("div",{...l,ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",l.class],style:[l.style,G.value],role:"tooltip"},vr(o.default)):null}function nt(){return Ce(pr,W.value,me)}return tn(De),Object.assign(v.proxy,{updatePosition:fe}),Ae}});const wr=ni("subsciber",{state:()=>({subscriberDetail:{subscriber_name:"",serial_number:"",acc_no:"",package_type:"",ssid:"",password:"",mode:"",olt_ip:"",olt_interface:""},modalIsOpen:!1,subscribercolumns:[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"accountNumber",label:"Account No.",field:"accountNumber",align:"left",sortable:!0},{name:"clientName",label:"Client Name",field:"clientName",align:"left",sortable:!0},{name:"onuDeviceName",label:"Device Name",field:"onuDeviceName",align:"left",sortable:!0},{name:"ipAssigned",label:"IP Assigned",field:"ipAssigned",align:"left",sortable:!0},{name:"onuSerialNumber",label:"ONU Serial Number",field:"onuSerialNumber",align:"left",sortable:!0},{name:"onuMacAddress",label:"ONU Mac Address",field:"onuMacAddress",align:"left",sortable:!0},{name:"oltIp",label:"OLT IP",field:"oltIp",align:"left",sortable:!0},{name:"packageTypeId",label:"Package Type ID",field:"packageTypeId",align:"left",sortable:!0},{name:"ssidName",label:"SSID",field:"ssidName",align:"left",sortable:!0},{name:"ssidPw",label:"Password",field:"ssidPw",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"",align:"left"}]})});function dn(){return ri(ai)}const Ri=n=>(ln("data-v-f7511efc"),n=n(),un(),n),Fi={class:"provision-info"},ki=Ri(()=>H("br",null,null,-1)),xi=["src"],Vi=mt({__name:"TroubleshootClient",props:{confirm:{type:Boolean},closeModal:{type:Function},deviceName:{},clientId:{}},setup(n){const o=dn(),a=n,l=x(!1),{confirm:c}=Dt(a),m=()=>{a.closeModal()},v=x({__name__:"",device_name:"",device_role:"",instance:"",job:"",site_name:"",site_status:"",site_tenant:"",olt_ip:""}),w=x("2d"),d=x(""),y=x(""),h=Ye({accountNumber:"",clientName:"",ipAssigned:"",onuSerialNumber:"",oltIp:"",onuMacAddress:"",onuDeviceName:"",packageTypeId:"",oltSite:"",oltInterface:""}),g=Ye({upStream:"",downStream:""}),I=[{label:"Last 5 minutes",value:"5m"},{label:"Last 15 minutes",value:"15m"},{label:"Last 30 minutes",value:"30m"},{label:"Last 1 hour",value:"1h"},{label:"Last 3 hours",value:"3h"},{label:"Last 6 hours",value:"6h"},{label:"Last 12 hours",value:"12h"},{label:"Last 24 hours",value:"24h"},{label:"Last 2 days",value:"2d"},{label:"Last 90 days",value:"90d"}],R=()=>{o.notify({message:"Gathering SNMP Data! Please wait for a moment.",color:"warning",position:"top"})},M=async(W,G)=>{console.log(W),o.loading.show();try{if(!W){O();return}const D=await Re.get(`http://172.91.10.129:9090/api/v1/query?query=lo_status{job=%22ip_address%22,site_tenant=%22DCTECH%22,device_name="${W}"}`);v.value=D.data.data.result[0].metric,d.value=D.data.data.result[0].value[1];const S=v.value.olt_ip,L=await Re.get(`http://172.91.10.129:9090/api/v1/query?query=lo_status{job=%22ip_address%22,site_tenant=%22DCTECH%22,device_name="OLT-${S}"}`);console.log(S),y.value=L.data.data.result[0].value[1];const $=await br(G);if($){const{accountNumber:C,clientName:E,ipAssigned:F,onuDeviceName:q,onuMacAddress:le,onuSerialNumber:Ae,packageTypeId:Oe}=$;h.accountNumber=C,h.clientName=E,h.ipAssigned=F,h.oltIp=S,h.onuDeviceName=q,h.onuMacAddress=le,h.onuSerialNumber=Ae,h.packageTypeId=Oe;try{const Ne=await Ti(h.oltIp);h.oltSite=Ne.olt_site;const De=await wi(Oe),{upstream:fe,downstream:$e}=De;g.upStream=fe,g.downStream=$e}catch(Ne){throw Ne}}else throw new Error("Error fetching client data");const U=await Si(W);h.oltInterface=U,console.log(h.oltInterface),l.value=!0}catch(D){console.log(D),O()}o.loading.hide()},O=()=>{m(),R()};return ke(c,W=>{c.value===!0&&M(a.deviceName,a.clientId)}),(W,G)=>(we(),xe($t,null,{default:j(()=>[_($i,{ref:"bar",color:"info",position:"bottom",size:"10px","skip-hijack":""},null,512),_(Mt,{modelValue:Se(c),"onUpdate:modelValue":G[1]||(G[1]=D=>hr(c)?c.value=D:null),persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},{default:j(()=>[l.value?(we(),xe(qe,{key:0,class:"dialog-content"},{default:j(()=>[H("div",Fi,[_(qe,null,{default:j(()=>[_(ct,{class:"bg-primary text-white"},{default:j(()=>[ue(" Client Details ")]),_:1}),_(ze,null,{default:j(()=>[H("p",null,"Client Name: "+Z(h.clientName),1),H("p",null,"Account Number: "+Z(h.accountNumber),1),H("p",null,"Package Type: "+Z(h.packageTypeId),1)]),_:1})]),_:1}),_(qe,null,{default:j(()=>[_(ct,{class:"bg-primary text-white"},{default:j(()=>[ue(" ONU Details ")]),_:1}),_(ze,null,{default:j(()=>[H("p",null,[ue(" ONU Status: "),H("span",{style:nn(d.value==="1"?"color: green":"color: red")},Z(d.value==="1"?"UP":"Down"),5)]),H("p",null,"ONU IP: "+Z(v.value.instance),1),H("p",null,"ONU Serial Number: "+Z(h.onuSerialNumber),1),H("p",null,"ONU Mac Address: "+Z(h.onuMacAddress),1),H("p",null,[ue(" upstream: "+Z(g.upStream)+" kbps ",1),ki,ue(" downstream: "+Z(g.downStream)+" kbps ",1)])]),_:1})]),_:1}),_(qe,null,{default:j(()=>[_(ct,{class:"bg-primary text-white"},{default:j(()=>[ue(" OLT Details ")]),_:1}),_(ze,null,{default:j(()=>[H("p",null,[ue(" OLT Status: "),H("span",{style:nn(y.value==="1"?"color: green":"color: red")},Z(y.value==="1"?"UP":"Down"),5)]),H("p",null," OLT IP: "+Z(h.oltIp),1),H("p",null,"OLT Site: "+Z(h.oltSite),1),H("p",null,"OLT Interface: "+Z(h.oltInterface),1)]),_:1})]),_:1})]),_(ft,{modelValue:w.value,"onUpdate:modelValue":G[0]||(G[0]=D=>w.value=D),options:I,label:"Select Time",filled:"",class:"select-time q-py-md","emit-value":"","map-options":""},null,8,["modelValue"]),H("iframe",{src:`http://172.91.10.151:3000/d-solo/d94d1e0e-a6e4-45c4-847f-6603e1c31ccb/subscribers-traffic-rate-and-uptime?orgId=1&from=now-${w.value}&to=now&var-Subscriber=${W.deviceName}&panelId=3`,class:"grafana-panel",frameborder:"0"},null,8,xi),_(cn,{vertical:"",align:"right"},{default:j(()=>[_(et,{filled:"",label:"Close",color:"red",onClick:m})]),_:1})]),_:1})):Je("",!0)]),_:1},8,["modelValue"])]),_:1}))}});var ji=sn(Vi,[["__scopeId","data-v-f7511efc"]]);const pt=n=>(ln("data-v-7a47d3e6"),n=n(),un(),n),Hi={class:""},Wi={class:""},Gi={class:"q-gutter-sm"},Bi=pt(()=>H("br",null,null,-1)),Yi=pt(()=>H("br",null,null,-1)),qi=pt(()=>H("br",null,null,-1)),zi=pt(()=>H("br",null,null,-1)),Qi=pt(()=>H("br",null,null,-1)),Zi="http://127.0.0.1:8000",tr="http://172.91.0.136:7547",nr="http://172.91.10.108:8080",Ji=mt({__name:"SubscriberModal",props:["dataId","getSubsribers"],setup(n){Re.defaults.timeout=0;const o=wr(),a=n,{dataId:l}=Dt(a),c=x(""),m=x(""),v=x(""),w=x(""),d=x(""),y=x(""),h=x(""),g=x(""),I=x(""),R=x(!0),M=Ye({subscriber:"",configureSsid:"",setBandwidth:"",runAnsible:"",wanConfig:""});gr(()=>{c.value=o.$state.subscriberDetail.acc_no,m.value=o.$state.subscriberDetail.subscriber_name,v.value=o.$state.subscriberDetail.package_type,w.value=o.$state.subscriberDetail.serial_number,d.value=o.$state.subscriberDetail.olt_ip,y.value=o.$state.subscriberDetail.olt_interface,h.value=o.$state.subscriberDetail.mode,g.value=o.$state.subscriberDetail.ssid,I.value=o.$state.subscriberDetail.password});const O=["0/1:1","0/1:2","0/1:3","0/2:1","0/2:2","0/2:3","0/3:1","0/3:2","0/3:3"],W=()=>{o.$state.modalIsOpen=!o.$state.modalIsOpen},G=async D=>{await Re.put(`${Zi}/api/subscriber_test/${D}/edit`,{acc_no:c.value,subscriber_name:m.value,serial_number:w.value,olt_ip:d.value,olt_interface:y.value,package_type:v.value,mode:h.value,ssid:g.value,password:I.value}).then(S=>{M.subscriber=S.data,a.getSubsribers()}).catch(S=>{M.subscriber=S}),await Re.post(`${tr}/configureSSID`,{SN:w.value,NewSSID:h.value==="Bridged"?"":g.value,Password:I.value}).then(S=>{M.configureSsid=S.data}).catch(S=>{M.configureSsid=S}),await Re.post(`${tr}/bridgedWanConfig`,{SN:w.value}).then(S=>{M.wanConfig=S.data}).catch(S=>{M.wanConfig=S}),await Re.post(nr+"/setBandwidth").then(S=>{if(S.data)M.setBandwidth="Bandwidth Config Success!";else throw new Error("Something went wrong!")}).catch(S=>{M.setBandwidth=S}),await Re.post(nr+"/runPlaybook").then(S=>{if(S.data)M.runAnsible="Successfull Setup!";else throw new Error("Something went wrong!")}).catch(S=>{M.runAnsible=S})};return(D,S)=>(we(),xe($t,null,{default:j(()=>[_(Mt,{modelValue:Se(o).$state.modalIsOpen,"onUpdate:modelValue":S[12]||(S[12]=L=>Se(o).$state.modalIsOpen=L),modelModifiers:{trim:!0}},{default:j(()=>[_(qe,null,{default:j(()=>[_(ze,{class:"flex-subscriber"},{default:j(()=>[H("div",Hi,[_(he,{modelValue:c.value,"onUpdate:modelValue":S[0]||(S[0]=L=>c.value=L),modelModifiers:{trim:!0},outlined:"",label:"Account No.",class:"q-ma-md",disable:""},null,8,["modelValue"]),_(he,{modelValue:m.value,"onUpdate:modelValue":S[1]||(S[1]=L=>m.value=L),modelModifiers:{trim:!0},outlined:"",label:"Subscriber Name",class:"q-ma-md",disable:""},null,8,["modelValue"]),_(he,{modelValue:v.value,"onUpdate:modelValue":S[2]||(S[2]=L=>v.value=L),modelModifiers:{trim:!0},outlined:"",label:"Package Type",class:"q-ma-md",disable:""},null,8,["modelValue"]),_(he,{modelValue:w.value,"onUpdate:modelValue":S[3]||(S[3]=L=>w.value=L),modelModifiers:{trim:!0},outlined:"",label:"Serial Number",class:"q-ma-md"},null,8,["modelValue"]),_(ft,{modelValue:d.value,"onUpdate:modelValue":S[4]||(S[4]=L=>d.value=L),modelModifiers:{trim:!0},filled:"",options:["172.16.0.2","172.16.0.58","172.16.0.22"],label:"OLT IP",class:"q-ma-md"},null,8,["modelValue"])]),H("div",Wi,[_(ft,{modelValue:y.value,"onUpdate:modelValue":S[5]||(S[5]=L=>y.value=L),modelModifiers:{trim:!0},filled:"",options:O,label:"OLT Interface",class:"q-ma-md"},null,8,["modelValue"]),_(Ai,{filled:"",label:"Mode","stack-label":"",class:"q-ma-md"},{control:j(()=>[H("div",Gi,[_(er,{modelValue:h.value,"onUpdate:modelValue":S[6]||(S[6]=L=>h.value=L),modelModifiers:{trim:!0},dense:"",val:"Bridged",label:"Bridged"},null,8,["modelValue"]),_(er,{modelValue:h.value,"onUpdate:modelValue":S[7]||(S[7]=L=>h.value=L),modelModifiers:{trim:!0},dense:"",val:"Routed",label:"Routed"},null,8,["modelValue"])])]),_:1}),_(he,{modelValue:g.value,"onUpdate:modelValue":S[8]||(S[8]=L=>g.value=L),modelModifiers:{trim:!0},outlined:"",class:"q-ma-md",label:"SSID"},null,8,["modelValue"]),_(he,{modelValue:I.value,"onUpdate:modelValue":S[10]||(S[10]=L=>I.value=L),modelModifiers:{trim:!0},outlined:"",class:"q-ma-md",label:"Password",type:R.value?"password":"text"},{append:j(()=>[_(dt,{name:R.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:S[9]||(S[9]=L=>R.value=!R.value)},null,8,["name"])]),_:1},8,["modelValue","type"])])]),_:1}),_(cn,{align:"left"},{default:j(()=>[_(et,{flat:"",label:"Update Info",color:"secondary",onClick:S[11]||(S[11]=L=>G(Se(l)))}),_(et,{flat:"",label:"Close",color:"primary",onClick:W})]),_:1}),_(ct,{class:"bg-primary text-white"},{default:j(()=>[ue(" Subscriber Details: "+Z(M.subscriber)+" ",1),Bi,ue(" SSID/Password Config: "+Z(M.configureSsid)+" ",1),Yi,ue(" Wan Config: "+Z(M.wanConfig)+" ",1),qi,ue(" Bandwidth: "+Z(M.setBandwidth)+" ",1),zi,ue(" Playbook: "+Z(M.runAnsible)+" ",1),Qi]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});var Ki=sn(Ji,[["__scopeId","data-v-7a47d3e6"]]);const Xi={ratio:[String,Number]};function es(n,o){return ge(()=>{const a=Number(n.ratio||(o!==void 0?o.value:void 0));return isNaN(a)!==!0&&a>0?{paddingBottom:`${100/a}%`}:null})}const ts=16/9;var ns=mr({name:"QImg",props:{...Xi,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ts},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(n,{slots:o,emit:a}){const l=x(n.initialRatio),c=es(n,l);let m=null,v=!1;const w=[x(null),x(W())],d=x(0),y=x(!1),h=x(!1),g=ge(()=>`q-img q-img--${n.noNativeMenu===!0?"no-":""}menu`),I=ge(()=>({width:n.width,height:n.height})),R=ge(()=>`q-img__image ${n.imgClass!==void 0?n.imgClass+" ":""}q-img__image--with${n.noTransition===!0?"out":""}-transition`),M=ge(()=>({...n.imgStyle,objectFit:n.fit,objectPosition:n.position}));ke(()=>O(),G);function O(){return n.src||n.srcset||n.sizes?{src:n.src,srcset:n.srcset,sizes:n.sizes}:null}function W(){return n.placeholderSrc!==void 0?{src:n.placeholderSrc}:null}function G(E){m!==null&&(clearTimeout(m),m=null),h.value=!1,E===null?(y.value=!1,w[d.value^1].value=W()):y.value=!0,w[d.value].value=E}function D({target:E}){v!==!0&&(m!==null&&(clearTimeout(m),m=null),l.value=E.naturalHeight===0?.5:E.naturalWidth/E.naturalHeight,S(E,1))}function S(E,F){v===!0||F===1e3||(E.complete===!0?L(E):m=setTimeout(()=>{m=null,S(E,F+1)},50))}function L(E){v!==!0&&(d.value=d.value^1,w[d.value].value=null,y.value=!1,h.value=!1,a("load",E.currentSrc||E.src))}function $(E){m!==null&&(clearTimeout(m),m=null),y.value=!1,h.value=!0,w[d.value].value=null,w[d.value^1].value=W(),a("error",E)}function U(E){const F=w[E].value,q={key:"img_"+E,class:R.value,style:M.value,crossorigin:n.crossorigin,decoding:n.decoding,referrerpolicy:n.referrerpolicy,height:n.height,width:n.width,loading:n.loading,fetchpriority:n.fetchpriority,"aria-hidden":"true",draggable:n.draggable,...F};return d.value===E?(q.class+=" q-img__image--waiting",Object.assign(q,{onLoad:D,onError:$})):q.class+=" q-img__image--loaded",Ce("div",{class:"q-img__container absolute-full",key:"img"+E},Ce("img",q))}function C(){return y.value!==!0?Ce("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},vr(o[h.value===!0?"error":"default"])):Ce("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},o.loading!==void 0?o.loading():n.noSpinner===!0?void 0:[Ce(oi,{color:n.spinnerColor,size:n.spinnerSize})])}return G(O()),tn(()=>{v=!0,m!==null&&(clearTimeout(m),m=null)}),()=>{const E=[];return c.value!==null&&E.push(Ce("div",{key:"filler",style:c.value})),h.value!==!0&&(w[0].value!==null&&E.push(U(0)),w[1].value!==null&&E.push(U(1))),E.push(Ce(pr,{name:"q-transition--fade"},C)),Ce("div",{class:g.value,style:I.value,role:"img","aria-label":n.alt},E)}}}),rs="/assets/dance.548a9afd.gif",Sr=(n,o,a)=>{if(!o.has(n))throw TypeError("Cannot "+a)},rr=(n,o,a)=>(Sr(n,o,"read from private field"),a?a.call(n):o.get(n)),as=(n,o,a)=>{if(o.has(n))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(n):o.set(n,a)},os=(n,o,a,l)=>(Sr(n,o,"write to private field"),l?l.call(n,a):o.set(n,a),a);const ar=["aztec","code_128","code_39","code_93","codabar","data_matrix","ean_13","ean_8","itf","pdf417","qr_code","upc_a","upc_e","unknown"];function is(n){if(Ar(n))return{width:n.naturalWidth,height:n.naturalHeight};if(Or(n))return{width:n.width.baseVal.value,height:n.height.baseVal.value};if(Er(n))return{width:n.videoWidth,height:n.videoHeight};if(Cr(n))return{width:n.width,height:n.height};if(Nr(n))return{width:n.displayWidth,height:n.displayHeight};if(_r(n))return{width:n.width,height:n.height};if(Pr(n))return{width:n.width,height:n.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function Ar(n){try{return n instanceof HTMLImageElement}catch{return!1}}function Or(n){try{return n instanceof SVGImageElement}catch{return!1}}function Er(n){try{return n instanceof HTMLVideoElement}catch{return!1}}function _r(n){try{return n instanceof HTMLCanvasElement}catch{return!1}}function Cr(n){try{return n instanceof ImageBitmap}catch{return!1}}function Pr(n){try{return n instanceof OffscreenCanvas}catch{return!1}}function Nr(n){try{return n instanceof VideoFrame}catch{return!1}}function Mr(n){try{return n instanceof Blob}catch{return!1}}function ss(n){try{return n instanceof ImageData}catch{return!1}}function ls(n,o){try{const a=new OffscreenCanvas(n,o);if(a.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return a;throw void 0}catch{const l=document.createElement("canvas");return l.width=n,l.height=o,l}}async function Ir(n){if(Ar(n)&&!await fs(n))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Or(n)&&!await ms(n))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Nr(n)&&ps(n))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(Er(n)&&(n.readyState===0||n.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Cr(n)&&hs(n))throw new DOMException("The image source is detached.","InvalidStateError");const{width:o,height:a}=is(n);if(o===0||a===0)return null;const l=ls(o,a).getContext("2d");l.drawImage(n,0,0);try{return l.getImageData(0,0,o,a)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function us(n){let o;try{if(createImageBitmap)o=await createImageBitmap(n);else if(Image){o=new Image;let a="";try{a=URL.createObjectURL(n),o.src=a,await o.decode()}finally{URL.revokeObjectURL(a)}}else return n}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await Ir(o)}function cs(n){const{width:o,height:a}=n;if(o===0||a===0)return null;const l=n.getContext("2d");try{return l.getImageData(0,0,o,a)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function ds(n){if(Mr(n))return await us(n);if(ss(n)){if(vs(n))throw new DOMException("The image data has been detached.","InvalidStateError");return n}return _r(n)||Pr(n)?cs(n):await Ir(n)}async function fs(n){try{return await n.decode(),!0}catch{return!1}}async function ms(n){var o;try{return await((o=n.decode)==null?void 0:o.call(n)),!0}catch{return!1}}function ps(n){return n.format===null}function vs(n){return n.data.buffer.byteLength===0}function hs(n){return n.width===0&&n.height===0}function or(n,o){return n instanceof DOMException?new DOMException(`${o}: ${n.message}`,n.name):n instanceof Error?new n.constructor(`${o}: ${n.message}`):new Error(`${o}: ${n}`)}const ir=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","UPC-A","UPC-E"];function gs(n){return n.join("|")}function ys(n){const o=sr(n);let a=0,l=ir.length-1;for(;a<=l;){const c=Math.floor((a+l)/2),m=ir[c],v=sr(m);if(v===o)return m;v<o?a=c+1:l=c-1}return"None"}function sr(n){return n.toLowerCase().replace(/_-\[\]/g,"")}function bs(n,o){return n.Binarizer[o]}function Ts(n,o){return n.CharacterSet[o]}const ws=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function Ss(n){return ws[n.value]}function As(n,o){return n.EanAddOnSymbol[o]}function Os(n,o){return n.TextMode[o]}const It={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function Lr(n,o){return{...o,formats:gs(o.formats),binarizer:bs(n,o.binarizer),eanAddOnSymbol:As(n,o.eanAddOnSymbol),textMode:Os(n,o.textMode),characterSet:Ts(n,o.characterSet)}}function Dr(n){return{...n,format:ys(n.format),eccLevel:n.eccLevel,contentType:Ss(n.contentType)}}const Es={locateFile:(n,o)=>{const a=n.match(/_(.+?)\.wasm$/);return a?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.0.0-rc.4/dist/${a[1]}/${n}`:o+n}};let lr=new WeakMap;function fn(n,o){var a;const l=lr.get(n);if(l!=null&&l.modulePromise&&(o===void 0||Object.is(o,l.moduleOverrides)))return l.modulePromise;const c=(a=o!=null?o:l==null?void 0:l.moduleOverrides)!=null?a:Es,m=n({...c});return lr.set(n,{moduleOverrides:c,modulePromise:m}),m}async function _s(n,o,a=It){const l={...It,...a},c=await fn(n),{size:m}=o,v=new Uint8Array(await o.arrayBuffer()),w=c._malloc(m);c.HEAPU8.set(v,w);const d=c.readBarcodesFromImage(w,m,Lr(c,l));c._free(w);const y=[];for(let h=0;h<d.size();++h)y.push(Dr(d.get(h)));return y}async function Cs(n,o,a=It){const l={...It,...a},c=await fn(n),{data:m,width:v,height:w,data:{byteLength:d}}=o,y=c._malloc(d);c.HEAPU8.set(m,y);const h=c.readBarcodesFromPixmap(y,v,w,Lr(c,l));c._free(y);const g=[];for(let I=0;I<h.size();++I)g.push(Dr(h.get(I)));return g}var mn=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(o={}){var a=o,l,c;a.ready=new Promise((e,t)=>{l=e,c=t});var m=Object.assign({},a),v="./this.program",w=typeof window=="object",d=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var y="";function h(e){return a.locateFile?a.locateFile(e,y):y+e}var g;(w||d)&&(d?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),n&&(y=n),y.indexOf("blob:")!==0?y=y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):y="",d&&(g=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),a.print||console.log.bind(console);var I=a.printErr||console.error.bind(console);Object.assign(a,m),m=null,a.arguments&&a.arguments,a.thisProgram&&(v=a.thisProgram),a.quit&&a.quit;var R;a.wasmBinary&&(R=a.wasmBinary),typeof WebAssembly!="object"&&J("no native wasm support detected");var M,O=!1;function W(e,t){e||J(t)}var G,D,S,L,$,U,C,E;function F(){var e=M.buffer;a.HEAP8=G=new Int8Array(e),a.HEAP16=S=new Int16Array(e),a.HEAPU8=D=new Uint8Array(e),a.HEAPU16=L=new Uint16Array(e),a.HEAP32=$=new Int32Array(e),a.HEAPU32=U=new Uint32Array(e),a.HEAPF32=C=new Float32Array(e),a.HEAPF64=E=new Float64Array(e)}var q=[],le=[],Ae=[];function Oe(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)fe(a.preRun.shift());Ut(q)}function Ne(){Ut(le)}function De(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)tt(a.postRun.shift());Ut(Ae)}function fe(e){q.unshift(e)}function $e(e){le.unshift(e)}function tt(e){Ae.unshift(e)}var ye=0,ce=null;function me(e){ye++,a.monitorRunDependencies&&a.monitorRunDependencies(ye)}function nt(e){if(ye--,a.monitorRunDependencies&&a.monitorRunDependencies(ye),ye==0&&ce){var t=ce;ce=null,t()}}function J(e){a.onAbort&&a.onAbort(e),e="Aborted("+e+")",I(e),O=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw c(t),t}var He="data:application/octet-stream;base64,",pe=e=>e.startsWith(He),be;be="zxing_reader.wasm",pe(be)||(be=h(be));function vt(e){if(e==be&&R)return new Uint8Array(R);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}function Qr(e){return!R&&(w||d)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>vt(e)):Promise.resolve().then(()=>vt(e))}function pn(e,t,r){return Qr(e).then(i=>WebAssembly.instantiate(i,t)).then(i=>i).then(r,i=>{I(`failed to asynchronously prepare wasm: ${i}`),J(i)})}function Zr(e,t,r,i){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!pe(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(s=>{var u=WebAssembly.instantiateStreaming(s,r);return u.then(i,function(f){return I(`wasm streaming compile failed: ${f}`),I("falling back to ArrayBuffer instantiation"),pn(t,r,i)})}):pn(t,r,i)}function Jr(){var e={a:Lo};function t(i,s){return K=i.exports,M=K.fa,F(),_n=K.ja,$e(K.ga),nt(),K}me();function r(i){t(i.instance)}if(a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(i){I(`Module.instantiateWasm callback failed with error: ${i}`),c(i)}return Zr(R,be,e,r).catch(c),{}}var Ut=e=>{for(;e.length>0;)e.shift()(a)};a.noExitRuntime;var ht=[],gt=0,Kr=e=>{var t=new Rt(e);return t.get_caught()||(t.set_caught(!0),gt--),t.set_rethrown(!1),ht.push(t),Hn(t.excPtr),t.get_exception_ptr()},Me=0,Xr=()=>{X(0,0);var e=ht.pop();jn(e.excPtr),Me=0};function Rt(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){U[this.ptr+4>>2]=t},this.get_type=function(){return U[this.ptr+4>>2]},this.set_destructor=function(t){U[this.ptr+8>>2]=t},this.get_destructor=function(){return U[this.ptr+8>>2]},this.set_caught=function(t){t=t?1:0,G[this.ptr+12>>0]=t},this.get_caught=function(){return G[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,G[this.ptr+13>>0]=t},this.get_rethrown=function(){return G[this.ptr+13>>0]!=0},this.init=function(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)},this.set_adjusted_ptr=function(t){U[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return U[this.ptr+16>>2]},this.get_exception_ptr=function(){var t=Gn(this.get_type());if(t)return U[this.excPtr>>2];var r=this.get_adjusted_ptr();return r!==0?r:this.excPtr}}var ea=e=>{throw Me||(Me=e),Me},Ft=e=>{var t=Me;if(!t)return lt(0),0;var r=new Rt(t);r.set_adjusted_ptr(t);var i=r.get_type();if(!i)return lt(0),t;for(var s in e){var u=e[s];if(u===0||u===i)break;var f=r.ptr+16;if(Wn(u,i,f))return lt(u),t}return lt(i),t},ta=()=>Ft([]),na=e=>Ft([e]),ra=(e,t)=>Ft([e,t]),aa=()=>{var e=ht.pop();e||J("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(ht.push(e),e.set_rethrown(!0),e.set_caught(!1),gt++),Me=t,Me},oa=(e,t,r)=>{var i=new Rt(e);throw i.init(t,r),Me=e,gt++,Me},ia=()=>gt,yt={},vn=e=>{for(;e.length;){var t=e.pop(),r=e.pop();r(t)}};function kt(e){return this.fromWireType($[e>>2])}var Qe={},We={},bt={},hn,Tt=e=>{throw new hn(e)},Ge=(e,t,r)=>{e.forEach(function(p){bt[p]=t});function i(p){var b=r(p);b.length!==e.length&&Tt("Mismatched type converter count");for(var A=0;A<e.length;++A)Ee(e[A],b[A])}var s=new Array(t.length),u=[],f=0;t.forEach((p,b)=>{We.hasOwnProperty(p)?s[b]=We[p]:(u.push(p),Qe.hasOwnProperty(p)||(Qe[p]=[]),Qe[p].push(()=>{s[b]=We[p],++f,f===u.length&&i(s)}))}),u.length===0&&i(s)},sa=e=>{var t=yt[e];delete yt[e];var r=t.rawConstructor,i=t.rawDestructor,s=t.fields,u=s.map(f=>f.getterReturnType).concat(s.map(f=>f.setterArgumentType));Ge([e],u,f=>{var p={};return s.forEach((b,A)=>{var P=b.fieldName,k=f[A],V=b.getter,B=b.getterContext,z=f[A+s.length],ie=b.setter,Q=b.setterContext;p[P]={read:se=>k.fromWireType(V(B,se)),write:(se,T)=>{var N=[];ie(Q,se,z.toWireType(N,T)),vn(N)}}}),[{name:t.name,fromWireType:b=>{var A={};for(var P in p)A[P]=p[P].read(b);return i(b),A},toWireType:(b,A)=>{for(var P in p)if(!(P in A))throw new TypeError(`Missing field: "${P}"`);var k=r();for(P in p)p[P].write(k,A[P]);return b!==null&&b.push(i,k),k},argPackAdvance:_e,readValueFromPointer:kt,destructorFunction:i}]})},la=(e,t,r,i,s)=>{},ua=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);gn=e},gn,oe=e=>{for(var t="",r=e;D[r];)t+=gn[D[r++]];return t},Ze,Y=e=>{throw new Ze(e)};function ca(e,t,r={}){var i=t.name;if(e||Y(`type "${i}" must have a positive integer typeid pointer`),We.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;Y(`Cannot register type '${i}' twice`)}if(We[e]=t,delete bt[e],Qe.hasOwnProperty(e)){var s=Qe[e];delete Qe[e],s.forEach(u=>u())}}function Ee(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return ca(e,t,r)}var _e=8,da=(e,t,r,i)=>{t=oe(t),Ee(e,{name:t,fromWireType:function(s){return!!s},toWireType:function(s,u){return u?r:i},argPackAdvance:_e,readValueFromPointer:function(s){return this.fromWireType(D[s])},destructorFunction:null})},fa=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),xt=e=>{function t(r){return r.$$.ptrType.registeredClass.name}Y(t(e)+" instance already deleted")},Vt=!1,yn=e=>{},ma=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},bn=e=>{e.count.value-=1;var t=e.count.value===0;t&&ma(e)},Tn=(e,t,r)=>{if(t===r)return e;if(r.baseClass===void 0)return null;var i=Tn(e,t,r.baseClass);return i===null?null:r.downcast(i)},wn={},pa=()=>Object.keys(ot).length,va=()=>{var e=[];for(var t in ot)ot.hasOwnProperty(t)&&e.push(ot[t]);return e},rt=[],jt=()=>{for(;rt.length;){var e=rt.pop();e.$$.deleteScheduled=!1,e.delete()}},at,ha=e=>{at=e,rt.length&&at&&at(jt)},ga=()=>{a.getInheritedInstanceCount=pa,a.getLiveInheritedInstances=va,a.flushPendingDeletes=jt,a.setDelayFunction=ha},ot={},ya=(e,t)=>{for(t===void 0&&Y("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},ba=(e,t)=>(t=ya(e,t),ot[t]),wt=(e,t)=>{(!t.ptrType||!t.ptr)&&Tt("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,i=!!t.smartPtr;return r!==i&&Tt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},it(Object.create(e,{$$:{value:t}}))};function Ta(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=ba(this.registeredClass,t);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var i=r.clone();return this.destructor(e),i}function s(){return this.isSmartPointer?wt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):wt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var u=this.registeredClass.getActualType(t),f=wn[u];if(!f)return s.call(this);var p;this.isConst?p=f.constPointerType:p=f.pointerType;var b=Tn(t,this.registeredClass,p.registeredClass);return b===null?s.call(this):this.isSmartPointer?wt(p.registeredClass.instancePrototype,{ptrType:p,ptr:b,smartPtrType:this,smartPtr:e}):wt(p.registeredClass.instancePrototype,{ptrType:p,ptr:b})}var it=e=>typeof FinalizationRegistry>"u"?(it=t=>t,e):(Vt=new FinalizationRegistry(t=>{bn(t.$$)}),it=t=>{var r=t.$$,i=!!r.smartPtr;if(i){var s={$$:r};Vt.register(t,s,t)}return t},yn=t=>Vt.unregister(t),it(e)),wa=()=>{Object.assign(St.prototype,{isAliasOf(e){if(!(this instanceof St)||!(e instanceof St))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var i=e.$$.ptrType.registeredClass,s=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;i.baseClass;)s=i.upcast(s),i=i.baseClass;return t===i&&r===s},clone(){if(this.$$.ptr||xt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=it(Object.create(Object.getPrototypeOf(this),{$$:{value:fa(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||xt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Y("Object already scheduled for deletion"),yn(this),bn(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||xt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Y("Object already scheduled for deletion"),rt.push(this),rt.length===1&&at&&at(jt),this.$$.deleteScheduled=!0,this}})};function St(){}var Sa=48,Aa=57,Sn=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=Sa&&t<=Aa?`_${e}`:e};function Ht(e,t){return e=Sn(e),{[e]:function(){return t.apply(this,arguments)}}[e]}var An=(e,t,r)=>{if(e[t].overloadTable===void 0){var i=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||Y(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[i.argCount]=i}},Wt=(e,t,r)=>{a.hasOwnProperty(e)?((r===void 0||a[e].overloadTable!==void 0&&a[e].overloadTable[r]!==void 0)&&Y(`Cannot register public name '${e}' twice`),An(a,e,e),a.hasOwnProperty(r)&&Y(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),a[e].overloadTable[r]=t):(a[e]=t,r!==void 0&&(a[e].numArguments=r))};function Oa(e,t,r,i,s,u,f,p){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=i,this.baseClass=s,this.getActualType=u,this.upcast=f,this.downcast=p,this.pureVirtualFunctions=[]}var Gt=(e,t,r)=>{for(;t!==r;)t.upcast||Y(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Ea(e,t){if(t===null)return this.isReference&&Y(`null is not a valid ${this.name}`),0;t.$$||Y(`Cannot pass "${zt(t)}" as a ${this.name}`),t.$$.ptr||Y(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,i=Gt(t.$$.ptr,r,this.registeredClass);return i}function _a(e,t){var r;if(t===null)return this.isReference&&Y(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,r),r):0;t.$$||Y(`Cannot pass "${zt(t)}" as a ${this.name}`),t.$$.ptr||Y(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&Y(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var i=t.$$.ptrType.registeredClass;if(r=Gt(t.$$.ptr,i,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&Y("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:Y(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var s=t.clone();r=this.rawShare(r,Ue.toHandle(()=>s.delete())),e!==null&&e.push(this.rawDestructor,r)}break;default:Y("Unsupporting sharing policy")}return r}function Ca(e,t){if(t===null)return this.isReference&&Y(`null is not a valid ${this.name}`),0;t.$$||Y(`Cannot pass "${zt(t)}" as a ${this.name}`),t.$$.ptr||Y(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&Y(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,i=Gt(t.$$.ptr,r,this.registeredClass);return i}function On(e){return this.fromWireType(U[e>>2])}var Pa=()=>{Object.assign(At.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor&&this.rawDestructor(e)},argPackAdvance:_e,readValueFromPointer:On,deleteObject(e){e!==null&&e.delete()},fromWireType:Ta})};function At(e,t,r,i,s,u,f,p,b,A,P){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=i,this.isSmartPointer=s,this.pointeeType=u,this.sharingPolicy=f,this.rawGetPointee=p,this.rawConstructor=b,this.rawShare=A,this.rawDestructor=P,!s&&t.baseClass===void 0?i?(this.toWireType=Ea,this.destructorFunction=null):(this.toWireType=Ca,this.destructorFunction=null):this.toWireType=_a}var En=(e,t,r)=>{a.hasOwnProperty(e)||Tt("Replacing nonexistant public symbol"),a[e].overloadTable!==void 0&&r!==void 0?a[e].overloadTable[r]=t:(a[e]=t,a[e].argCount=r)},Na=(e,t,r)=>{var i=a["dynCall_"+e];return r&&r.length?i.apply(null,[t].concat(r)):i.call(null,t)},Ot=[],_n,ee=e=>{var t=Ot[e];return t||(e>=Ot.length&&(Ot.length=e+1),Ot[e]=t=_n.get(e)),t},Ma=(e,t,r)=>{if(e.includes("j"))return Na(e,t,r);var i=ee(t).apply(null,r);return i},Ia=(e,t)=>{var r=[];return function(){return r.length=0,Object.assign(r,arguments),Ma(e,t,r)}},Te=(e,t)=>{e=oe(e);function r(){return e.includes("j")?Ia(e,t):ee(t)}var i=r();return typeof i!="function"&&Y(`unknown function pointer with signature ${e}: ${t}`),i},La=(e,t)=>{var r=Ht(t,function(i){this.name=t,this.message=i;var s=new Error(i).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r},Cn,Pn=e=>{var t=Vn(e),r=oe(t);return Ie(t),r},Et=(e,t)=>{var r=[],i={};function s(u){if(!i[u]&&!We[u]){if(bt[u]){bt[u].forEach(s);return}r.push(u),i[u]=!0}}throw t.forEach(s),new Cn(`${e}: `+r.map(Pn).join([", "]))},Da=(e,t,r,i,s,u,f,p,b,A,P,k,V)=>{P=oe(P),u=Te(s,u),p&&(p=Te(f,p)),A&&(A=Te(b,A)),V=Te(k,V);var B=Sn(P);Wt(B,function(){Et(`Cannot construct ${P} due to unbound types`,[i])}),Ge([e,t,r],i?[i]:[],function(z){z=z[0];var ie,Q;i?(ie=z.registeredClass,Q=ie.instancePrototype):Q=St.prototype;var se=Ht(B,function(){if(Object.getPrototypeOf(this)!==T)throw new Ze("Use 'new' to construct "+P);if(N.constructor_body===void 0)throw new Ze(P+" has no accessible constructor");var Pt=N.constructor_body[arguments.length];if(Pt===void 0)throw new Ze(`Tried to invoke ctor of ${P} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(N.constructor_body).toString()}) parameters instead!`);return Pt.apply(this,arguments)}),T=Object.create(Q,{constructor:{value:se}});se.prototype=T;var N=new Oa(P,se,T,V,ie,u,p,A);N.baseClass&&(N.baseClass.__derivedClasses===void 0&&(N.baseClass.__derivedClasses=[]),N.baseClass.__derivedClasses.push(N));var re=new At(P,N,!0,!1,!1),ae=new At(P+"*",N,!1,!1,!1),Be=new At(P+" const*",N,!1,!0,!1);return wn[e]={pointerType:ae,constPointerType:Be},En(B,se),[re,ae,Be]})},Bt=(e,t)=>{for(var r=[],i=0;i<e;i++)r.push(U[t+i*4>>2]);return r};function Yt(e,t,r,i,s,u){var f=t.length;f<2&&Y("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var p=t[1]!==null&&r!==null,b=!1,A=1;A<t.length;++A)if(t[A]!==null&&t[A].destructorFunction===void 0){b=!0;break}var P=t[0].name!=="void",k=f-2,V=new Array(k),B=[],z=[];return function(){arguments.length!==k&&Y(`function ${e} called with ${arguments.length} arguments, expected ${k}`),z.length=0;var ie;B.length=p?2:1,B[0]=s,p&&(ie=t[1].toWireType(z,this),B[1]=ie);for(var Q=0;Q<k;++Q)V[Q]=t[Q+2].toWireType(z,arguments[Q]),B.push(V[Q]);var se=i.apply(null,B);function T(N){if(b)vn(z);else for(var re=p?1:2;re<t.length;re++){var ae=re===1?ie:V[re-2];t[re].destructorFunction!==null&&t[re].destructorFunction(ae)}if(P)return t[0].fromWireType(N)}return T(se)}}var $a=(e,t,r,i,s,u)=>{var f=Bt(t,r);s=Te(i,s),Ge([],[e],function(p){p=p[0];var b=`constructor ${p.name}`;if(p.registeredClass.constructor_body===void 0&&(p.registeredClass.constructor_body=[]),p.registeredClass.constructor_body[t-1]!==void 0)throw new Ze(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${p.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return p.registeredClass.constructor_body[t-1]=()=>{Et(`Cannot construct ${p.name} due to unbound types`,f)},Ge([],f,A=>(A.splice(1,0,null),p.registeredClass.constructor_body[t-1]=Yt(b,A,null,s,u),[])),[]})},Nn=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?(W(e[e.length-1]==")","Parentheses for argument names should match."),e.substr(0,t)):e},Ua=(e,t,r,i,s,u,f,p,b)=>{var A=Bt(r,i);t=oe(t),t=Nn(t),u=Te(s,u),Ge([],[e],function(P){P=P[0];var k=`${P.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),p&&P.registeredClass.pureVirtualFunctions.push(t);function V(){Et(`Cannot call ${k} due to unbound types`,A)}var B=P.registeredClass.instancePrototype,z=B[t];return z===void 0||z.overloadTable===void 0&&z.className!==P.name&&z.argCount===r-2?(V.argCount=r-2,V.className=P.name,B[t]=V):(An(B,t,k),B[t].overloadTable[r-2]=V),Ge([],A,function(ie){var Q=Yt(k,ie,P,u,f);return B[t].overloadTable===void 0?(Q.argCount=r-2,B[t]=Q):B[t].overloadTable[r-2]=Q,[]}),[]})};function Ra(){Object.assign(Mn.prototype,{get(e){return this.allocated[e]},has(e){return this.allocated[e]!==void 0},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}})}function Mn(){this.allocated=[void 0],this.freelist=[]}var ve=new Mn,In=e=>{e>=ve.reserved&&--ve.get(e).refcount===0&&ve.free(e)},Fa=()=>{for(var e=0,t=ve.reserved;t<ve.allocated.length;++t)ve.allocated[t]!==void 0&&++e;return e},ka=()=>{ve.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),ve.reserved=ve.allocated.length,a.count_emval_handles=Fa},Ue={toValue:e=>(e||Y("Cannot use deleted val. handle = "+e),ve.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ve.allocate({refcount:1,value:e})}}},xa=(e,t)=>{t=oe(t),Ee(e,{name:t,fromWireType:r=>{var i=Ue.toValue(r);return In(r),i},toWireType:(r,i)=>Ue.toHandle(i),argPackAdvance:_e,readValueFromPointer:kt,destructorFunction:null})},Va=(e,t,r)=>{switch(t){case 1:return r?function(i){return this.fromWireType(G[i>>0])}:function(i){return this.fromWireType(D[i>>0])};case 2:return r?function(i){return this.fromWireType(S[i>>1])}:function(i){return this.fromWireType(L[i>>1])};case 4:return r?function(i){return this.fromWireType($[i>>2])}:function(i){return this.fromWireType(U[i>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},ja=(e,t,r,i)=>{t=oe(t);function s(){}s.values={},Ee(e,{name:t,constructor:s,fromWireType:function(u){return this.constructor.values[u]},toWireType:(u,f)=>f.value,argPackAdvance:_e,readValueFromPointer:Va(t,r,i),destructorFunction:null}),Wt(t,s)},qt=(e,t)=>{var r=We[e];return r===void 0&&Y(t+" has unknown type "+Pn(e)),r},Ha=(e,t,r)=>{var i=qt(e,"enum");t=oe(t);var s=i.constructor,u=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:Ht(`${i.name}_${t}`,function(){})}});s.values[r]=u,s[t]=u},zt=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},Wa=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(C[r>>2])};case 8:return function(r){return this.fromWireType(E[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},Ga=(e,t,r)=>{t=oe(t),Ee(e,{name:t,fromWireType:i=>i,toWireType:(i,s)=>s,argPackAdvance:_e,readValueFromPointer:Wa(t,r),destructorFunction:null})},Ba=(e,t,r,i,s,u,f)=>{var p=Bt(t,r);e=oe(e),e=Nn(e),s=Te(i,s),Wt(e,function(){Et(`Cannot call ${e} due to unbound types`,p)},t-1),Ge([],p,function(b){var A=[b[0],null].concat(b.slice(1));return En(e,Yt(e,A,null,s,u),t-1),[]})},Ya=(e,t,r)=>{switch(t){case 1:return r?i=>G[i>>0]:i=>D[i>>0];case 2:return r?i=>S[i>>1]:i=>L[i>>1];case 4:return r?i=>$[i>>2]:i=>U[i>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},qa=(e,t,r,i,s)=>{t=oe(t);var u=P=>P;if(i===0){var f=32-8*r;u=P=>P<<f>>>f}var p=t.includes("unsigned"),b=(P,k)=>{},A;p?A=function(P,k){return b(k,this.name),k>>>0}:A=function(P,k){return b(k,this.name),k},Ee(e,{name:t,fromWireType:u,toWireType:A,argPackAdvance:_e,readValueFromPointer:Ya(t,r,i!==0),destructorFunction:null})},za=(e,t,r)=>{var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=i[t];function u(f){var p=U[f>>2],b=U[f+4>>2];return new s(G.buffer,b,p)}r=oe(r),Ee(e,{name:r,fromWireType:u,argPackAdvance:_e,readValueFromPointer:u},{ignoreDuplicateRegistrations:!0})},Ln=(e,t,r,i)=>{if(!(i>0))return 0;for(var s=r,u=r+i-1,f=0;f<e.length;++f){var p=e.charCodeAt(f);if(p>=55296&&p<=57343){var b=e.charCodeAt(++f);p=65536+((p&1023)<<10)|b&1023}if(p<=127){if(r>=u)break;t[r++]=p}else if(p<=2047){if(r+1>=u)break;t[r++]=192|p>>6,t[r++]=128|p&63}else if(p<=65535){if(r+2>=u)break;t[r++]=224|p>>12,t[r++]=128|p>>6&63,t[r++]=128|p&63}else{if(r+3>=u)break;t[r++]=240|p>>18,t[r++]=128|p>>12&63,t[r++]=128|p>>6&63,t[r++]=128|p&63}}return t[r]=0,r-s},Qa=(e,t,r)=>Ln(e,D,t,r),Dn=e=>{for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++r):t+=3}return t},$n=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Za=(e,t,r)=>{for(var i=t+r,s=t;e[s]&&!(s>=i);)++s;if(s-t>16&&e.buffer&&$n)return $n.decode(e.subarray(t,s));for(var u="";t<s;){var f=e[t++];if(!(f&128)){u+=String.fromCharCode(f);continue}var p=e[t++]&63;if((f&224)==192){u+=String.fromCharCode((f&31)<<6|p);continue}var b=e[t++]&63;if((f&240)==224?f=(f&15)<<12|p<<6|b:f=(f&7)<<18|p<<12|b<<6|e[t++]&63,f<65536)u+=String.fromCharCode(f);else{var A=f-65536;u+=String.fromCharCode(55296|A>>10,56320|A&1023)}}return u},Qt=(e,t)=>e?Za(D,e,t):"",Ja=(e,t)=>{t=oe(t);var r=t==="std::string";Ee(e,{name:t,fromWireType(i){var s=U[i>>2],u=i+4,f;if(r)for(var p=u,b=0;b<=s;++b){var A=u+b;if(b==s||D[A]==0){var P=A-p,k=Qt(p,P);f===void 0?f=k:(f+=String.fromCharCode(0),f+=k),p=A+1}}else{for(var V=new Array(s),b=0;b<s;++b)V[b]=String.fromCharCode(D[u+b]);f=V.join("")}return Ie(i),f},toWireType(i,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var u,f=typeof s=="string";f||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||Y("Cannot pass non-string to std::string"),r&&f?u=Dn(s):u=s.length;var p=Jt(4+u+1),b=p+4;if(U[p>>2]=u,r&&f)Qa(s,b,u+1);else if(f)for(var A=0;A<u;++A){var P=s.charCodeAt(A);P>255&&(Ie(b),Y("String has UTF-16 code units that do not fit in 8 bits")),D[b+A]=P}else for(var A=0;A<u;++A)D[b+A]=s[A];return i!==null&&i.push(Ie,p),p},argPackAdvance:_e,readValueFromPointer:On,destructorFunction(i){Ie(i)}})},Un=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ka=(e,t)=>{for(var r=e,i=r>>1,s=i+t/2;!(i>=s)&&L[i];)++i;if(r=i<<1,r-e>32&&Un)return Un.decode(D.subarray(e,r));for(var u="",f=0;!(f>=t/2);++f){var p=S[e+f*2>>1];if(p==0)break;u+=String.fromCharCode(p)}return u},Xa=(e,t,r)=>{if(r===void 0&&(r=2147483647),r<2)return 0;r-=2;for(var i=t,s=r<e.length*2?r/2:e.length,u=0;u<s;++u){var f=e.charCodeAt(u);S[t>>1]=f,t+=2}return S[t>>1]=0,t-i},eo=e=>e.length*2,to=(e,t)=>{for(var r=0,i="";!(r>=t/4);){var s=$[e+r*4>>2];if(s==0)break;if(++r,s>=65536){var u=s-65536;i+=String.fromCharCode(55296|u>>10,56320|u&1023)}else i+=String.fromCharCode(s)}return i},no=(e,t,r)=>{if(r===void 0&&(r=2147483647),r<4)return 0;for(var i=t,s=i+r-4,u=0;u<e.length;++u){var f=e.charCodeAt(u);if(f>=55296&&f<=57343){var p=e.charCodeAt(++u);f=65536+((f&1023)<<10)|p&1023}if($[t>>2]=f,t+=4,t+4>s)break}return $[t>>2]=0,t-i},ro=e=>{for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=55296&&i<=57343&&++r,t+=4}return t},ao=(e,t,r)=>{r=oe(r);var i,s,u,f,p;t===2?(i=Ka,s=Xa,f=eo,u=()=>L,p=1):t===4&&(i=to,s=no,f=ro,u=()=>U,p=2),Ee(e,{name:r,fromWireType:b=>{for(var A=U[b>>2],P=u(),k,V=b+4,B=0;B<=A;++B){var z=b+4+B*t;if(B==A||P[z>>p]==0){var ie=z-V,Q=i(V,ie);k===void 0?k=Q:(k+=String.fromCharCode(0),k+=Q),V=z+t}}return Ie(b),k},toWireType:(b,A)=>{typeof A!="string"&&Y(`Cannot pass non-string to C++ string type ${r}`);var P=f(A),k=Jt(4+P+t);return U[k>>2]=P>>p,s(A,k+4,P+t),b!==null&&b.push(Ie,k),k},argPackAdvance:_e,readValueFromPointer:kt,destructorFunction(b){Ie(b)}})},oo=(e,t,r,i,s,u)=>{yt[e]={name:oe(t),rawConstructor:Te(r,i),rawDestructor:Te(s,u),fields:[]}},io=(e,t,r,i,s,u,f,p,b,A)=>{yt[e].fields.push({fieldName:oe(t),getterReturnType:r,getter:Te(i,s),getterContext:u,setterArgumentType:f,setter:Te(p,b),setterContext:A})},so=(e,t)=>{t=oe(t),Ee(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(r,i)=>{}})},lo={},uo=e=>{var t=lo[e];return t===void 0?oe(e):t},Rn=()=>{if(typeof globalThis=="object")return globalThis;function e(t){t.$$$embind_global$$$=t;var r=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return r||delete t.$$$embind_global$$$,r}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},co=e=>e===0?Ue.toHandle(Rn()):(e=uo(e),Ue.toHandle(Rn()[e])),fo=e=>{e>4&&(ve.get(e).refcount+=1)},mo=e=>{var t=new Array(e+1);return function(r,i,s){t[0]=r;for(var u=0;u<e;++u){var f=qt(U[i+u*4>>2],"parameter "+u);t[u+1]=f.readValueFromPointer(s),s+=f.argPackAdvance}var p=new(r.bind.apply(r,t));return Ue.toHandle(p)}},Fn={},po=(e,t,r,i)=>{e=Ue.toValue(e);var s=Fn[t];return s||(s=mo(t),Fn[t]=s),s(e,r,i)},vo=(e,t)=>{e=qt(e,"_emval_take_value");var r=e.readValueFromPointer(t);return Ue.toHandle(r)},ho=()=>{J("")},go=(e,t,r)=>D.copyWithin(e,t,t+r),yo=()=>2147483648,bo=e=>{var t=M.buffer,r=(e-t.byteLength+65535)/65536;try{return M.grow(r),F(),1}catch{}},To=e=>{var t=D.length;e>>>=0;var r=yo();if(e>r)return!1;for(var i=(b,A)=>b+(A-b%A)%A,s=1;s<=4;s*=2){var u=t*(1+.2/s);u=Math.min(u,e+100663296);var f=Math.min(r,i(Math.max(e,u),65536)),p=bo(f);if(p)return!0}return!1},Zt={},wo=()=>v||"./this.program",st=()=>{if(!st.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:wo()};for(var r in Zt)Zt[r]===void 0?delete t[r]:t[r]=Zt[r];var i=[];for(var r in t)i.push(`${r}=${t[r]}`);st.strings=i}return st.strings},So=(e,t)=>{for(var r=0;r<e.length;++r)G[t++>>0]=e.charCodeAt(r);G[t>>0]=0},Ao=(e,t)=>{var r=0;return st().forEach((i,s)=>{var u=t+r;U[e+s*4>>2]=u,So(i,u),r+=i.length+1}),0},Oo=(e,t)=>{var r=st();U[e>>2]=r.length;var i=0;return r.forEach(s=>i+=s.length+1),U[t>>2]=i,0},Eo=e=>e,_t=e=>e%4===0&&(e%100!==0||e%400===0),_o=(e,t)=>{for(var r=0,i=0;i<=t;r+=e[i++]);return r},kn=[31,29,31,30,31,30,31,31,30,31,30,31],xn=[31,28,31,30,31,30,31,31,30,31,30,31],Co=(e,t)=>{for(var r=new Date(e.getTime());t>0;){var i=_t(r.getFullYear()),s=r.getMonth(),u=(i?kn:xn)[s];if(t>u-r.getDate())t-=u-r.getDate()+1,r.setDate(1),s<11?r.setMonth(s+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1));else return r.setDate(r.getDate()+t),r}return r};function Po(e,t,r){var i=r>0?r:Dn(e)+1,s=new Array(i),u=Ln(e,s,0,s.length);return t&&(s.length=u),s}var No=(e,t)=>{G.set(e,t)},Mo=(e,t,r,i)=>{var s=U[i+40>>2],u={tm_sec:$[i>>2],tm_min:$[i+4>>2],tm_hour:$[i+8>>2],tm_mday:$[i+12>>2],tm_mon:$[i+16>>2],tm_year:$[i+20>>2],tm_wday:$[i+24>>2],tm_yday:$[i+28>>2],tm_isdst:$[i+32>>2],tm_gmtoff:$[i+36>>2],tm_zone:s?Qt(s):""},f=Qt(r),p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var b in p)f=f.replace(new RegExp(b,"g"),p[b]);var A=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],P=["January","February","March","April","May","June","July","August","September","October","November","December"];function k(T,N,re){for(var ae=typeof T=="number"?T.toString():T||"";ae.length<N;)ae=re[0]+ae;return ae}function V(T,N){return k(T,N,"0")}function B(T,N){function re(Be){return Be<0?-1:Be>0?1:0}var ae;return(ae=re(T.getFullYear()-N.getFullYear()))===0&&(ae=re(T.getMonth()-N.getMonth()))===0&&(ae=re(T.getDate()-N.getDate())),ae}function z(T){switch(T.getDay()){case 0:return new Date(T.getFullYear()-1,11,29);case 1:return T;case 2:return new Date(T.getFullYear(),0,3);case 3:return new Date(T.getFullYear(),0,2);case 4:return new Date(T.getFullYear(),0,1);case 5:return new Date(T.getFullYear()-1,11,31);case 6:return new Date(T.getFullYear()-1,11,30)}}function ie(T){var N=Co(new Date(T.tm_year+1900,0,1),T.tm_yday),re=new Date(N.getFullYear(),0,4),ae=new Date(N.getFullYear()+1,0,4),Be=z(re),Pt=z(ae);return B(Be,N)<=0?B(Pt,N)<=0?N.getFullYear()+1:N.getFullYear():N.getFullYear()-1}var Q={"%a":T=>A[T.tm_wday].substring(0,3),"%A":T=>A[T.tm_wday],"%b":T=>P[T.tm_mon].substring(0,3),"%B":T=>P[T.tm_mon],"%C":T=>{var N=T.tm_year+1900;return V(N/100|0,2)},"%d":T=>V(T.tm_mday,2),"%e":T=>k(T.tm_mday,2," "),"%g":T=>ie(T).toString().substring(2),"%G":T=>ie(T),"%H":T=>V(T.tm_hour,2),"%I":T=>{var N=T.tm_hour;return N==0?N=12:N>12&&(N-=12),V(N,2)},"%j":T=>V(T.tm_mday+_o(_t(T.tm_year+1900)?kn:xn,T.tm_mon-1),3),"%m":T=>V(T.tm_mon+1,2),"%M":T=>V(T.tm_min,2),"%n":()=>`
`,"%p":T=>T.tm_hour>=0&&T.tm_hour<12?"AM":"PM","%S":T=>V(T.tm_sec,2),"%t":()=>"	","%u":T=>T.tm_wday||7,"%U":T=>{var N=T.tm_yday+7-T.tm_wday;return V(Math.floor(N/7),2)},"%V":T=>{var N=Math.floor((T.tm_yday+7-(T.tm_wday+6)%7)/7);if((T.tm_wday+371-T.tm_yday-2)%7<=2&&N++,N){if(N==53){var re=(T.tm_wday+371-T.tm_yday)%7;re!=4&&(re!=3||!_t(T.tm_year))&&(N=1)}}else{N=52;var ae=(T.tm_wday+7-T.tm_yday-1)%7;(ae==4||ae==5&&_t(T.tm_year%400-1))&&N++}return V(N,2)},"%w":T=>T.tm_wday,"%W":T=>{var N=T.tm_yday+7-(T.tm_wday+6)%7;return V(Math.floor(N/7),2)},"%y":T=>(T.tm_year+1900).toString().substring(2),"%Y":T=>T.tm_year+1900,"%z":T=>{var N=T.tm_gmtoff,re=N>=0;return N=Math.abs(N)/60,N=N/60*100+N%60,(re?"+":"-")+("0000"+N).slice(-4)},"%Z":T=>T.tm_zone,"%%":()=>"%"};f=f.replace(/%%/g,"\0\0");for(var b in Q)f.includes(b)&&(f=f.replace(new RegExp(b,"g"),Q[b](u)));f=f.replace(/\0\0/g,"%");var se=Po(f,!1);return se.length>t?0:(No(se,e),se.length-1)},Io=(e,t,r,i,s)=>Mo(e,t,r,i);hn=a.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},ua(),Ze=a.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},wa(),ga(),Pa(),Cn=a.UnboundTypeError=La(Error,"UnboundTypeError"),Ra(),ka();var Lo={s:Kr,v:Xr,b:ta,g:na,q:ra,I:aa,f:oa,T:ia,d:ea,ba:sa,P:la,Y:da,aa:Da,$:$a,w:Ua,X:xa,x:ja,h:Ha,K:Ga,L:Ba,t:qa,n:za,J:Ja,C:ao,A:oo,ca:io,Z:so,ea:In,da:co,M:fo,V:po,_:vo,B:ho,W:go,U:To,R:Ao,S:Oo,D:qo,E:Yo,m:zo,a:Do,e:Fo,o:Vo,k:Ro,G:Go,u:Ho,F:Bo,z:Zo,O:Ko,l:ko,j:xo,c:Uo,p:$o,H:Wo,r:Qo,i:jo,y:Jo,N:Eo,Q:Io},K=Jr(),Ie=a._free=e=>(Ie=a._free=K.ha)(e),Jt=a._malloc=e=>(Jt=a._malloc=K.ia)(e),Vn=e=>(Vn=K.ka)(e);a.__embind_initialize_bindings=()=>(a.__embind_initialize_bindings=K.la)();var X=(e,t)=>(X=K.ma)(e,t),lt=e=>(lt=K.na)(e),te=()=>(te=K.oa)(),ne=e=>(ne=K.pa)(e),jn=e=>(jn=K.qa)(e),Hn=e=>(Hn=K.ra)(e),Wn=(e,t,r)=>(Wn=K.sa)(e,t,r),Gn=e=>(Gn=K.ta)(e);a.dynCall_viijii=(e,t,r,i,s,u,f)=>(a.dynCall_viijii=K.ua)(e,t,r,i,s,u,f);var Bn=a.dynCall_jiiii=(e,t,r,i,s)=>(Bn=a.dynCall_jiiii=K.va)(e,t,r,i,s);a.dynCall_iiiiij=(e,t,r,i,s,u,f)=>(a.dynCall_iiiiij=K.wa)(e,t,r,i,s,u,f),a.dynCall_iiiiijj=(e,t,r,i,s,u,f,p,b)=>(a.dynCall_iiiiijj=K.xa)(e,t,r,i,s,u,f,p,b),a.dynCall_iiiiiijj=(e,t,r,i,s,u,f,p,b,A)=>(a.dynCall_iiiiiijj=K.ya)(e,t,r,i,s,u,f,p,b,A);function Do(e,t){var r=te();try{return ee(e)(t)}catch(i){if(ne(r),i!==i+0)throw i;X(1,0)}}function $o(e,t,r,i){var s=te();try{ee(e)(t,r,i)}catch(u){if(ne(s),u!==u+0)throw u;X(1,0)}}function Uo(e,t,r){var i=te();try{ee(e)(t,r)}catch(s){if(ne(i),s!==s+0)throw s;X(1,0)}}function Ro(e,t,r,i,s){var u=te();try{return ee(e)(t,r,i,s)}catch(f){if(ne(u),f!==f+0)throw f;X(1,0)}}function Fo(e,t,r){var i=te();try{return ee(e)(t,r)}catch(s){if(ne(i),s!==s+0)throw s;X(1,0)}}function ko(e){var t=te();try{ee(e)()}catch(r){if(ne(t),r!==r+0)throw r;X(1,0)}}function xo(e,t){var r=te();try{ee(e)(t)}catch(i){if(ne(r),i!==i+0)throw i;X(1,0)}}function Vo(e,t,r,i){var s=te();try{return ee(e)(t,r,i)}catch(u){if(ne(s),u!==u+0)throw u;X(1,0)}}function jo(e,t,r,i,s,u,f,p,b,A,P){var k=te();try{ee(e)(t,r,i,s,u,f,p,b,A,P)}catch(V){if(ne(k),V!==V+0)throw V;X(1,0)}}function Ho(e,t,r,i,s,u,f){var p=te();try{return ee(e)(t,r,i,s,u,f)}catch(b){if(ne(p),b!==b+0)throw b;X(1,0)}}function Wo(e,t,r,i,s){var u=te();try{ee(e)(t,r,i,s)}catch(f){if(ne(u),f!==f+0)throw f;X(1,0)}}function Go(e,t,r,i,s,u){var f=te();try{return ee(e)(t,r,i,s,u)}catch(p){if(ne(f),p!==p+0)throw p;X(1,0)}}function Bo(e,t,r,i,s,u,f,p){var b=te();try{return ee(e)(t,r,i,s,u,f,p)}catch(A){if(ne(b),A!==A+0)throw A;X(1,0)}}function Yo(e,t,r,i){var s=te();try{return ee(e)(t,r,i)}catch(u){if(ne(s),u!==u+0)throw u;X(1,0)}}function qo(e,t,r,i){var s=te();try{return ee(e)(t,r,i)}catch(u){if(ne(s),u!==u+0)throw u;X(1,0)}}function zo(e){var t=te();try{return ee(e)()}catch(r){if(ne(t),r!==r+0)throw r;X(1,0)}}function Qo(e,t,r,i,s,u,f,p){var b=te();try{ee(e)(t,r,i,s,u,f,p)}catch(A){if(ne(b),A!==A+0)throw A;X(1,0)}}function Zo(e,t,r,i,s,u,f,p,b,A,P,k){var V=te();try{return ee(e)(t,r,i,s,u,f,p,b,A,P,k)}catch(B){if(ne(V),B!==B+0)throw B;X(1,0)}}function Jo(e,t,r,i,s,u,f,p,b,A,P,k,V,B,z,ie){var Q=te();try{ee(e)(t,r,i,s,u,f,p,b,A,P,k,V,B,z,ie)}catch(se){if(ne(Q),se!==se+0)throw se;X(1,0)}}function Ko(e,t,r,i,s){var u=te();try{return Bn(e,t,r,i,s)}catch(f){if(ne(u),f!==f+0)throw f;X(1,0)}}var Ct;ce=function e(){Ct||Yn(),Ct||(ce=e)};function Yn(){if(ye>0||(Oe(),ye>0))return;function e(){Ct||(Ct=!0,a.calledRun=!0,!O&&(Ne(),l(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),De()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),e()},1)):e()}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Yn(),o.ready}})();function Ps(n){return fn(mn,n)}async function Ns(n,o){return _s(mn,n,o)}async function Ms(n,o){return Cs(mn,n,o)}const an=new Map([["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["data_matrix","DataMatrix"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["pdf417","PDF417"],["qr_code","QRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"]]);function Is(n){for(const[o,a]of an)if(n===a)return o;return"unknown"}var ut;class $r extends EventTarget{constructor(o={}){var a;super(),as(this,ut,void 0);try{const l=(a=o==null?void 0:o.formats)==null?void 0:a.filter(c=>c!=="unknown");if((l==null?void 0:l.length)===0)throw new TypeError("Hint option provided, but is empty.");l==null||l.forEach(c=>{if(!ar.includes(c))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${c}' is not a valid enum value of type BarcodeFormat.`)}),os(this,ut,l!=null?l:[]),Ps().then(c=>{this.dispatchEvent(new CustomEvent("load",{detail:c}))}).catch(c=>{this.dispatchEvent(new CustomEvent("error",{detail:c}))})}catch(l){throw or(l,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return ar.filter(o=>o!=="unknown")}async detect(o){try{const a=await ds(o);if(a===null)return[];let l;try{Mr(a)?l=await Ns(a,{tryHarder:!0,formats:rr(this,ut).map(c=>an.get(c))}):l=await Ms(a,{tryHarder:!0,formats:rr(this,ut).map(c=>an.get(c))})}catch(c){throw console.error(c),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return l.map(c=>{const{topLeft:{x:m,y:v},topRight:{x:w,y:d},bottomLeft:{x:y,y:h},bottomRight:{x:g,y:I}}=c.position,R=Math.min(m,w,y,g),M=Math.min(v,d,h,I),O=Math.max(m,w,y,g),W=Math.max(v,d,h,I);return{boundingBox:new DOMRectReadOnly(R,M,O-R,W-M),rawValue:c.text,format:Is(c.format),cornerPoints:[{x:m,y:v},{x:w,y:d},{x:g,y:I},{x:y,y:h}]}})}catch(a){throw or(a,"Failed to execute 'detect' on 'BarcodeDetector'")}}}ut=new WeakMap;const Ur=(n,o,a="error")=>{let l,c;const m=new Promise((v,w)=>{l=v,c=w,n.addEventListener(o,l),n.addEventListener(a,c)});return m.finally(()=>{n.removeEventListener(o,l),n.removeEventListener(a,c)}),m},ur=n=>new Promise(o=>setTimeout(o,n));class Rr extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class Ls extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class Ds extends Error{constructor(){super("Loading camera stream timed out after 3 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let on;const $s=n=>{on=new $r({formats:n})},Us=async(n,{detectHandler:o,locateHandler:a,minDelay:l,formats:c})=>{on=new $r({formats:c});const m=v=>async w=>{if(n.readyState>1){const{lastScanned:d,contentBefore:y,lastScanHadContent:h}=v;if(w-d<l)window.requestAnimationFrame(m(v));else{const g=await on.detect(n),I=g.some(O=>!y.includes(O.rawValue));I&&o(g);const R=g.length>0;R&&a(g),!R&&h&&a(g);const M={lastScanned:w,lastScanHadContent:R,contentBefore:I?g.map(O=>O.rawValue):y};window.requestAnimationFrame(m(M))}}};m({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var Fr={},de={};Object.defineProperty(de,"__esModule",{value:!0});de.compactObject=Vr;de.deprecated=Gs;var Rs=de.detectBrowser=Bs;de.disableLog=js;de.disableWarnings=Hs;de.extractVersion=Nt;de.filterStats=Ys;de.log=Ws;de.walkStats=Lt;de.wrapPeerConnectionEvent=Vs;function Fs(n,o,a){return o=ks(o),o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,n}function ks(n){var o=xs(n,"string");return Ve(o)==="symbol"?o:String(o)}function xs(n,o){if(Ve(n)!=="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,o||"default");if(Ve(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}function Ve(n){return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ve(n)}var kr=!0,xr=!0;function Nt(n,o,a){var l=n.match(o);return l&&l.length>=a&&parseInt(l[a],10)}function Vs(n,o,a){if(n.RTCPeerConnection){var l=n.RTCPeerConnection.prototype,c=l.addEventListener;l.addEventListener=function(v,w){if(v!==o)return c.apply(this,arguments);var d=function(y){var h=a(y);h&&(w.handleEvent?w.handleEvent(h):w(h))};return this._eventMap=this._eventMap||{},this._eventMap[o]||(this._eventMap[o]=new Map),this._eventMap[o].set(w,d),c.apply(this,[v,d])};var m=l.removeEventListener;l.removeEventListener=function(v,w){if(v!==o||!this._eventMap||!this._eventMap[o])return m.apply(this,arguments);if(!this._eventMap[o].has(w))return m.apply(this,arguments);var d=this._eventMap[o].get(w);return this._eventMap[o].delete(w),this._eventMap[o].size===0&&delete this._eventMap[o],Object.keys(this._eventMap).length===0&&delete this._eventMap,m.apply(this,[v,d])},Object.defineProperty(l,"on"+o,{get:function(){return this["_on"+o]},set:function(v){this["_on"+o]&&(this.removeEventListener(o,this["_on"+o]),delete this["_on"+o]),v&&this.addEventListener(o,this["_on"+o]=v)},enumerable:!0,configurable:!0})}}function js(n){return typeof n!="boolean"?new Error("Argument type: "+Ve(n)+". Please use a boolean."):(kr=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function Hs(n){return typeof n!="boolean"?new Error("Argument type: "+Ve(n)+". Please use a boolean."):(xr=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function Ws(){if((typeof window>"u"?"undefined":Ve(window))==="object"){if(kr)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Gs(n,o){xr&&console.warn(n+" is deprecated, please use "+o+" instead.")}function Bs(n){var o={browser:null,version:null};if(typeof n>"u"||!n.navigator||!n.navigator.userAgent)return o.browser="Not a browser.",o;var a=n.navigator;if(a.mozGetUserMedia)o.browser="firefox",o.version=Nt(a.userAgent,/Firefox\/(\d+)\./,1);else if(a.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)o.browser="chrome",o.version=Nt(a.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.RTCPeerConnection&&a.userAgent.match(/AppleWebKit\/(\d+)\./))o.browser="safari",o.version=Nt(a.userAgent,/AppleWebKit\/(\d+)\./,1),o.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype;else return o.browser="Not a supported browser.",o;return o}function cr(n){return Object.prototype.toString.call(n)==="[object Object]"}function Vr(n){return cr(n)?Object.keys(n).reduce(function(o,a){var l=cr(n[a]),c=l?Vr(n[a]):n[a],m=l&&!Object.keys(c).length;return c===void 0||m?o:Object.assign(o,Fs({},a,c))},{}):n}function Lt(n,o,a){!o||a.has(o.id)||(a.set(o.id,o),Object.keys(o).forEach(function(l){l.endsWith("Id")?Lt(n,n.get(o[l]),a):l.endsWith("Ids")&&o[l].forEach(function(c){Lt(n,n.get(c),a)})}))}function Ys(n,o,a){var l=a?"outbound-rtp":"inbound-rtp",c=new Map;if(o===null)return c;var m=[];return n.forEach(function(v){v.type==="track"&&v.trackIdentifier===o.id&&m.push(v)}),m.forEach(function(v){n.forEach(function(w){w.type===l&&w.trackId===v.id&&Lt(n,w,c)})}),c}Object.defineProperty(Fr,"__esModule",{value:!0});var qs=Fr.shimGetUserMedia=Zs,zs=Qs(de);function jr(n){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(jr=function(l){return l?a:o})(n)}function Qs(n,o){if(!o&&n&&n.__esModule)return n;if(n===null||Fe(n)!=="object"&&typeof n!="function")return{default:n};var a=jr(o);if(a&&a.has(n))return a.get(n);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in n)if(m!=="default"&&Object.prototype.hasOwnProperty.call(n,m)){var v=c?Object.getOwnPropertyDescriptor(n,m):null;v&&(v.get||v.set)?Object.defineProperty(l,m,v):l[m]=n[m]}return l.default=n,a&&a.set(n,l),l}function Fe(n){return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Fe(n)}var dr=zs.log;function Zs(n,o){var a=n&&n.navigator;if(a.mediaDevices){var l=function(d){if(Fe(d)!=="object"||d.mandatory||d.optional)return d;var y={};return Object.keys(d).forEach(function(h){if(!(h==="require"||h==="advanced"||h==="mediaSource")){var g=Fe(d[h])==="object"?d[h]:{ideal:d[h]};g.exact!==void 0&&typeof g.exact=="number"&&(g.min=g.max=g.exact);var I=function(M,O){return M?M+O.charAt(0).toUpperCase()+O.slice(1):O==="deviceId"?"sourceId":O};if(g.ideal!==void 0){y.optional=y.optional||[];var R={};typeof g.ideal=="number"?(R[I("min",h)]=g.ideal,y.optional.push(R),R={},R[I("max",h)]=g.ideal,y.optional.push(R)):(R[I("",h)]=g.ideal,y.optional.push(R))}g.exact!==void 0&&typeof g.exact!="number"?(y.mandatory=y.mandatory||{},y.mandatory[I("",h)]=g.exact):["min","max"].forEach(function(M){g[M]!==void 0&&(y.mandatory=y.mandatory||{},y.mandatory[I(M,h)]=g[M])})}}),d.advanced&&(y.optional=(y.optional||[]).concat(d.advanced)),y},c=function(d,y){if(o.version>=61)return y(d);if(d=JSON.parse(JSON.stringify(d)),d&&Fe(d.audio)==="object"){var h=function(M,O,W){O in M&&!(W in M)&&(M[W]=M[O],delete M[O])};d=JSON.parse(JSON.stringify(d)),h(d.audio,"autoGainControl","googAutoGainControl"),h(d.audio,"noiseSuppression","googNoiseSuppression"),d.audio=l(d.audio)}if(d&&Fe(d.video)==="object"){var g=d.video.facingMode;g=g&&(Fe(g)==="object"?g:{ideal:g});var I=o.version<66;if(g&&(g.exact==="user"||g.exact==="environment"||g.ideal==="user"||g.ideal==="environment")&&!(a.mediaDevices.getSupportedConstraints&&a.mediaDevices.getSupportedConstraints().facingMode&&!I)){delete d.video.facingMode;var R;if(g.exact==="environment"||g.ideal==="environment"?R=["back","rear"]:(g.exact==="user"||g.ideal==="user")&&(R=["front"]),R)return a.mediaDevices.enumerateDevices().then(function(M){M=M.filter(function(W){return W.kind==="videoinput"});var O=M.find(function(W){return R.some(function(G){return W.label.toLowerCase().includes(G)})});return!O&&M.length&&R.includes("back")&&(O=M[M.length-1]),O&&(d.video.deviceId=g.exact?{exact:O.deviceId}:{ideal:O.deviceId}),d.video=l(d.video),dr("chrome: "+JSON.stringify(d)),y(d)})}d.video=l(d.video)}return dr("chrome: "+JSON.stringify(d)),y(d)},m=function(d){return o.version>=64?d:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[d.name]||d.name,message:d.message,constraint:d.constraint||d.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},v=function(d,y,h){c(d,function(g){a.webkitGetUserMedia(g,y,function(I){h&&h(m(I))})})};if(a.getUserMedia=v.bind(a),a.mediaDevices.getUserMedia){var w=a.mediaDevices.getUserMedia.bind(a.mediaDevices);a.mediaDevices.getUserMedia=function(d){return c(d,function(y){return w(y).then(function(h){if(y.audio&&!h.getAudioTracks().length||y.video&&!h.getVideoTracks().length)throw h.getTracks().forEach(function(g){g.stop()}),new DOMException("","NotFoundError");return h},function(h){return Promise.reject(m(h))})})}}}}var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});var Js=Hr.shimGetUserMedia=el,Ks=Xs(de);function Wr(n){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(Wr=function(l){return l?a:o})(n)}function Xs(n,o){if(!o&&n&&n.__esModule)return n;if(n===null||Ke(n)!=="object"&&typeof n!="function")return{default:n};var a=Wr(o);if(a&&a.has(n))return a.get(n);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in n)if(m!=="default"&&Object.prototype.hasOwnProperty.call(n,m)){var v=c?Object.getOwnPropertyDescriptor(n,m):null;v&&(v.get||v.set)?Object.defineProperty(l,m,v):l[m]=n[m]}return l.default=n,a&&a.set(n,l),l}function Ke(n){return Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ke(n)}function el(n,o){var a=n&&n.navigator,l=n&&n.MediaStreamTrack;if(a.getUserMedia=function(d,y,h){Ks.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),a.mediaDevices.getUserMedia(d).then(y,h)},!(o.version>55&&"autoGainControl"in a.mediaDevices.getSupportedConstraints())){var c=function(d,y,h){y in d&&!(h in d)&&(d[h]=d[y],delete d[y])},m=a.mediaDevices.getUserMedia.bind(a.mediaDevices);if(a.mediaDevices.getUserMedia=function(d){return Ke(d)==="object"&&Ke(d.audio)==="object"&&(d=JSON.parse(JSON.stringify(d)),c(d.audio,"autoGainControl","mozAutoGainControl"),c(d.audio,"noiseSuppression","mozNoiseSuppression")),m(d)},l&&l.prototype.getSettings){var v=l.prototype.getSettings;l.prototype.getSettings=function(){var d=v.apply(this,arguments);return c(d,"mozAutoGainControl","autoGainControl"),c(d,"mozNoiseSuppression","noiseSuppression"),d}}if(l&&l.prototype.applyConstraints){var w=l.prototype.applyConstraints;l.prototype.applyConstraints=function(d){return this.kind==="audio"&&Ke(d)==="object"&&(d=JSON.parse(JSON.stringify(d)),c(d,"autoGainControl","mozAutoGainControl"),c(d,"noiseSuppression","mozNoiseSuppression")),w.apply(this,[d])}}}}var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.shimAudioContext=cl;Pe.shimCallbacksAPI=ol;Pe.shimConstraints=Yr;Pe.shimCreateOfferLegacy=ul;var tl=Pe.shimGetUserMedia=il;Pe.shimLocalStreamsAPI=rl;Pe.shimRTCIceServerUrls=sl;Pe.shimRemoteStreamsAPI=al;Pe.shimTrackEventTransceiver=ll;var Gr=nl(de);function Br(n){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(Br=function(l){return l?a:o})(n)}function nl(n,o){if(!o&&n&&n.__esModule)return n;if(n===null||je(n)!=="object"&&typeof n!="function")return{default:n};var a=Br(o);if(a&&a.has(n))return a.get(n);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in n)if(m!=="default"&&Object.prototype.hasOwnProperty.call(n,m)){var v=c?Object.getOwnPropertyDescriptor(n,m):null;v&&(v.get||v.set)?Object.defineProperty(l,m,v):l[m]=n[m]}return l.default=n,a&&a.set(n,l),l}function je(n){return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},je(n)}function rl(n){if(!(je(n)!=="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){var o=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(a){var l=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(a)||this._localStreams.push(a),a.getAudioTracks().forEach(function(c){return o.call(l,c,a)}),a.getVideoTracks().forEach(function(c){return o.call(l,c,a)})},n.RTCPeerConnection.prototype.addTrack=function(a){for(var l=this,c=arguments.length,m=new Array(c>1?c-1:0),v=1;v<c;v++)m[v-1]=arguments[v];return m&&m.forEach(function(w){l._localStreams?l._localStreams.includes(w)||l._localStreams.push(w):l._localStreams=[w]}),o.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(a){var l=this;this._localStreams||(this._localStreams=[]);var c=this._localStreams.indexOf(a);if(c!==-1){this._localStreams.splice(c,1);var m=a.getTracks();this.getSenders().forEach(function(v){m.includes(v.track)&&l.removeTrack(v)})}})}}function al(n){if(!(je(n)!=="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(a){var l=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=a),this.addEventListener("track",this._onaddstreampoly=function(c){c.streams.forEach(function(m){if(l._remoteStreams||(l._remoteStreams=[]),!l._remoteStreams.includes(m)){l._remoteStreams.push(m);var v=new Event("addstream");v.stream=m,l.dispatchEvent(v)}})})}});var o=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){var a=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(function(c){if(a._remoteStreams||(a._remoteStreams=[]),!(a._remoteStreams.indexOf(c)>=0)){a._remoteStreams.push(c);var m=new Event("addstream");m.stream=c,a.dispatchEvent(m)}})}),o.apply(a,arguments)}}}function ol(n){if(!(je(n)!=="object"||!n.RTCPeerConnection)){var o=n.RTCPeerConnection.prototype,a=o.createOffer,l=o.createAnswer,c=o.setLocalDescription,m=o.setRemoteDescription,v=o.addIceCandidate;o.createOffer=function(d,y){var h=arguments.length>=2?arguments[2]:arguments[0],g=a.apply(this,[h]);return y?(g.then(d,y),Promise.resolve()):g},o.createAnswer=function(d,y){var h=arguments.length>=2?arguments[2]:arguments[0],g=l.apply(this,[h]);return y?(g.then(d,y),Promise.resolve()):g};var w=function(d,y,h){var g=c.apply(this,[d]);return h?(g.then(y,h),Promise.resolve()):g};o.setLocalDescription=w,w=function(d,y,h){var g=m.apply(this,[d]);return h?(g.then(y,h),Promise.resolve()):g},o.setRemoteDescription=w,w=function(d,y,h){var g=v.apply(this,[d]);return h?(g.then(y,h),Promise.resolve()):g},o.addIceCandidate=w}}function il(n){var o=n&&n.navigator;if(o.mediaDevices&&o.mediaDevices.getUserMedia){var a=o.mediaDevices,l=a.getUserMedia.bind(a);o.mediaDevices.getUserMedia=function(c){return l(Yr(c))}}!o.getUserMedia&&o.mediaDevices&&o.mediaDevices.getUserMedia&&(o.getUserMedia=function(c,m,v){o.mediaDevices.getUserMedia(c).then(m,v)}.bind(o))}function Yr(n){return n&&n.video!==void 0?Object.assign({},n,{video:Gr.compactObject(n.video)}):n}function sl(n){if(n.RTCPeerConnection){var o=n.RTCPeerConnection;n.RTCPeerConnection=function(a,l){if(a&&a.iceServers){for(var c=[],m=0;m<a.iceServers.length;m++){var v=a.iceServers[m];v.urls===void 0&&v.url?(Gr.deprecated("RTCIceServer.url","RTCIceServer.urls"),v=JSON.parse(JSON.stringify(v)),v.urls=v.url,delete v.url,c.push(v)):c.push(a.iceServers[m])}a.iceServers=c}return new o(a,l)},n.RTCPeerConnection.prototype=o.prototype,"generateCertificate"in o&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get:function(){return o.generateCertificate}})}}function ll(n){je(n)==="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function ul(n){var o=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(a){if(a){typeof a.offerToReceiveAudio<"u"&&(a.offerToReceiveAudio=!!a.offerToReceiveAudio);var l=this.getTransceivers().find(function(m){return m.receiver.track.kind==="audio"});a.offerToReceiveAudio===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):a.offerToReceiveAudio===!0&&!l&&this.addTransceiver("audio",{direction:"recvonly"}),typeof a.offerToReceiveVideo<"u"&&(a.offerToReceiveVideo=!!a.offerToReceiveVideo);var c=this.getTransceivers().find(function(m){return m.receiver.track.kind==="video"});a.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):a.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return o.apply(this,arguments)}}function cl(n){je(n)!=="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const dl=n=>{let o=!1,a;return(...l)=>(o||(a=n(l),o=!0),a)};function Le(n,o){if(n===!1)throw new Error(o!=null?o:"assertion failure")}const fl=dl(()=>{const n=Rs(window);switch(n.browser){case"chrome":qs(window,n);break;case"firefox":Js(window,n);break;case"safari":tl(window,n);break;default:throw new Rr}});let Xe=Promise.resolve({type:"stop",data:{}});async function fr(n,o,a){var l,c,m;if(window.isSecureContext!==!0)throw new Ls;if(((l=navigator==null?void 0:navigator.mediaDevices)==null?void 0:l.getUserMedia)===void 0)throw new Rr;fl();const v=await navigator.mediaDevices.getUserMedia({audio:!1,video:o});n.srcObject!==void 0?n.srcObject=v:n.mozSrcObject!==void 0?n.mozSrcObject=v:window.URL.createObjectURL?n.src=window.URL.createObjectURL(v):window.webkitURL?n.src=window.webkitURL.createObjectURL(v):n.src=v.id,n.play(),await Promise.race([Ur(n,"loadeddata"),ur(3e3).then(()=>{throw new Ds})]),await ur(500);const[w]=v.getVideoTracks(),d=(m=(c=w==null?void 0:w.getCapabilities)==null?void 0:c.call(w))!=null?m:{};let y=!1;return a&&d.torch&&(await w.applyConstraints({advanced:[{torch:!0}]}),y=!0),{type:"start",data:{videoEl:n,stream:v,capabilities:d,constraints:o,isTorchOn:y}}}async function ml(n,{constraints:o,torch:a,restart:l=!1}){Xe=Xe.then(m=>{if(m.type==="start"){const{data:{videoEl:v,stream:w,constraints:d,isTorchOn:y}}=m;return!l&&n===v&&o===d&&a===y?m:qr(v,w,y).then(()=>fr(n,o,a))}return fr(n,o,a)});const c=await Xe;if(c.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");return c.data.capabilities}async function qr(n,o,a){n.src="",n.srcObject=null,n.load(),await Ur(n,"error");for(const l of o.getTracks())a!=null||await l.applyConstraints({advanced:[{torch:!1}]}),o.removeTrack(l),l.stop();return{type:"stop",data:{}}}async function en(){if(Xe=Xe.then(n=>{if(n.type==="stop")return n;const{data:{videoEl:o,stream:a,isTorchOn:l}}=n;return qr(o,a,l)}),(await Xe).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const pl=mt({__name:"QrcodeStream",props:{constraints:{type:Object,default(){return{facingMode:"environment"}}},formats:{type:Array,default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function}},emits:["detect","camera-on","camera-off","error"],setup(n,{emit:o}){const a=n,l=o,c=x(),m=x(),v=x(),w=x(!1),d=x(!1);yr(()=>{d.value=!0}),ii(()=>{en()});const y=ge(()=>({torch:a.torch,constraints:a.constraints,shouldStream:d.value&&!a.paused}));ke(y,async D=>{const S=v.value;Le(S!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const L=c.value;Le(L!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const $=L.getContext("2d");if(Le($!==null,"if cavnas is defined, canvas 2d context should also be non-null"),D.shouldStream)try{const U=await ml(S,D);d.value?(w.value=!0,l("camera-on",U)):await en()}catch(U){l("error",U)}else L.width=S.videoWidth,L.height=S.videoHeight,$.drawImage(S,0,0,S.videoWidth,S.videoHeight),en(),w.value=!1,l("camera-off")},{deep:!0});const{formats:h}=Dt(a);ke(h,D=>{d.value&&$s(D)});const g=ge(()=>y.value.shouldStream&&w.value);ke(g,D=>{if(D){Le(c.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),I(c.value),Le(m.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),I(m.value);const S=()=>a.track===void 0?500:40;Le(v.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),Us(v.value,{detectHandler:L=>l("detect",L),formats:a.formats,locateHandler:R,minDelay:S()})}});const I=D=>{const S=D.getContext("2d");Le(S!==null,"canvas 2d context should always be non-null"),S.clearRect(0,0,D.width,D.height)},R=D=>{const S=m.value;Le(S!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const L=v.value;if(Le(L!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),D.length===0||a.track===void 0)I(S);else{const $=L.offsetWidth,U=L.offsetHeight,C=L.videoWidth,E=L.videoHeight,F=Math.max($/C,U/E),q=C*F,le=E*F,Ae=q/C,Oe=le/E,Ne=($-q)/2,De=(U-le)/2,fe=({x:ce,y:me})=>({x:Math.floor(ce*Ae),y:Math.floor(me*Oe)}),$e=({x:ce,y:me})=>({x:Math.floor(ce+Ne),y:Math.floor(me+De)}),tt=D.map(ce=>{const{boundingBox:me,cornerPoints:nt}=ce,{x:J,y:He}=$e(fe({x:me.x,y:me.y})),{x:pe,y:be}=fe({x:me.width,y:me.height});return{...ce,cornerPoints:nt.map(vt=>$e(fe(vt))),boundingBox:DOMRectReadOnly.fromRect({x:J,y:He,width:pe,height:be})}});S.width=L.offsetWidth,S.height=L.offsetHeight;const ye=S.getContext("2d");a.track(tt,ye)}},M={width:"100%",height:"100%",position:"relative","z-index":"0"},O={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},W={width:"100%",height:"100%","object-fit":"cover"},G=ge(()=>g.value?W:{...W,visibility:"hidden",position:"absolute"});return(D,S)=>(we(),rn("div",{style:M},[H("video",{ref_key:"videoRef",ref:v,style:nn(G.value),autoplay:"",muted:"",playsinline:""},null,4),si(H("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:c,style:W},null,512),[[li,!g.value]]),H("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:m,style:O},null,512),H("div",{style:O},[ui(D.$slots,"default")])]))}});var vl=[{LOCATION:"GUSA",IP:"10.10.0.58",HOSTNAME:"Gusa_OLT",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.24",HOSTNAME:"VSOL-Nasareth-24",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"no device model",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.28",HOSTNAME:"VSOL-Nasareth",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"no device model",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.56",HOSTNAME:"NAZ_VSOL_56",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.33",HOSTNAME:"Guangda_Nazareth",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"NAZARETH",IP:"10.10.0.22",HOSTNAME:"NAZARETH_GUANGDA",TYPE:"INDOOR",MANUFACTURER:"GUANGDA",STATUS:"unreachable",MODEL:"down - confirmed by DCTECH",SNMP:"",FIELD9:"",FIELD10:""},{LOCATION:"NAZARETH",IP:"10.10.0.69",HOSTNAME:"NAZARETH_VSOL_69",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.64",HOSTNAME:"OLT_NAZ_TEMP_64",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.94",HOSTNAME:"Nazareth_VSOL_94",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.84",HOSTNAME:"TIBASAK_NAZ_OOLT",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"PUERTO",IP:"10.10.0.57",HOSTNAME:"Tagoloan_OLT1",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"no device model",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"PUERTO",IP:"10.10.0.40",HOSTNAME:"vsol_puerto_0002",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"PUERTO",IP:"10.10.0.39",HOSTNAME:"vsol_puerto_0003",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"PUERTO",IP:"10.10.0.63",HOSTNAME:"OLT_PUERTO_63",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"PUERTO",IP:"10.10.0.37",HOSTNAME:"PUERTO_OLT",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"UPTOWN",IP:"10.10.0.29",HOSTNAME:"Uptown",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"no device model",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"UPTOWN",IP:"10.10.0.41",HOSTNAME:"vsol_uptown_0019",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"UPTOWN",IP:"10.10.0.42",HOSTNAME:"vsol_uptown_0020",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"UPTOWN",IP:"10.10.0.79",HOSTNAME:"Guangda_OOLT_Uptown",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"TAGOLOAN",IP:"10.10.0.68",HOSTNAME:"TAGOLOAN_OOLT",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"TAGOLOAN",IP:"10.10.0.71",HOSTNAME:"Tagoloan_OOLT_2",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"EL-SALVADOR",IP:"10.10.0.66",HOSTNAME:"EL_SALVADOR_OLT1",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"EL-SALVADOR",IP:"10.10.0.67",HOSTNAME:"EL_SALVADOR_OLT2",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"CALAANAN",IP:"10.10.0.61",HOSTNAME:"OUTDOOR_OLT_CALAANAN",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"IPONAN",IP:"10.10.0.36",HOSTNAME:"IPONAN_GNGD",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"IPONAN",IP:"10.10.0.60",HOSTNAME:"OLT_IPONAN_CASCADE",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"IPONAN",IP:"10.10.0.80",HOSTNAME:"Regency_80",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"KAUSWAGAN",IP:"10.10.0.55",HOSTNAME:"Kauswagan_Vsol_55",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"KAUSWAGAN",IP:"10.10.0.25",HOSTNAME:"KAUSWAGAN_VSOL_25",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"no device model",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"KAUSWAGAN",IP:"10.10.0.77",HOSTNAME:"GUANGDA_OOLT_KAUSWAGAN",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"KAUSWAGAN",IP:"10.10.0.95",HOSTNAME:"Kauswagan_VSOL_95",TYPE:"OOLT",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"OPOL",IP:"10.10.0.43",HOSTNAME:"VSOL_OPOL_43",TYPE:"OOLT",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"OPOL",IP:"10.10.0.46",HOSTNAME:"VSOL_46",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"OPOL",IP:"10.10.0.78",HOSTNAME:"Guangda_OOLT_Opol",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"OPOL",IP:"10.10.0.86",HOSTNAME:"ILIGAN_NEW_OOLT_86",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"CLAVERIA",IP:"10.10.0.52",HOSTNAME:"CLAVERIA_VSOL52",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"no device model",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"CLAVERIA",IP:"10.10.0.45",HOSTNAME:"CLAVERIA_VSOL_45",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"VILLANUEVA",IP:"10.10.0.53",HOSTNAME:"VILLA_VSOL_53",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"VILLANUEVA",IP:"10.10.0.83",HOSTNAME:"Villanueva_OOLT",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"GUSA",IP:"10.17.0.2",HOSTNAME:"GUSA_OLT_GUANGDA",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""}];const zr=n=>(ln("data-v-601a2aa2"),n=n(),un(),n),hl=zr(()=>H("div",{class:"text-h6"},"For Provisioning",-1)),gl=zr(()=>H("div",{class:"text-center"},[H("h1",{class:"text-h6"},"Responses")],-1)),yl={key:0,class:"text-center"},bl={key:0},Tl=mt({__name:"ProvisionClient",props:{isOpen:{type:Boolean},serialAndMac:{},client:{},closeModal:{type:Function}},setup(n){const o=dn(),a=n,l=x(!1),{isOpen:c}=Dt(a),m=()=>{a.closeModal()},v=Ye({name:"",pw:""}),w=x(!1),d=x(!1),y=["code_128","code_39","code_93","codabar","itf","qr_code"],h=vl,g=Ye({autoConfig:"",monitoring:""}),I=Ye({autoConfig:!1,monitoring:!1}),R=x([]),M=x(""),O=Ye({clientId:0,accountNumber:"",packageType:"",serialAndMac:{serialNum:{label:"",idx:0},macAddress:""},oltIp:"",clientName:""}),W=(C,E)=>{C===""&&E(()=>{R.value=h}),E(()=>{const F=C.toLowerCase();R.value=h.filter(q=>q.HOSTNAME.toLowerCase().includes(F))})},G=(C,E)=>{for(const F of E)if(F.serial_number===C)return{serial:F.serial_number,mac:F.mac_address};return{serial:"",mac:""}},D=C=>{const E=C.map(le=>le.rawValue);l.value=!1,M.value=E[0];const{serial:F,mac:q}=G(E[0],a.serialAndMac);F&&q?(O.serialAndMac.macAddress=q,O.serialAndMac.serialNum.label=F):U()},S=(C,E)=>{for(const F of C){const{boundingBox:{x:q,y:le,width:Ae,height:Oe}}=F;E.lineWidth=2,E.strokeStyle="#007bff",E.strokeRect(q,le,Ae,Oe)}},L=async()=>{o.loading.show(),d.value=!0,w.value=!1,g.autoConfig="",g.monitoring="";try{g.autoConfig="Executing Auto Config...";const C=await Oi(O.accountNumber,O.clientName,O.serialAndMac.serialNum.label,O.serialAndMac.macAddress,O.oltIp,O.packageType);C&&(g.autoConfig=C.message,I.autoConfig=!0)}catch(C){return g.autoConfig="Error: "+C,$()}try{g.monitoring="Executing Monitoring...";const C=await Ei(O.accountNumber,O.clientName,O.serialAndMac.serialNum.label,O.serialAndMac.macAddress,O.oltIp,O.packageType);C&&(g.monitoring=C.message,v.name=C.ssid_name,v.pw=C.ssid_pw,I.monitoring=!0)}catch(C){if(C.response&&C.response.data){const E=C.response.data;g.monitoring=`Error: ${E.message}`}else g.monitoring="Error: "+C.message;return $()}w.value=!0,$()},$=()=>{d.value=!1,o.loading.hide()},U=()=>{o.notify({message:"Scanned Value is not in rogue devices!",color:"danger",position:"top"})};return ci(()=>{var C,E;O.serialAndMac.serialNum.label=(C=a.client)==null?void 0:C.onuSerialNumber,O.serialAndMac.macAddress=(E=a.client)==null?void 0:E.onuMacAddress}),gr(()=>{var C,E,F,q,le;O.clientId=(C=a.client)==null?void 0:C.id,O.accountNumber=(E=a.client)==null?void 0:E.accountNumber,O.clientName=(F=a.client)==null?void 0:F.clientName,O.oltIp=(q=a.client)==null?void 0:q.oltIp,O.packageType=(le=a.client)==null?void 0:le.packageTypeId}),ke(M,(C,E)=>{E!==C&&(l.value=!1)}),(C,E)=>(we(),xe($t,null,{default:j(()=>[_(Mt,{modelValue:Se(c),"onUpdate:modelValue":E[8]||(E[8]=F=>hr(c)?c.value=F:null),persistent:""},{default:j(()=>[_(qe,null,{default:j(()=>[_(ze,{class:"row items-center q-py-xs"},{default:j(()=>[hl,_(Ui),_(dt,{name:"close",onClick:m,size:"sm",class:"cursor-pointer btn-modal rounded q-pa-xs"})]),_:1}),_(Xt),_(ze,{class:"flex-client"},{default:j(()=>[_(he,{modelValue:O.accountNumber,"onUpdate:modelValue":E[0]||(E[0]=F=>O.accountNumber=F),filled:"",label:"Account Number",readonly:""},null,8,["modelValue"]),_(he,{modelValue:O.clientName,"onUpdate:modelValue":E[1]||(E[1]=F=>O.clientName=F),filled:"",label:"Client Name",readonly:""},null,8,["modelValue"]),_(he,{modelValue:O.packageType,"onUpdate:modelValue":E[2]||(E[2]=F=>O.packageType=F),filled:"",label:"Package Type",readonly:""},null,8,["modelValue"]),_(he,{modelValue:O.serialAndMac.serialNum.label,"onUpdate:modelValue":E[5]||(E[5]=F=>O.serialAndMac.serialNum.label=F),label:"Barcode Scan",outlined:""},{append:j(()=>[_(dt,{name:"barcode_reader",class:"cursor-pointer",onClick:E[3]||(E[3]=()=>l.value=!l.value),rounded:""}),_(Mt,{modelValue:l.value,"onUpdate:modelValue":E[4]||(E[4]=F=>l.value=F),style:{height:"200px"}},{default:j(()=>[_(qe,null,{default:j(()=>[_(ze,null,{default:j(()=>[l.value?(we(),xe(Se(pl),{key:0,formats:y,onDetect:D,track:S})):Je("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),_(Tr,null,{default:j(()=>[ue(" Scan Barcode ")]),_:1})]),_:1},8,["modelValue"]),_(he,{modelValue:O.serialAndMac.macAddress,"onUpdate:modelValue":E[6]||(E[6]=F=>O.serialAndMac.macAddress=F),filled:"",label:"ONU Mac Address",readonly:""},null,8,["modelValue"]),_(ft,{outlined:"",modelValue:O.oltIp,"onUpdate:modelValue":E[7]||(E[7]=F=>O.oltIp=F),options:R.value,label:"OLT IP",clearable:"","option-label":"HOSTNAME","option-value":"IP","input-debounce":"0","use-input":"","emit-value":"",onFilter:W},null,8,["modelValue","options"])]),_:1}),_(Xt),_(cn,{align:"right"},{default:j(()=>[_(et,{disable:!(O.serialAndMac.serialNum.label&&O.serialAndMac.macAddress&&O.oltIp),flat:"",type:"submit",label:O.oltIp&&O.serialAndMac.serialNum.label&&O.serialAndMac.macAddress?"OK":"Missing Inputs",color:"primary full-width",onClick:L},null,8,["disable","label"])]),_:1}),_(ct,{class:"bg-primary text-white q-pt-none"},{default:j(()=>[gl,H("div",null,[H("p",null,[ue(" Auto Config: "),H("span",{class:Kt(I.autoConfig?"text-positive":"text-warning")},Z(g.autoConfig),3)]),H("p",null,[ue(" Monitoring: "),H("span",{class:Kt(I.monitoring?"text-positive":"text-warning")},Z(g.monitoring),3)]),w.value?(we(),rn("div",yl,[_(Xt,{class:"q-mb-sm"}),H("p",{class:Kt(["text-uppercase text-bold",I.autoConfig&&I.monitoring?"text-positive":"text-warning"])},Z(I.autoConfig&&I.monitoring?" Successful Provision!":"Unsuccessful Provision!"),3),v.name||v.pw?(we(),rn("p",bl," SSID: "+Z(v.name)+" Password: "+Z(v.pw),1)):Je("",!0)])):Je("",!0)])]),_:1}),d.value?(we(),xe(ns,{key:0,src:rs,class:"skeleton-dance"})):Je("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});var wl=sn(Tl,[["__scopeId","data-v-601a2aa2"]]);const Dl=mt({__name:"InetConfig",setup(n){const o=dn(),a=wr(),l=x(),c=x([]),m=x(["id","accountNumber","actions","clientName","packageTypeId"]),v=x(""),w=a.$state.subscribercolumns,d=x(!1),y=x(""),h=x(0),g=x(!1),I=x(!1);let R=[];const M=x({id:0,accountNumber:"",clientName:"",ipAssigned:"",onuSerialNumber:"",oltIp:"",onuDeviceName:"",onuMacAddress:"",packageTypeId:""}),O=async $=>{o.loading.show(),R=(await _i()).map(C=>({serial_number:C.serial_number,mac_address:C.mac_address})),M.value=await br($),d.value=!d.value,o.loading.hide()},W=()=>{d.value=!d.value},G=($,U)=>{y.value=$,h.value=U,g.value=!g.value},D=()=>{g.value=!g.value},S=async()=>{c.value=[],c.value=await Kn()},L=async()=>{try{I.value=!0,c.value=await Kn()}catch{throw new Error("Cannot get Clients info.")}I.value=!1};return yr(async()=>{L()}),($,U)=>(we(),xe($t,{padding:""},{default:j(()=>[_(Di,{class:"my-sticky-last-column-table",rows:c.value,title:"For Provision","row-key":"name",columns:Se(w),loading:I.value,pagination:{rowsPerPage:10},dense:Se(o).screen.lt.md,filter:v.value,"visible-columns":m.value},{"body-cell-actions":j(C=>[_(Li,{props:C},{default:j(()=>[_(et,{dense:"",round:"",flat:"",icon:"assignment",onClick:E=>O(C.row.id)},null,8,["onClick"]),_(et,{dense:"",round:"",flat:"",icon:"build",onClick:E=>G(C.row.onuDeviceName+"-"+C.row.ipAssigned,C.row.id),disable:C.row.onuDeviceName===null||C.row.onuDeviceName===""},{default:j(()=>[C.row.onuDeviceName===null||C.row.onuDeviceName===""?(we(),xe(Tr,{key:0,anchor:"center left",self:"center right",offset:[10,10]},{default:j(()=>[ue(" Device Name Missing! ")]),_:1})):Je("",!0)]),_:2},1032,["onClick","disable"])]),_:2},1032,["props"])]),"top-right":j(()=>[_(ft,{modelValue:m.value,"onUpdate:modelValue":U[0]||(U[0]=C=>m.value=C),multiple:"",outlined:"",dense:"","options-dense":"","display-value":Se(o).lang.table.columns,"emit-value":"","map-options":"",options:Se(w),"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"]),_(he,{modelValue:v.value,"onUpdate:modelValue":U[1]||(U[1]=C=>v.value=C),filled:"",dense:"",label:"Search",debounce:"300",color:"primary"},{append:j(()=>[_(dt,{name:"search"})]),_:1},8,["modelValue"]),_(dt,{name:"autorenew",class:"cursor-pointer q-ma-sm",size:"sm",onClick:S,flat:""})]),_:1},8,["rows","columns","loading","dense","filter","visible-columns"]),_(wl,{"is-open":d.value,onOpenModal:O,"serial-and-mac":Se(R),client:M.value,"close-modal":W},null,8,["is-open","serial-and-mac","client"]),_(ji,{confirm:g.value,"close-modal":D,"device-name":y.value,clientId:h.value},null,8,["confirm","device-name","clientId"]),_(Ki,{"data-id":l.value,"get-subsribers":S},null,8,["data-id"])]),_:1}))}});export{Dl as default};
