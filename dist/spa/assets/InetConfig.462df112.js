import{c as mr,r as k,a as ge,w as ke,e as tn,A as qn,u as zn,P as Xo,h as _e,af as pr,g as ei,d as vr,B as ti,ag as ni,j as ri,ah as ai,X as mt,ai as Dt,V as Ye,Y as we,Z as xe,_ as V,$ as C,aj as j,a1 as le,a2 as Q,ak as nn,a5 as et,a0 as Je,al as Se,am as hr,a3 as sn,an as ln,ao as un,ap as gr,Q as dt,aq as oi,o as yr,W as ii,a6 as rn,C as si,ar as li,as as ui,at as ci,au as Kt}from"./index.61d51993.js";import{u as di,a as fi,v as Qn,b as mi,c as pi,d as vi,e as hi,f as gi,r as Zn,s as yi,p as Jn,g as bi,Q as $t,h as ft,i as Mt,j as br,k as Ti,l as wi,m as Si,n as Ai,o as Kn,q as Oi}from"./hiveConnect.25ac55d6.js";import{u as Ei,b as _i,k as Ci,e as Pi,f as Ni,c as Xn}from"./QItem.d2fe947f.js";import{Q as he,a as Mi}from"./QInput.8b4db9b5.js";import{Q as Xt,a as Ii}from"./QTable.1c0248ca.js";import{Q as Li,a as ct}from"./QBanner.15a285e7.js";import{Q as qe,a as ze}from"./QCard.f60edb0b.js";import{Q as cn,a as er}from"./QRadio.3439efe3.js";import{a as Re}from"./axios.66c02ff4.js";import{Q as Di}from"./QSpace.96634500.js";import"./QList.bb926f55.js";var Tr=mr({name:"QTooltip",inheritAttrs:!1,props:{...di,...Ei,...fi,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Qn},self:{type:String,default:"top middle",validator:Qn},offset:{type:Array,default:()=>[14,14],validator:mi},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[..._i],setup(n,{slots:o,emit:a,attrs:l}){let c,m;const v=ei(),{proxy:{$q:w}}=v,d=k(null),g=k(!1),h=ge(()=>Jn(n.anchor,w.lang.rtl)),b=ge(()=>Jn(n.self,w.lang.rtl)),D=ge(()=>n.persistent!==!0),{registerTick:U,removeTick:I}=Ci(),{registerTimeout:E}=Pi(),{transitionProps:H,transitionStyle:W}=pi(n),{localScrollTarget:$,changeScrollEvent:S,unconfigureScrollTarget:L}=vi(n,ue),{anchorEl:R,canShow:P,anchorEvents:O}=hi({showing:g,configureAnchorEl:ye}),{show:_,hide:Y}=Ni({showing:g,canShow:P,handleShow:Le,handleHide:Pe,hideOnRouteChange:D,processOnMount:!0});Object.assign(O,{delayShow:$e,delayHide:tt});const{showPortal:Z,hidePortal:fe,renderPortal:Ae}=gi(v,d,nt,"tooltip");if(w.platform.is.mobile===!0){const J={anchorEl:R,innerRef:d,onClickOutside(pe){return Y(pe),pe.target.classList.contains("q-dialog__backdrop")&&ti(pe),!0}},He=ge(()=>n.modelValue===null&&n.persistent!==!0&&g.value===!0);ke(He,pe=>{(pe===!0?bi:Zn)(J)}),tn(()=>{Zn(J)})}function Le(J){Z(),U(()=>{m=new MutationObserver(()=>de()),m.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),de(),ue()}),c===void 0&&(c=ke(()=>w.screen.width+"|"+w.screen.height+"|"+n.self+"|"+n.anchor+"|"+w.lang.rtl,de)),E(()=>{Z(!0),a("show",J)},n.transitionDuration)}function Pe(J){I(),fe(),De(),E(()=>{fe(!0),a("hide",J)},n.transitionDuration)}function De(){m!==void 0&&(m.disconnect(),m=void 0),c!==void 0&&(c(),c=void 0),L(),qn(O,"tooltipTemp")}function de(){yi({targetEl:d.value,offset:n.offset,anchorEl:R.value,anchorOrigin:h.value,selfOrigin:b.value,maxHeight:n.maxHeight,maxWidth:n.maxWidth})}function $e(J){if(w.platform.is.mobile===!0){Xn(),document.body.classList.add("non-selectable");const He=R.value,pe=["touchmove","touchcancel","touchend","click"].map(be=>[He,be,"delayHide","passiveCapture"]);zn(O,"tooltipTemp",pe)}E(()=>{_(J)},n.delay)}function tt(J){w.platform.is.mobile===!0&&(qn(O,"tooltipTemp"),Xn(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),E(()=>{Y(J)},n.hideDelay)}function ye(){if(n.noParentEvent===!0||R.value===null)return;const J=w.platform.is.mobile===!0?[[R.value,"touchstart","delayShow","passive"]]:[[R.value,"mouseenter","delayShow","passive"],[R.value,"mouseleave","delayHide","passive"]];zn(O,"anchor",J)}function ue(){if(R.value!==null||n.scrollTarget!==void 0){$.value=Xo(R.value,n.scrollTarget);const J=n.noParentEvent===!0?de:Y;S($.value,J)}}function me(){return g.value===!0?_e("div",{...l,ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",l.class],style:[l.style,W.value],role:"tooltip"},vr(o.default)):null}function nt(){return _e(pr,H.value,me)}return tn(De),Object.assign(v.proxy,{updatePosition:de}),Ae}});const wr=ni("subsciber",{state:()=>({subscriberDetail:{subscriber_name:"",serial_number:"",acc_no:"",package_type:"",ssid:"",password:"",mode:"",olt_ip:"",olt_interface:""},modalIsOpen:!1,subscribercolumns:[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"accountNumber",label:"Account No.",field:"accountNumber",align:"left",sortable:!0},{name:"clientName",label:"Client Name",field:"clientName",align:"left",sortable:!0},{name:"onuDeviceName",label:"Device Name",field:"onuDeviceName",align:"left",sortable:!0},{name:"ipAssigned",label:"IP Assigned",field:"ipAssigned",align:"left",sortable:!0},{name:"onuSerialNumber",label:"ONU Serial Number",field:"onuSerialNumber",align:"left",sortable:!0},{name:"onuMacAddress",label:"ONU Mac Address",field:"onuMacAddress",align:"left",sortable:!0},{name:"oltIp",label:"OLT IP",field:"oltIp",align:"left",sortable:!0},{name:"packageTypeId",label:"Package Type ID",field:"packageTypeId",align:"left",sortable:!0},{name:"ssidName",label:"SSID",field:"ssidName",align:"left",sortable:!0},{name:"ssidPw",label:"Password",field:"ssidPw",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"",align:"left"}]})});function dn(){return ri(ai)}const $i=n=>(ln("data-v-f7511efc"),n=n(),un(),n),Ui={class:"provision-info"},Ri=$i(()=>j("br",null,null,-1)),Fi=["src"],ki=mt({__name:"TroubleshootClient",props:{confirm:{type:Boolean},closeModal:{type:Function},deviceName:{},clientId:{}},setup(n){const o=dn(),a=n,l=k(!1),{confirm:c}=Dt(a),m=()=>{a.closeModal()},v=k({__name__:"",device_name:"",device_role:"",instance:"",job:"",site_name:"",site_status:"",site_tenant:"",olt_ip:""}),w=k("2d"),d=k(""),g=k(""),h=Ye({accountNumber:"",clientName:"",ipAssigned:"",onuSerialNumber:"",oltIp:"",onuMacAddress:"",onuDeviceName:"",packageTypeId:"",oltSite:"",oltInterface:""}),b=Ye({upStream:"",downStream:""}),D=[{label:"Last 5 minutes",value:"5m"},{label:"Last 15 minutes",value:"15m"},{label:"Last 30 minutes",value:"30m"},{label:"Last 1 hour",value:"1h"},{label:"Last 3 hours",value:"3h"},{label:"Last 6 hours",value:"6h"},{label:"Last 12 hours",value:"12h"},{label:"Last 24 hours",value:"24h"},{label:"Last 2 days",value:"2d"},{label:"Last 90 days",value:"90d"}],U=()=>{o.notify({message:"Gathering SNMP Data! Please wait for a moment.",color:"warning",position:"top"})},I=async(H,W)=>{console.log(H),o.loading.show();try{if(!H){E();return}const $=await Re.get(`http://172.91.10.129:9090/api/v1/query?query=lo_status{job=%22ip_address%22,site_tenant=%22DCTECH%22,device_name="${H}"}`);v.value=$.data.data.result[0].metric,d.value=$.data.data.result[0].value[1];const S=v.value.olt_ip,L=await Re.get(`http://172.91.10.129:9090/api/v1/query?query=lo_status{job=%22ip_address%22,site_tenant=%22DCTECH%22,device_name="OLT-${S}"}`);console.log(S),g.value=L.data.data.result[0].value[1];const R=await br(W);if(R){const{accountNumber:O,clientName:_,ipAssigned:Y,onuDeviceName:Z,onuMacAddress:fe,onuSerialNumber:Ae,packageTypeId:Le}=R;h.accountNumber=O,h.clientName=_,h.ipAssigned=Y,h.oltIp=S,h.onuDeviceName=Z,h.onuMacAddress=fe,h.onuSerialNumber=Ae,h.packageTypeId=Le;try{const Pe=await Ti(h.oltIp);h.oltSite=Pe.olt_site;const De=await wi(Le),{upstream:de,downstream:$e}=De;b.upStream=de,b.downStream=$e}catch(Pe){throw Pe}}else throw new Error("Error fetching client data");const P=await Si(H);h.oltInterface=P,console.log(h.oltInterface),l.value=!0}catch($){console.log($),E()}o.loading.hide()},E=()=>{m(),U()};return ke(c,H=>{c.value===!0&&I(a.deviceName,a.clientId)}),(H,W)=>(we(),xe($t,null,{default:V(()=>[C(Li,{ref:"bar",color:"info",position:"bottom",size:"10px","skip-hijack":""},null,512),C(Mt,{modelValue:Se(c),"onUpdate:modelValue":W[1]||(W[1]=$=>hr(c)?c.value=$:null),persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},{default:V(()=>[l.value?(we(),xe(qe,{key:0,class:"dialog-content"},{default:V(()=>[j("div",Ui,[C(qe,null,{default:V(()=>[C(ct,{class:"bg-primary text-white"},{default:V(()=>[le(" Client Details ")]),_:1}),C(ze,null,{default:V(()=>[j("p",null,"Client Name: "+Q(h.clientName),1),j("p",null,"Account Number: "+Q(h.accountNumber),1),j("p",null,"Package Type: "+Q(h.packageTypeId),1)]),_:1})]),_:1}),C(qe,null,{default:V(()=>[C(ct,{class:"bg-primary text-white"},{default:V(()=>[le(" ONU Details ")]),_:1}),C(ze,null,{default:V(()=>[j("p",null,[le(" ONU Status: "),j("span",{style:nn(d.value==="1"?"color: green":"color: red")},Q(d.value==="1"?"UP":"Down"),5)]),j("p",null,"ONU IP: "+Q(v.value.instance),1),j("p",null,"ONU Serial Number: "+Q(h.onuSerialNumber),1),j("p",null,"ONU Mac Address: "+Q(h.onuMacAddress),1),j("p",null,[le(" upstream: "+Q(b.upStream)+" kbps ",1),Ri,le(" downstream: "+Q(b.downStream)+" kbps ",1)])]),_:1})]),_:1}),C(qe,null,{default:V(()=>[C(ct,{class:"bg-primary text-white"},{default:V(()=>[le(" OLT Details ")]),_:1}),C(ze,null,{default:V(()=>[j("p",null,[le(" OLT Status: "),j("span",{style:nn(g.value==="1"?"color: green":"color: red")},Q(g.value==="1"?"UP":"Down"),5)]),j("p",null," OLT IP: "+Q(h.oltIp),1),j("p",null,"OLT Site: "+Q(h.oltSite),1),j("p",null,"OLT Interface: "+Q(h.oltInterface),1)]),_:1})]),_:1})]),C(ft,{modelValue:w.value,"onUpdate:modelValue":W[0]||(W[0]=$=>w.value=$),options:D,label:"Select Time",filled:"",class:"select-time q-py-md","emit-value":"","map-options":""},null,8,["modelValue"]),j("iframe",{src:`http://172.91.10.151:3000/d-solo/d94d1e0e-a6e4-45c4-847f-6603e1c31ccb/subscribers-traffic-rate-and-uptime?orgId=1&from=now-${w.value}&to=now&var-Subscriber=${H.deviceName}&panelId=3`,class:"grafana-panel",frameborder:"0"},null,8,Fi),C(cn,{vertical:"",align:"right"},{default:V(()=>[C(et,{filled:"",label:"Close",color:"red",onClick:m})]),_:1})]),_:1})):Je("",!0)]),_:1},8,["modelValue"])]),_:1}))}});var xi=sn(ki,[["__scopeId","data-v-f7511efc"]]);const pt=n=>(ln("data-v-7a47d3e6"),n=n(),un(),n),Vi={class:""},ji={class:""},Hi={class:"q-gutter-sm"},Wi=pt(()=>j("br",null,null,-1)),Gi=pt(()=>j("br",null,null,-1)),Bi=pt(()=>j("br",null,null,-1)),Yi=pt(()=>j("br",null,null,-1)),qi=pt(()=>j("br",null,null,-1)),zi="http://127.0.0.1:8000",tr="http://172.91.0.136:7547",nr="http://172.91.10.108:8080",Qi=mt({__name:"SubscriberModal",props:["dataId","getSubsribers"],setup(n){Re.defaults.timeout=0;const o=wr(),a=n,{dataId:l}=Dt(a),c=k(""),m=k(""),v=k(""),w=k(""),d=k(""),g=k(""),h=k(""),b=k(""),D=k(""),U=k(!0),I=Ye({subscriber:"",configureSsid:"",setBandwidth:"",runAnsible:"",wanConfig:""});gr(()=>{c.value=o.$state.subscriberDetail.acc_no,m.value=o.$state.subscriberDetail.subscriber_name,v.value=o.$state.subscriberDetail.package_type,w.value=o.$state.subscriberDetail.serial_number,d.value=o.$state.subscriberDetail.olt_ip,g.value=o.$state.subscriberDetail.olt_interface,h.value=o.$state.subscriberDetail.mode,b.value=o.$state.subscriberDetail.ssid,D.value=o.$state.subscriberDetail.password});const E=["0/1:1","0/1:2","0/1:3","0/2:1","0/2:2","0/2:3","0/3:1","0/3:2","0/3:3"],H=()=>{o.$state.modalIsOpen=!o.$state.modalIsOpen},W=async $=>{await Re.put(`${zi}/api/subscriber_test/${$}/edit`,{acc_no:c.value,subscriber_name:m.value,serial_number:w.value,olt_ip:d.value,olt_interface:g.value,package_type:v.value,mode:h.value,ssid:b.value,password:D.value}).then(S=>{I.subscriber=S.data,a.getSubsribers()}).catch(S=>{I.subscriber=S}),await Re.post(`${tr}/configureSSID`,{SN:w.value,NewSSID:h.value==="Bridged"?"":b.value,Password:D.value}).then(S=>{I.configureSsid=S.data}).catch(S=>{I.configureSsid=S}),await Re.post(`${tr}/bridgedWanConfig`,{SN:w.value}).then(S=>{I.wanConfig=S.data}).catch(S=>{I.wanConfig=S}),await Re.post(nr+"/setBandwidth").then(S=>{if(S.data)I.setBandwidth="Bandwidth Config Success!";else throw new Error("Something went wrong!")}).catch(S=>{I.setBandwidth=S}),await Re.post(nr+"/runPlaybook").then(S=>{if(S.data)I.runAnsible="Successfull Setup!";else throw new Error("Something went wrong!")}).catch(S=>{I.runAnsible=S})};return($,S)=>(we(),xe($t,null,{default:V(()=>[C(Mt,{modelValue:Se(o).$state.modalIsOpen,"onUpdate:modelValue":S[12]||(S[12]=L=>Se(o).$state.modalIsOpen=L),modelModifiers:{trim:!0}},{default:V(()=>[C(qe,null,{default:V(()=>[C(ze,{class:"flex-subscriber"},{default:V(()=>[j("div",Vi,[C(he,{modelValue:c.value,"onUpdate:modelValue":S[0]||(S[0]=L=>c.value=L),modelModifiers:{trim:!0},outlined:"",label:"Account No.",class:"q-ma-md",disable:""},null,8,["modelValue"]),C(he,{modelValue:m.value,"onUpdate:modelValue":S[1]||(S[1]=L=>m.value=L),modelModifiers:{trim:!0},outlined:"",label:"Subscriber Name",class:"q-ma-md",disable:""},null,8,["modelValue"]),C(he,{modelValue:v.value,"onUpdate:modelValue":S[2]||(S[2]=L=>v.value=L),modelModifiers:{trim:!0},outlined:"",label:"Package Type",class:"q-ma-md",disable:""},null,8,["modelValue"]),C(he,{modelValue:w.value,"onUpdate:modelValue":S[3]||(S[3]=L=>w.value=L),modelModifiers:{trim:!0},outlined:"",label:"Serial Number",class:"q-ma-md"},null,8,["modelValue"]),C(ft,{modelValue:d.value,"onUpdate:modelValue":S[4]||(S[4]=L=>d.value=L),modelModifiers:{trim:!0},filled:"",options:["172.16.0.2","172.16.0.58","172.16.0.22"],label:"OLT IP",class:"q-ma-md"},null,8,["modelValue"])]),j("div",ji,[C(ft,{modelValue:g.value,"onUpdate:modelValue":S[5]||(S[5]=L=>g.value=L),modelModifiers:{trim:!0},filled:"",options:E,label:"OLT Interface",class:"q-ma-md"},null,8,["modelValue"]),C(Ai,{filled:"",label:"Mode","stack-label":"",class:"q-ma-md"},{control:V(()=>[j("div",Hi,[C(er,{modelValue:h.value,"onUpdate:modelValue":S[6]||(S[6]=L=>h.value=L),modelModifiers:{trim:!0},dense:"",val:"Bridged",label:"Bridged"},null,8,["modelValue"]),C(er,{modelValue:h.value,"onUpdate:modelValue":S[7]||(S[7]=L=>h.value=L),modelModifiers:{trim:!0},dense:"",val:"Routed",label:"Routed"},null,8,["modelValue"])])]),_:1}),C(he,{modelValue:b.value,"onUpdate:modelValue":S[8]||(S[8]=L=>b.value=L),modelModifiers:{trim:!0},outlined:"",class:"q-ma-md",label:"SSID"},null,8,["modelValue"]),C(he,{modelValue:D.value,"onUpdate:modelValue":S[10]||(S[10]=L=>D.value=L),modelModifiers:{trim:!0},outlined:"",class:"q-ma-md",label:"Password",type:U.value?"password":"text"},{append:V(()=>[C(dt,{name:U.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:S[9]||(S[9]=L=>U.value=!U.value)},null,8,["name"])]),_:1},8,["modelValue","type"])])]),_:1}),C(cn,{align:"left"},{default:V(()=>[C(et,{flat:"",label:"Update Info",color:"secondary",onClick:S[11]||(S[11]=L=>W(Se(l)))}),C(et,{flat:"",label:"Close",color:"primary",onClick:H})]),_:1}),C(ct,{class:"bg-primary text-white"},{default:V(()=>[le(" Subscriber Details: "+Q(I.subscriber)+" ",1),Wi,le(" SSID/Password Config: "+Q(I.configureSsid)+" ",1),Gi,le(" Wan Config: "+Q(I.wanConfig)+" ",1),Bi,le(" Bandwidth: "+Q(I.setBandwidth)+" ",1),Yi,le(" Playbook: "+Q(I.runAnsible)+" ",1),qi]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});var Zi=sn(Qi,[["__scopeId","data-v-7a47d3e6"]]);const Ji={ratio:[String,Number]};function Ki(n,o){return ge(()=>{const a=Number(n.ratio||(o!==void 0?o.value:void 0));return isNaN(a)!==!0&&a>0?{paddingBottom:`${100/a}%`}:null})}const Xi=16/9;var es=mr({name:"QImg",props:{...Ji,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Xi},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(n,{slots:o,emit:a}){const l=k(n.initialRatio),c=Ki(n,l);let m=null,v=!1;const w=[k(null),k(H())],d=k(0),g=k(!1),h=k(!1),b=ge(()=>`q-img q-img--${n.noNativeMenu===!0?"no-":""}menu`),D=ge(()=>({width:n.width,height:n.height})),U=ge(()=>`q-img__image ${n.imgClass!==void 0?n.imgClass+" ":""}q-img__image--with${n.noTransition===!0?"out":""}-transition`),I=ge(()=>({...n.imgStyle,objectFit:n.fit,objectPosition:n.position}));ke(()=>E(),W);function E(){return n.src||n.srcset||n.sizes?{src:n.src,srcset:n.srcset,sizes:n.sizes}:null}function H(){return n.placeholderSrc!==void 0?{src:n.placeholderSrc}:null}function W(_){m!==null&&(clearTimeout(m),m=null),h.value=!1,_===null?(g.value=!1,w[d.value^1].value=H()):g.value=!0,w[d.value].value=_}function $({target:_}){v!==!0&&(m!==null&&(clearTimeout(m),m=null),l.value=_.naturalHeight===0?.5:_.naturalWidth/_.naturalHeight,S(_,1))}function S(_,Y){v===!0||Y===1e3||(_.complete===!0?L(_):m=setTimeout(()=>{m=null,S(_,Y+1)},50))}function L(_){v!==!0&&(d.value=d.value^1,w[d.value].value=null,g.value=!1,h.value=!1,a("load",_.currentSrc||_.src))}function R(_){m!==null&&(clearTimeout(m),m=null),g.value=!1,h.value=!0,w[d.value].value=null,w[d.value^1].value=H(),a("error",_)}function P(_){const Y=w[_].value,Z={key:"img_"+_,class:U.value,style:I.value,crossorigin:n.crossorigin,decoding:n.decoding,referrerpolicy:n.referrerpolicy,height:n.height,width:n.width,loading:n.loading,fetchpriority:n.fetchpriority,"aria-hidden":"true",draggable:n.draggable,...Y};return d.value===_?(Z.class+=" q-img__image--waiting",Object.assign(Z,{onLoad:$,onError:R})):Z.class+=" q-img__image--loaded",_e("div",{class:"q-img__container absolute-full",key:"img"+_},_e("img",Z))}function O(){return g.value!==!0?_e("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},vr(o[h.value===!0?"error":"default"])):_e("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},o.loading!==void 0?o.loading():n.noSpinner===!0?void 0:[_e(oi,{color:n.spinnerColor,size:n.spinnerSize})])}return W(E()),tn(()=>{v=!0,m!==null&&(clearTimeout(m),m=null)}),()=>{const _=[];return c.value!==null&&_.push(_e("div",{key:"filler",style:c.value})),h.value!==!0&&(w[0].value!==null&&_.push(P(0)),w[1].value!==null&&_.push(P(1))),_.push(_e(pr,{name:"q-transition--fade"},O)),_e("div",{class:b.value,style:D.value,role:"img","aria-label":n.alt},_)}}}),Sr=(n,o,a)=>{if(!o.has(n))throw TypeError("Cannot "+a)},rr=(n,o,a)=>(Sr(n,o,"read from private field"),a?a.call(n):o.get(n)),ts=(n,o,a)=>{if(o.has(n))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(n):o.set(n,a)},ns=(n,o,a,l)=>(Sr(n,o,"write to private field"),l?l.call(n,a):o.set(n,a),a);const ar=["aztec","code_128","code_39","code_93","codabar","data_matrix","ean_13","ean_8","itf","pdf417","qr_code","upc_a","upc_e","unknown"];function rs(n){if(Ar(n))return{width:n.naturalWidth,height:n.naturalHeight};if(Or(n))return{width:n.width.baseVal.value,height:n.height.baseVal.value};if(Er(n))return{width:n.videoWidth,height:n.videoHeight};if(Cr(n))return{width:n.width,height:n.height};if(Nr(n))return{width:n.displayWidth,height:n.displayHeight};if(_r(n))return{width:n.width,height:n.height};if(Pr(n))return{width:n.width,height:n.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function Ar(n){try{return n instanceof HTMLImageElement}catch{return!1}}function Or(n){try{return n instanceof SVGImageElement}catch{return!1}}function Er(n){try{return n instanceof HTMLVideoElement}catch{return!1}}function _r(n){try{return n instanceof HTMLCanvasElement}catch{return!1}}function Cr(n){try{return n instanceof ImageBitmap}catch{return!1}}function Pr(n){try{return n instanceof OffscreenCanvas}catch{return!1}}function Nr(n){try{return n instanceof VideoFrame}catch{return!1}}function Mr(n){try{return n instanceof Blob}catch{return!1}}function as(n){try{return n instanceof ImageData}catch{return!1}}function os(n,o){try{const a=new OffscreenCanvas(n,o);if(a.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return a;throw void 0}catch{const l=document.createElement("canvas");return l.width=n,l.height=o,l}}async function Ir(n){if(Ar(n)&&!await us(n))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Or(n)&&!await cs(n))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Nr(n)&&ds(n))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(Er(n)&&(n.readyState===0||n.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Cr(n)&&ms(n))throw new DOMException("The image source is detached.","InvalidStateError");const{width:o,height:a}=rs(n);if(o===0||a===0)return null;const l=os(o,a).getContext("2d");l.drawImage(n,0,0);try{return l.getImageData(0,0,o,a)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function is(n){let o;try{if(createImageBitmap)o=await createImageBitmap(n);else if(Image){o=new Image;let a="";try{a=URL.createObjectURL(n),o.src=a,await o.decode()}finally{URL.revokeObjectURL(a)}}else return n}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await Ir(o)}function ss(n){const{width:o,height:a}=n;if(o===0||a===0)return null;const l=n.getContext("2d");try{return l.getImageData(0,0,o,a)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function ls(n){if(Mr(n))return await is(n);if(as(n)){if(fs(n))throw new DOMException("The image data has been detached.","InvalidStateError");return n}return _r(n)||Pr(n)?ss(n):await Ir(n)}async function us(n){try{return await n.decode(),!0}catch{return!1}}async function cs(n){var o;try{return await((o=n.decode)==null?void 0:o.call(n)),!0}catch{return!1}}function ds(n){return n.format===null}function fs(n){return n.data.buffer.byteLength===0}function ms(n){return n.width===0&&n.height===0}function or(n,o){return n instanceof DOMException?new DOMException(`${o}: ${n.message}`,n.name):n instanceof Error?new n.constructor(`${o}: ${n.message}`):new Error(`${o}: ${n}`)}const ir=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","UPC-A","UPC-E"];function ps(n){return n.join("|")}function vs(n){const o=sr(n);let a=0,l=ir.length-1;for(;a<=l;){const c=Math.floor((a+l)/2),m=ir[c],v=sr(m);if(v===o)return m;v<o?a=c+1:l=c-1}return"None"}function sr(n){return n.toLowerCase().replace(/_-\[\]/g,"")}function hs(n,o){return n.Binarizer[o]}function gs(n,o){return n.CharacterSet[o]}const ys=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function bs(n){return ys[n.value]}function Ts(n,o){return n.EanAddOnSymbol[o]}function ws(n,o){return n.TextMode[o]}const It={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function Lr(n,o){return{...o,formats:ps(o.formats),binarizer:hs(n,o.binarizer),eanAddOnSymbol:Ts(n,o.eanAddOnSymbol),textMode:ws(n,o.textMode),characterSet:gs(n,o.characterSet)}}function Dr(n){return{...n,format:vs(n.format),eccLevel:n.eccLevel,contentType:bs(n.contentType)}}const Ss={locateFile:(n,o)=>{const a=n.match(/_(.+?)\.wasm$/);return a?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.0.0-rc.4/dist/${a[1]}/${n}`:o+n}};let lr=new WeakMap;function fn(n,o){var a;const l=lr.get(n);if(l!=null&&l.modulePromise&&(o===void 0||Object.is(o,l.moduleOverrides)))return l.modulePromise;const c=(a=o!=null?o:l==null?void 0:l.moduleOverrides)!=null?a:Ss,m=n({...c});return lr.set(n,{moduleOverrides:c,modulePromise:m}),m}async function As(n,o,a=It){const l={...It,...a},c=await fn(n),{size:m}=o,v=new Uint8Array(await o.arrayBuffer()),w=c._malloc(m);c.HEAPU8.set(v,w);const d=c.readBarcodesFromImage(w,m,Lr(c,l));c._free(w);const g=[];for(let h=0;h<d.size();++h)g.push(Dr(d.get(h)));return g}async function Os(n,o,a=It){const l={...It,...a},c=await fn(n),{data:m,width:v,height:w,data:{byteLength:d}}=o,g=c._malloc(d);c.HEAPU8.set(m,g);const h=c.readBarcodesFromPixmap(g,v,w,Lr(c,l));c._free(g);const b=[];for(let D=0;D<h.size();++D)b.push(Dr(h.get(D)));return b}var mn=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(o={}){var a=o,l,c;a.ready=new Promise((e,t)=>{l=e,c=t});var m=Object.assign({},a),v="./this.program",w=typeof window=="object",d=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var g="";function h(e){return a.locateFile?a.locateFile(e,g):g+e}var b;(w||d)&&(d?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),n&&(g=n),g.indexOf("blob:")!==0?g=g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):g="",d&&(b=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),a.print||console.log.bind(console);var D=a.printErr||console.error.bind(console);Object.assign(a,m),m=null,a.arguments&&a.arguments,a.thisProgram&&(v=a.thisProgram),a.quit&&a.quit;var U;a.wasmBinary&&(U=a.wasmBinary),typeof WebAssembly!="object"&&J("no native wasm support detected");var I,E=!1;function H(e,t){e||J(t)}var W,$,S,L,R,P,O,_;function Y(){var e=I.buffer;a.HEAP8=W=new Int8Array(e),a.HEAP16=S=new Int16Array(e),a.HEAPU8=$=new Uint8Array(e),a.HEAPU16=L=new Uint16Array(e),a.HEAP32=R=new Int32Array(e),a.HEAPU32=P=new Uint32Array(e),a.HEAPF32=O=new Float32Array(e),a.HEAPF64=_=new Float64Array(e)}var Z=[],fe=[],Ae=[];function Le(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)de(a.preRun.shift());Ut(Z)}function Pe(){Ut(fe)}function De(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)tt(a.postRun.shift());Ut(Ae)}function de(e){Z.unshift(e)}function $e(e){fe.unshift(e)}function tt(e){Ae.unshift(e)}var ye=0,ue=null;function me(e){ye++,a.monitorRunDependencies&&a.monitorRunDependencies(ye)}function nt(e){if(ye--,a.monitorRunDependencies&&a.monitorRunDependencies(ye),ye==0&&ue){var t=ue;ue=null,t()}}function J(e){a.onAbort&&a.onAbort(e),e="Aborted("+e+")",D(e),E=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw c(t),t}var He="data:application/octet-stream;base64,",pe=e=>e.startsWith(He),be;be="zxing_reader.wasm",pe(be)||(be=h(be));function vt(e){if(e==be&&U)return new Uint8Array(U);if(b)return b(e);throw"both async and sync fetching of the wasm failed"}function Qr(e){return!U&&(w||d)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>vt(e)):Promise.resolve().then(()=>vt(e))}function pn(e,t,r){return Qr(e).then(i=>WebAssembly.instantiate(i,t)).then(i=>i).then(r,i=>{D(`failed to asynchronously prepare wasm: ${i}`),J(i)})}function Zr(e,t,r,i){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!pe(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(s=>{var u=WebAssembly.instantiateStreaming(s,r);return u.then(i,function(f){return D(`wasm streaming compile failed: ${f}`),D("falling back to ArrayBuffer instantiation"),pn(t,r,i)})}):pn(t,r,i)}function Jr(){var e={a:Lo};function t(i,s){return K=i.exports,I=K.fa,Y(),_n=K.ja,$e(K.ga),nt(),K}me();function r(i){t(i.instance)}if(a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(i){D(`Module.instantiateWasm callback failed with error: ${i}`),c(i)}return Zr(U,be,e,r).catch(c),{}}var Ut=e=>{for(;e.length>0;)e.shift()(a)};a.noExitRuntime;var ht=[],gt=0,Kr=e=>{var t=new Rt(e);return t.get_caught()||(t.set_caught(!0),gt--),t.set_rethrown(!1),ht.push(t),Hn(t.excPtr),t.get_exception_ptr()},Ne=0,Xr=()=>{X(0,0);var e=ht.pop();jn(e.excPtr),Ne=0};function Rt(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){P[this.ptr+4>>2]=t},this.get_type=function(){return P[this.ptr+4>>2]},this.set_destructor=function(t){P[this.ptr+8>>2]=t},this.get_destructor=function(){return P[this.ptr+8>>2]},this.set_caught=function(t){t=t?1:0,W[this.ptr+12>>0]=t},this.get_caught=function(){return W[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,W[this.ptr+13>>0]=t},this.get_rethrown=function(){return W[this.ptr+13>>0]!=0},this.init=function(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)},this.set_adjusted_ptr=function(t){P[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return P[this.ptr+16>>2]},this.get_exception_ptr=function(){var t=Gn(this.get_type());if(t)return P[this.excPtr>>2];var r=this.get_adjusted_ptr();return r!==0?r:this.excPtr}}var ea=e=>{throw Ne||(Ne=e),Ne},Ft=e=>{var t=Ne;if(!t)return lt(0),0;var r=new Rt(t);r.set_adjusted_ptr(t);var i=r.get_type();if(!i)return lt(0),t;for(var s in e){var u=e[s];if(u===0||u===i)break;var f=r.ptr+16;if(Wn(u,i,f))return lt(u),t}return lt(i),t},ta=()=>Ft([]),na=e=>Ft([e]),ra=(e,t)=>Ft([e,t]),aa=()=>{var e=ht.pop();e||J("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(ht.push(e),e.set_rethrown(!0),e.set_caught(!1),gt++),Ne=t,Ne},oa=(e,t,r)=>{var i=new Rt(e);throw i.init(t,r),Ne=e,gt++,Ne},ia=()=>gt,yt={},vn=e=>{for(;e.length;){var t=e.pop(),r=e.pop();r(t)}};function kt(e){return this.fromWireType(R[e>>2])}var Qe={},We={},bt={},hn,Tt=e=>{throw new hn(e)},Ge=(e,t,r)=>{e.forEach(function(p){bt[p]=t});function i(p){var y=r(p);y.length!==e.length&&Tt("Mismatched type converter count");for(var A=0;A<e.length;++A)Oe(e[A],y[A])}var s=new Array(t.length),u=[],f=0;t.forEach((p,y)=>{We.hasOwnProperty(p)?s[y]=We[p]:(u.push(p),Qe.hasOwnProperty(p)||(Qe[p]=[]),Qe[p].push(()=>{s[y]=We[p],++f,f===u.length&&i(s)}))}),u.length===0&&i(s)},sa=e=>{var t=yt[e];delete yt[e];var r=t.rawConstructor,i=t.rawDestructor,s=t.fields,u=s.map(f=>f.getterReturnType).concat(s.map(f=>f.setterArgumentType));Ge([e],u,f=>{var p={};return s.forEach((y,A)=>{var N=y.fieldName,F=f[A],x=y.getter,G=y.getterContext,q=f[A+s.length],ie=y.setter,z=y.setterContext;p[N]={read:se=>F.fromWireType(x(G,se)),write:(se,T)=>{var M=[];ie(z,se,q.toWireType(M,T)),vn(M)}}}),[{name:t.name,fromWireType:y=>{var A={};for(var N in p)A[N]=p[N].read(y);return i(y),A},toWireType:(y,A)=>{for(var N in p)if(!(N in A))throw new TypeError(`Missing field: "${N}"`);var F=r();for(N in p)p[N].write(F,A[N]);return y!==null&&y.push(i,F),F},argPackAdvance:Ee,readValueFromPointer:kt,destructorFunction:i}]})},la=(e,t,r,i,s)=>{},ua=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);gn=e},gn,oe=e=>{for(var t="",r=e;$[r];)t+=gn[$[r++]];return t},Ze,B=e=>{throw new Ze(e)};function ca(e,t,r={}){var i=t.name;if(e||B(`type "${i}" must have a positive integer typeid pointer`),We.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;B(`Cannot register type '${i}' twice`)}if(We[e]=t,delete bt[e],Qe.hasOwnProperty(e)){var s=Qe[e];delete Qe[e],s.forEach(u=>u())}}function Oe(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return ca(e,t,r)}var Ee=8,da=(e,t,r,i)=>{t=oe(t),Oe(e,{name:t,fromWireType:function(s){return!!s},toWireType:function(s,u){return u?r:i},argPackAdvance:Ee,readValueFromPointer:function(s){return this.fromWireType($[s])},destructorFunction:null})},fa=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),xt=e=>{function t(r){return r.$$.ptrType.registeredClass.name}B(t(e)+" instance already deleted")},Vt=!1,yn=e=>{},ma=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},bn=e=>{e.count.value-=1;var t=e.count.value===0;t&&ma(e)},Tn=(e,t,r)=>{if(t===r)return e;if(r.baseClass===void 0)return null;var i=Tn(e,t,r.baseClass);return i===null?null:r.downcast(i)},wn={},pa=()=>Object.keys(ot).length,va=()=>{var e=[];for(var t in ot)ot.hasOwnProperty(t)&&e.push(ot[t]);return e},rt=[],jt=()=>{for(;rt.length;){var e=rt.pop();e.$$.deleteScheduled=!1,e.delete()}},at,ha=e=>{at=e,rt.length&&at&&at(jt)},ga=()=>{a.getInheritedInstanceCount=pa,a.getLiveInheritedInstances=va,a.flushPendingDeletes=jt,a.setDelayFunction=ha},ot={},ya=(e,t)=>{for(t===void 0&&B("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},ba=(e,t)=>(t=ya(e,t),ot[t]),wt=(e,t)=>{(!t.ptrType||!t.ptr)&&Tt("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,i=!!t.smartPtr;return r!==i&&Tt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},it(Object.create(e,{$$:{value:t}}))};function Ta(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=ba(this.registeredClass,t);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var i=r.clone();return this.destructor(e),i}function s(){return this.isSmartPointer?wt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):wt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var u=this.registeredClass.getActualType(t),f=wn[u];if(!f)return s.call(this);var p;this.isConst?p=f.constPointerType:p=f.pointerType;var y=Tn(t,this.registeredClass,p.registeredClass);return y===null?s.call(this):this.isSmartPointer?wt(p.registeredClass.instancePrototype,{ptrType:p,ptr:y,smartPtrType:this,smartPtr:e}):wt(p.registeredClass.instancePrototype,{ptrType:p,ptr:y})}var it=e=>typeof FinalizationRegistry>"u"?(it=t=>t,e):(Vt=new FinalizationRegistry(t=>{bn(t.$$)}),it=t=>{var r=t.$$,i=!!r.smartPtr;if(i){var s={$$:r};Vt.register(t,s,t)}return t},yn=t=>Vt.unregister(t),it(e)),wa=()=>{Object.assign(St.prototype,{isAliasOf(e){if(!(this instanceof St)||!(e instanceof St))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var i=e.$$.ptrType.registeredClass,s=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;i.baseClass;)s=i.upcast(s),i=i.baseClass;return t===i&&r===s},clone(){if(this.$$.ptr||xt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=it(Object.create(Object.getPrototypeOf(this),{$$:{value:fa(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||xt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&B("Object already scheduled for deletion"),yn(this),bn(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||xt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&B("Object already scheduled for deletion"),rt.push(this),rt.length===1&&at&&at(jt),this.$$.deleteScheduled=!0,this}})};function St(){}var Sa=48,Aa=57,Sn=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=Sa&&t<=Aa?`_${e}`:e};function Ht(e,t){return e=Sn(e),{[e]:function(){return t.apply(this,arguments)}}[e]}var An=(e,t,r)=>{if(e[t].overloadTable===void 0){var i=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||B(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[i.argCount]=i}},Wt=(e,t,r)=>{a.hasOwnProperty(e)?((r===void 0||a[e].overloadTable!==void 0&&a[e].overloadTable[r]!==void 0)&&B(`Cannot register public name '${e}' twice`),An(a,e,e),a.hasOwnProperty(r)&&B(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),a[e].overloadTable[r]=t):(a[e]=t,r!==void 0&&(a[e].numArguments=r))};function Oa(e,t,r,i,s,u,f,p){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=i,this.baseClass=s,this.getActualType=u,this.upcast=f,this.downcast=p,this.pureVirtualFunctions=[]}var Gt=(e,t,r)=>{for(;t!==r;)t.upcast||B(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Ea(e,t){if(t===null)return this.isReference&&B(`null is not a valid ${this.name}`),0;t.$$||B(`Cannot pass "${zt(t)}" as a ${this.name}`),t.$$.ptr||B(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,i=Gt(t.$$.ptr,r,this.registeredClass);return i}function _a(e,t){var r;if(t===null)return this.isReference&&B(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,r),r):0;t.$$||B(`Cannot pass "${zt(t)}" as a ${this.name}`),t.$$.ptr||B(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&B(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var i=t.$$.ptrType.registeredClass;if(r=Gt(t.$$.ptr,i,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&B("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:B(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var s=t.clone();r=this.rawShare(r,Ue.toHandle(()=>s.delete())),e!==null&&e.push(this.rawDestructor,r)}break;default:B("Unsupporting sharing policy")}return r}function Ca(e,t){if(t===null)return this.isReference&&B(`null is not a valid ${this.name}`),0;t.$$||B(`Cannot pass "${zt(t)}" as a ${this.name}`),t.$$.ptr||B(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&B(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,i=Gt(t.$$.ptr,r,this.registeredClass);return i}function On(e){return this.fromWireType(P[e>>2])}var Pa=()=>{Object.assign(At.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor&&this.rawDestructor(e)},argPackAdvance:Ee,readValueFromPointer:On,deleteObject(e){e!==null&&e.delete()},fromWireType:Ta})};function At(e,t,r,i,s,u,f,p,y,A,N){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=i,this.isSmartPointer=s,this.pointeeType=u,this.sharingPolicy=f,this.rawGetPointee=p,this.rawConstructor=y,this.rawShare=A,this.rawDestructor=N,!s&&t.baseClass===void 0?i?(this.toWireType=Ea,this.destructorFunction=null):(this.toWireType=Ca,this.destructorFunction=null):this.toWireType=_a}var En=(e,t,r)=>{a.hasOwnProperty(e)||Tt("Replacing nonexistant public symbol"),a[e].overloadTable!==void 0&&r!==void 0?a[e].overloadTable[r]=t:(a[e]=t,a[e].argCount=r)},Na=(e,t,r)=>{var i=a["dynCall_"+e];return r&&r.length?i.apply(null,[t].concat(r)):i.call(null,t)},Ot=[],_n,ee=e=>{var t=Ot[e];return t||(e>=Ot.length&&(Ot.length=e+1),Ot[e]=t=_n.get(e)),t},Ma=(e,t,r)=>{if(e.includes("j"))return Na(e,t,r);var i=ee(t).apply(null,r);return i},Ia=(e,t)=>{var r=[];return function(){return r.length=0,Object.assign(r,arguments),Ma(e,t,r)}},Te=(e,t)=>{e=oe(e);function r(){return e.includes("j")?Ia(e,t):ee(t)}var i=r();return typeof i!="function"&&B(`unknown function pointer with signature ${e}: ${t}`),i},La=(e,t)=>{var r=Ht(t,function(i){this.name=t,this.message=i;var s=new Error(i).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r},Cn,Pn=e=>{var t=Vn(e),r=oe(t);return Me(t),r},Et=(e,t)=>{var r=[],i={};function s(u){if(!i[u]&&!We[u]){if(bt[u]){bt[u].forEach(s);return}r.push(u),i[u]=!0}}throw t.forEach(s),new Cn(`${e}: `+r.map(Pn).join([", "]))},Da=(e,t,r,i,s,u,f,p,y,A,N,F,x)=>{N=oe(N),u=Te(s,u),p&&(p=Te(f,p)),A&&(A=Te(y,A)),x=Te(F,x);var G=Sn(N);Wt(G,function(){Et(`Cannot construct ${N} due to unbound types`,[i])}),Ge([e,t,r],i?[i]:[],function(q){q=q[0];var ie,z;i?(ie=q.registeredClass,z=ie.instancePrototype):z=St.prototype;var se=Ht(G,function(){if(Object.getPrototypeOf(this)!==T)throw new Ze("Use 'new' to construct "+N);if(M.constructor_body===void 0)throw new Ze(N+" has no accessible constructor");var Pt=M.constructor_body[arguments.length];if(Pt===void 0)throw new Ze(`Tried to invoke ctor of ${N} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(M.constructor_body).toString()}) parameters instead!`);return Pt.apply(this,arguments)}),T=Object.create(z,{constructor:{value:se}});se.prototype=T;var M=new Oa(N,se,T,x,ie,u,p,A);M.baseClass&&(M.baseClass.__derivedClasses===void 0&&(M.baseClass.__derivedClasses=[]),M.baseClass.__derivedClasses.push(M));var re=new At(N,M,!0,!1,!1),ae=new At(N+"*",M,!1,!1,!1),Be=new At(N+" const*",M,!1,!0,!1);return wn[e]={pointerType:ae,constPointerType:Be},En(G,se),[re,ae,Be]})},Bt=(e,t)=>{for(var r=[],i=0;i<e;i++)r.push(P[t+i*4>>2]);return r};function Yt(e,t,r,i,s,u){var f=t.length;f<2&&B("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var p=t[1]!==null&&r!==null,y=!1,A=1;A<t.length;++A)if(t[A]!==null&&t[A].destructorFunction===void 0){y=!0;break}var N=t[0].name!=="void",F=f-2,x=new Array(F),G=[],q=[];return function(){arguments.length!==F&&B(`function ${e} called with ${arguments.length} arguments, expected ${F}`),q.length=0;var ie;G.length=p?2:1,G[0]=s,p&&(ie=t[1].toWireType(q,this),G[1]=ie);for(var z=0;z<F;++z)x[z]=t[z+2].toWireType(q,arguments[z]),G.push(x[z]);var se=i.apply(null,G);function T(M){if(y)vn(q);else for(var re=p?1:2;re<t.length;re++){var ae=re===1?ie:x[re-2];t[re].destructorFunction!==null&&t[re].destructorFunction(ae)}if(N)return t[0].fromWireType(M)}return T(se)}}var $a=(e,t,r,i,s,u)=>{var f=Bt(t,r);s=Te(i,s),Ge([],[e],function(p){p=p[0];var y=`constructor ${p.name}`;if(p.registeredClass.constructor_body===void 0&&(p.registeredClass.constructor_body=[]),p.registeredClass.constructor_body[t-1]!==void 0)throw new Ze(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${p.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return p.registeredClass.constructor_body[t-1]=()=>{Et(`Cannot construct ${p.name} due to unbound types`,f)},Ge([],f,A=>(A.splice(1,0,null),p.registeredClass.constructor_body[t-1]=Yt(y,A,null,s,u),[])),[]})},Nn=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?(H(e[e.length-1]==")","Parentheses for argument names should match."),e.substr(0,t)):e},Ua=(e,t,r,i,s,u,f,p,y)=>{var A=Bt(r,i);t=oe(t),t=Nn(t),u=Te(s,u),Ge([],[e],function(N){N=N[0];var F=`${N.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),p&&N.registeredClass.pureVirtualFunctions.push(t);function x(){Et(`Cannot call ${F} due to unbound types`,A)}var G=N.registeredClass.instancePrototype,q=G[t];return q===void 0||q.overloadTable===void 0&&q.className!==N.name&&q.argCount===r-2?(x.argCount=r-2,x.className=N.name,G[t]=x):(An(G,t,F),G[t].overloadTable[r-2]=x),Ge([],A,function(ie){var z=Yt(F,ie,N,u,f);return G[t].overloadTable===void 0?(z.argCount=r-2,G[t]=z):G[t].overloadTable[r-2]=z,[]}),[]})};function Ra(){Object.assign(Mn.prototype,{get(e){return this.allocated[e]},has(e){return this.allocated[e]!==void 0},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}})}function Mn(){this.allocated=[void 0],this.freelist=[]}var ve=new Mn,In=e=>{e>=ve.reserved&&--ve.get(e).refcount===0&&ve.free(e)},Fa=()=>{for(var e=0,t=ve.reserved;t<ve.allocated.length;++t)ve.allocated[t]!==void 0&&++e;return e},ka=()=>{ve.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),ve.reserved=ve.allocated.length,a.count_emval_handles=Fa},Ue={toValue:e=>(e||B("Cannot use deleted val. handle = "+e),ve.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ve.allocate({refcount:1,value:e})}}},xa=(e,t)=>{t=oe(t),Oe(e,{name:t,fromWireType:r=>{var i=Ue.toValue(r);return In(r),i},toWireType:(r,i)=>Ue.toHandle(i),argPackAdvance:Ee,readValueFromPointer:kt,destructorFunction:null})},Va=(e,t,r)=>{switch(t){case 1:return r?function(i){return this.fromWireType(W[i>>0])}:function(i){return this.fromWireType($[i>>0])};case 2:return r?function(i){return this.fromWireType(S[i>>1])}:function(i){return this.fromWireType(L[i>>1])};case 4:return r?function(i){return this.fromWireType(R[i>>2])}:function(i){return this.fromWireType(P[i>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},ja=(e,t,r,i)=>{t=oe(t);function s(){}s.values={},Oe(e,{name:t,constructor:s,fromWireType:function(u){return this.constructor.values[u]},toWireType:(u,f)=>f.value,argPackAdvance:Ee,readValueFromPointer:Va(t,r,i),destructorFunction:null}),Wt(t,s)},qt=(e,t)=>{var r=We[e];return r===void 0&&B(t+" has unknown type "+Pn(e)),r},Ha=(e,t,r)=>{var i=qt(e,"enum");t=oe(t);var s=i.constructor,u=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:Ht(`${i.name}_${t}`,function(){})}});s.values[r]=u,s[t]=u},zt=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},Wa=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(O[r>>2])};case 8:return function(r){return this.fromWireType(_[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},Ga=(e,t,r)=>{t=oe(t),Oe(e,{name:t,fromWireType:i=>i,toWireType:(i,s)=>s,argPackAdvance:Ee,readValueFromPointer:Wa(t,r),destructorFunction:null})},Ba=(e,t,r,i,s,u,f)=>{var p=Bt(t,r);e=oe(e),e=Nn(e),s=Te(i,s),Wt(e,function(){Et(`Cannot call ${e} due to unbound types`,p)},t-1),Ge([],p,function(y){var A=[y[0],null].concat(y.slice(1));return En(e,Yt(e,A,null,s,u),t-1),[]})},Ya=(e,t,r)=>{switch(t){case 1:return r?i=>W[i>>0]:i=>$[i>>0];case 2:return r?i=>S[i>>1]:i=>L[i>>1];case 4:return r?i=>R[i>>2]:i=>P[i>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},qa=(e,t,r,i,s)=>{t=oe(t);var u=N=>N;if(i===0){var f=32-8*r;u=N=>N<<f>>>f}var p=t.includes("unsigned"),y=(N,F)=>{},A;p?A=function(N,F){return y(F,this.name),F>>>0}:A=function(N,F){return y(F,this.name),F},Oe(e,{name:t,fromWireType:u,toWireType:A,argPackAdvance:Ee,readValueFromPointer:Ya(t,r,i!==0),destructorFunction:null})},za=(e,t,r)=>{var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=i[t];function u(f){var p=P[f>>2],y=P[f+4>>2];return new s(W.buffer,y,p)}r=oe(r),Oe(e,{name:r,fromWireType:u,argPackAdvance:Ee,readValueFromPointer:u},{ignoreDuplicateRegistrations:!0})},Ln=(e,t,r,i)=>{if(!(i>0))return 0;for(var s=r,u=r+i-1,f=0;f<e.length;++f){var p=e.charCodeAt(f);if(p>=55296&&p<=57343){var y=e.charCodeAt(++f);p=65536+((p&1023)<<10)|y&1023}if(p<=127){if(r>=u)break;t[r++]=p}else if(p<=2047){if(r+1>=u)break;t[r++]=192|p>>6,t[r++]=128|p&63}else if(p<=65535){if(r+2>=u)break;t[r++]=224|p>>12,t[r++]=128|p>>6&63,t[r++]=128|p&63}else{if(r+3>=u)break;t[r++]=240|p>>18,t[r++]=128|p>>12&63,t[r++]=128|p>>6&63,t[r++]=128|p&63}}return t[r]=0,r-s},Qa=(e,t,r)=>Ln(e,$,t,r),Dn=e=>{for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++r):t+=3}return t},$n=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Za=(e,t,r)=>{for(var i=t+r,s=t;e[s]&&!(s>=i);)++s;if(s-t>16&&e.buffer&&$n)return $n.decode(e.subarray(t,s));for(var u="";t<s;){var f=e[t++];if(!(f&128)){u+=String.fromCharCode(f);continue}var p=e[t++]&63;if((f&224)==192){u+=String.fromCharCode((f&31)<<6|p);continue}var y=e[t++]&63;if((f&240)==224?f=(f&15)<<12|p<<6|y:f=(f&7)<<18|p<<12|y<<6|e[t++]&63,f<65536)u+=String.fromCharCode(f);else{var A=f-65536;u+=String.fromCharCode(55296|A>>10,56320|A&1023)}}return u},Qt=(e,t)=>e?Za($,e,t):"",Ja=(e,t)=>{t=oe(t);var r=t==="std::string";Oe(e,{name:t,fromWireType(i){var s=P[i>>2],u=i+4,f;if(r)for(var p=u,y=0;y<=s;++y){var A=u+y;if(y==s||$[A]==0){var N=A-p,F=Qt(p,N);f===void 0?f=F:(f+=String.fromCharCode(0),f+=F),p=A+1}}else{for(var x=new Array(s),y=0;y<s;++y)x[y]=String.fromCharCode($[u+y]);f=x.join("")}return Me(i),f},toWireType(i,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var u,f=typeof s=="string";f||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||B("Cannot pass non-string to std::string"),r&&f?u=Dn(s):u=s.length;var p=Jt(4+u+1),y=p+4;if(P[p>>2]=u,r&&f)Qa(s,y,u+1);else if(f)for(var A=0;A<u;++A){var N=s.charCodeAt(A);N>255&&(Me(y),B("String has UTF-16 code units that do not fit in 8 bits")),$[y+A]=N}else for(var A=0;A<u;++A)$[y+A]=s[A];return i!==null&&i.push(Me,p),p},argPackAdvance:Ee,readValueFromPointer:On,destructorFunction(i){Me(i)}})},Un=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ka=(e,t)=>{for(var r=e,i=r>>1,s=i+t/2;!(i>=s)&&L[i];)++i;if(r=i<<1,r-e>32&&Un)return Un.decode($.subarray(e,r));for(var u="",f=0;!(f>=t/2);++f){var p=S[e+f*2>>1];if(p==0)break;u+=String.fromCharCode(p)}return u},Xa=(e,t,r)=>{if(r===void 0&&(r=2147483647),r<2)return 0;r-=2;for(var i=t,s=r<e.length*2?r/2:e.length,u=0;u<s;++u){var f=e.charCodeAt(u);S[t>>1]=f,t+=2}return S[t>>1]=0,t-i},eo=e=>e.length*2,to=(e,t)=>{for(var r=0,i="";!(r>=t/4);){var s=R[e+r*4>>2];if(s==0)break;if(++r,s>=65536){var u=s-65536;i+=String.fromCharCode(55296|u>>10,56320|u&1023)}else i+=String.fromCharCode(s)}return i},no=(e,t,r)=>{if(r===void 0&&(r=2147483647),r<4)return 0;for(var i=t,s=i+r-4,u=0;u<e.length;++u){var f=e.charCodeAt(u);if(f>=55296&&f<=57343){var p=e.charCodeAt(++u);f=65536+((f&1023)<<10)|p&1023}if(R[t>>2]=f,t+=4,t+4>s)break}return R[t>>2]=0,t-i},ro=e=>{for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=55296&&i<=57343&&++r,t+=4}return t},ao=(e,t,r)=>{r=oe(r);var i,s,u,f,p;t===2?(i=Ka,s=Xa,f=eo,u=()=>L,p=1):t===4&&(i=to,s=no,f=ro,u=()=>P,p=2),Oe(e,{name:r,fromWireType:y=>{for(var A=P[y>>2],N=u(),F,x=y+4,G=0;G<=A;++G){var q=y+4+G*t;if(G==A||N[q>>p]==0){var ie=q-x,z=i(x,ie);F===void 0?F=z:(F+=String.fromCharCode(0),F+=z),x=q+t}}return Me(y),F},toWireType:(y,A)=>{typeof A!="string"&&B(`Cannot pass non-string to C++ string type ${r}`);var N=f(A),F=Jt(4+N+t);return P[F>>2]=N>>p,s(A,F+4,N+t),y!==null&&y.push(Me,F),F},argPackAdvance:Ee,readValueFromPointer:kt,destructorFunction(y){Me(y)}})},oo=(e,t,r,i,s,u)=>{yt[e]={name:oe(t),rawConstructor:Te(r,i),rawDestructor:Te(s,u),fields:[]}},io=(e,t,r,i,s,u,f,p,y,A)=>{yt[e].fields.push({fieldName:oe(t),getterReturnType:r,getter:Te(i,s),getterContext:u,setterArgumentType:f,setter:Te(p,y),setterContext:A})},so=(e,t)=>{t=oe(t),Oe(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(r,i)=>{}})},lo={},uo=e=>{var t=lo[e];return t===void 0?oe(e):t},Rn=()=>{if(typeof globalThis=="object")return globalThis;function e(t){t.$$$embind_global$$$=t;var r=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return r||delete t.$$$embind_global$$$,r}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},co=e=>e===0?Ue.toHandle(Rn()):(e=uo(e),Ue.toHandle(Rn()[e])),fo=e=>{e>4&&(ve.get(e).refcount+=1)},mo=e=>{var t=new Array(e+1);return function(r,i,s){t[0]=r;for(var u=0;u<e;++u){var f=qt(P[i+u*4>>2],"parameter "+u);t[u+1]=f.readValueFromPointer(s),s+=f.argPackAdvance}var p=new(r.bind.apply(r,t));return Ue.toHandle(p)}},Fn={},po=(e,t,r,i)=>{e=Ue.toValue(e);var s=Fn[t];return s||(s=mo(t),Fn[t]=s),s(e,r,i)},vo=(e,t)=>{e=qt(e,"_emval_take_value");var r=e.readValueFromPointer(t);return Ue.toHandle(r)},ho=()=>{J("")},go=(e,t,r)=>$.copyWithin(e,t,t+r),yo=()=>2147483648,bo=e=>{var t=I.buffer,r=(e-t.byteLength+65535)/65536;try{return I.grow(r),Y(),1}catch{}},To=e=>{var t=$.length;e>>>=0;var r=yo();if(e>r)return!1;for(var i=(y,A)=>y+(A-y%A)%A,s=1;s<=4;s*=2){var u=t*(1+.2/s);u=Math.min(u,e+100663296);var f=Math.min(r,i(Math.max(e,u),65536)),p=bo(f);if(p)return!0}return!1},Zt={},wo=()=>v||"./this.program",st=()=>{if(!st.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:wo()};for(var r in Zt)Zt[r]===void 0?delete t[r]:t[r]=Zt[r];var i=[];for(var r in t)i.push(`${r}=${t[r]}`);st.strings=i}return st.strings},So=(e,t)=>{for(var r=0;r<e.length;++r)W[t++>>0]=e.charCodeAt(r);W[t>>0]=0},Ao=(e,t)=>{var r=0;return st().forEach((i,s)=>{var u=t+r;P[e+s*4>>2]=u,So(i,u),r+=i.length+1}),0},Oo=(e,t)=>{var r=st();P[e>>2]=r.length;var i=0;return r.forEach(s=>i+=s.length+1),P[t>>2]=i,0},Eo=e=>e,_t=e=>e%4===0&&(e%100!==0||e%400===0),_o=(e,t)=>{for(var r=0,i=0;i<=t;r+=e[i++]);return r},kn=[31,29,31,30,31,30,31,31,30,31,30,31],xn=[31,28,31,30,31,30,31,31,30,31,30,31],Co=(e,t)=>{for(var r=new Date(e.getTime());t>0;){var i=_t(r.getFullYear()),s=r.getMonth(),u=(i?kn:xn)[s];if(t>u-r.getDate())t-=u-r.getDate()+1,r.setDate(1),s<11?r.setMonth(s+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1));else return r.setDate(r.getDate()+t),r}return r};function Po(e,t,r){var i=r>0?r:Dn(e)+1,s=new Array(i),u=Ln(e,s,0,s.length);return t&&(s.length=u),s}var No=(e,t)=>{W.set(e,t)},Mo=(e,t,r,i)=>{var s=P[i+40>>2],u={tm_sec:R[i>>2],tm_min:R[i+4>>2],tm_hour:R[i+8>>2],tm_mday:R[i+12>>2],tm_mon:R[i+16>>2],tm_year:R[i+20>>2],tm_wday:R[i+24>>2],tm_yday:R[i+28>>2],tm_isdst:R[i+32>>2],tm_gmtoff:R[i+36>>2],tm_zone:s?Qt(s):""},f=Qt(r),p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var y in p)f=f.replace(new RegExp(y,"g"),p[y]);var A=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],N=["January","February","March","April","May","June","July","August","September","October","November","December"];function F(T,M,re){for(var ae=typeof T=="number"?T.toString():T||"";ae.length<M;)ae=re[0]+ae;return ae}function x(T,M){return F(T,M,"0")}function G(T,M){function re(Be){return Be<0?-1:Be>0?1:0}var ae;return(ae=re(T.getFullYear()-M.getFullYear()))===0&&(ae=re(T.getMonth()-M.getMonth()))===0&&(ae=re(T.getDate()-M.getDate())),ae}function q(T){switch(T.getDay()){case 0:return new Date(T.getFullYear()-1,11,29);case 1:return T;case 2:return new Date(T.getFullYear(),0,3);case 3:return new Date(T.getFullYear(),0,2);case 4:return new Date(T.getFullYear(),0,1);case 5:return new Date(T.getFullYear()-1,11,31);case 6:return new Date(T.getFullYear()-1,11,30)}}function ie(T){var M=Co(new Date(T.tm_year+1900,0,1),T.tm_yday),re=new Date(M.getFullYear(),0,4),ae=new Date(M.getFullYear()+1,0,4),Be=q(re),Pt=q(ae);return G(Be,M)<=0?G(Pt,M)<=0?M.getFullYear()+1:M.getFullYear():M.getFullYear()-1}var z={"%a":T=>A[T.tm_wday].substring(0,3),"%A":T=>A[T.tm_wday],"%b":T=>N[T.tm_mon].substring(0,3),"%B":T=>N[T.tm_mon],"%C":T=>{var M=T.tm_year+1900;return x(M/100|0,2)},"%d":T=>x(T.tm_mday,2),"%e":T=>F(T.tm_mday,2," "),"%g":T=>ie(T).toString().substring(2),"%G":T=>ie(T),"%H":T=>x(T.tm_hour,2),"%I":T=>{var M=T.tm_hour;return M==0?M=12:M>12&&(M-=12),x(M,2)},"%j":T=>x(T.tm_mday+_o(_t(T.tm_year+1900)?kn:xn,T.tm_mon-1),3),"%m":T=>x(T.tm_mon+1,2),"%M":T=>x(T.tm_min,2),"%n":()=>`
`,"%p":T=>T.tm_hour>=0&&T.tm_hour<12?"AM":"PM","%S":T=>x(T.tm_sec,2),"%t":()=>"	","%u":T=>T.tm_wday||7,"%U":T=>{var M=T.tm_yday+7-T.tm_wday;return x(Math.floor(M/7),2)},"%V":T=>{var M=Math.floor((T.tm_yday+7-(T.tm_wday+6)%7)/7);if((T.tm_wday+371-T.tm_yday-2)%7<=2&&M++,M){if(M==53){var re=(T.tm_wday+371-T.tm_yday)%7;re!=4&&(re!=3||!_t(T.tm_year))&&(M=1)}}else{M=52;var ae=(T.tm_wday+7-T.tm_yday-1)%7;(ae==4||ae==5&&_t(T.tm_year%400-1))&&M++}return x(M,2)},"%w":T=>T.tm_wday,"%W":T=>{var M=T.tm_yday+7-(T.tm_wday+6)%7;return x(Math.floor(M/7),2)},"%y":T=>(T.tm_year+1900).toString().substring(2),"%Y":T=>T.tm_year+1900,"%z":T=>{var M=T.tm_gmtoff,re=M>=0;return M=Math.abs(M)/60,M=M/60*100+M%60,(re?"+":"-")+("0000"+M).slice(-4)},"%Z":T=>T.tm_zone,"%%":()=>"%"};f=f.replace(/%%/g,"\0\0");for(var y in z)f.includes(y)&&(f=f.replace(new RegExp(y,"g"),z[y](u)));f=f.replace(/\0\0/g,"%");var se=Po(f,!1);return se.length>t?0:(No(se,e),se.length-1)},Io=(e,t,r,i,s)=>Mo(e,t,r,i);hn=a.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},ua(),Ze=a.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},wa(),ga(),Pa(),Cn=a.UnboundTypeError=La(Error,"UnboundTypeError"),Ra(),ka();var Lo={s:Kr,v:Xr,b:ta,g:na,q:ra,I:aa,f:oa,T:ia,d:ea,ba:sa,P:la,Y:da,aa:Da,$:$a,w:Ua,X:xa,x:ja,h:Ha,K:Ga,L:Ba,t:qa,n:za,J:Ja,C:ao,A:oo,ca:io,Z:so,ea:In,da:co,M:fo,V:po,_:vo,B:ho,W:go,U:To,R:Ao,S:Oo,D:qo,E:Yo,m:zo,a:Do,e:Fo,o:Vo,k:Ro,G:Go,u:Ho,F:Bo,z:Zo,O:Ko,l:ko,j:xo,c:Uo,p:$o,H:Wo,r:Qo,i:jo,y:Jo,N:Eo,Q:Io},K=Jr(),Me=a._free=e=>(Me=a._free=K.ha)(e),Jt=a._malloc=e=>(Jt=a._malloc=K.ia)(e),Vn=e=>(Vn=K.ka)(e);a.__embind_initialize_bindings=()=>(a.__embind_initialize_bindings=K.la)();var X=(e,t)=>(X=K.ma)(e,t),lt=e=>(lt=K.na)(e),te=()=>(te=K.oa)(),ne=e=>(ne=K.pa)(e),jn=e=>(jn=K.qa)(e),Hn=e=>(Hn=K.ra)(e),Wn=(e,t,r)=>(Wn=K.sa)(e,t,r),Gn=e=>(Gn=K.ta)(e);a.dynCall_viijii=(e,t,r,i,s,u,f)=>(a.dynCall_viijii=K.ua)(e,t,r,i,s,u,f);var Bn=a.dynCall_jiiii=(e,t,r,i,s)=>(Bn=a.dynCall_jiiii=K.va)(e,t,r,i,s);a.dynCall_iiiiij=(e,t,r,i,s,u,f)=>(a.dynCall_iiiiij=K.wa)(e,t,r,i,s,u,f),a.dynCall_iiiiijj=(e,t,r,i,s,u,f,p,y)=>(a.dynCall_iiiiijj=K.xa)(e,t,r,i,s,u,f,p,y),a.dynCall_iiiiiijj=(e,t,r,i,s,u,f,p,y,A)=>(a.dynCall_iiiiiijj=K.ya)(e,t,r,i,s,u,f,p,y,A);function Do(e,t){var r=te();try{return ee(e)(t)}catch(i){if(ne(r),i!==i+0)throw i;X(1,0)}}function $o(e,t,r,i){var s=te();try{ee(e)(t,r,i)}catch(u){if(ne(s),u!==u+0)throw u;X(1,0)}}function Uo(e,t,r){var i=te();try{ee(e)(t,r)}catch(s){if(ne(i),s!==s+0)throw s;X(1,0)}}function Ro(e,t,r,i,s){var u=te();try{return ee(e)(t,r,i,s)}catch(f){if(ne(u),f!==f+0)throw f;X(1,0)}}function Fo(e,t,r){var i=te();try{return ee(e)(t,r)}catch(s){if(ne(i),s!==s+0)throw s;X(1,0)}}function ko(e){var t=te();try{ee(e)()}catch(r){if(ne(t),r!==r+0)throw r;X(1,0)}}function xo(e,t){var r=te();try{ee(e)(t)}catch(i){if(ne(r),i!==i+0)throw i;X(1,0)}}function Vo(e,t,r,i){var s=te();try{return ee(e)(t,r,i)}catch(u){if(ne(s),u!==u+0)throw u;X(1,0)}}function jo(e,t,r,i,s,u,f,p,y,A,N){var F=te();try{ee(e)(t,r,i,s,u,f,p,y,A,N)}catch(x){if(ne(F),x!==x+0)throw x;X(1,0)}}function Ho(e,t,r,i,s,u,f){var p=te();try{return ee(e)(t,r,i,s,u,f)}catch(y){if(ne(p),y!==y+0)throw y;X(1,0)}}function Wo(e,t,r,i,s){var u=te();try{ee(e)(t,r,i,s)}catch(f){if(ne(u),f!==f+0)throw f;X(1,0)}}function Go(e,t,r,i,s,u){var f=te();try{return ee(e)(t,r,i,s,u)}catch(p){if(ne(f),p!==p+0)throw p;X(1,0)}}function Bo(e,t,r,i,s,u,f,p){var y=te();try{return ee(e)(t,r,i,s,u,f,p)}catch(A){if(ne(y),A!==A+0)throw A;X(1,0)}}function Yo(e,t,r,i){var s=te();try{return ee(e)(t,r,i)}catch(u){if(ne(s),u!==u+0)throw u;X(1,0)}}function qo(e,t,r,i){var s=te();try{return ee(e)(t,r,i)}catch(u){if(ne(s),u!==u+0)throw u;X(1,0)}}function zo(e){var t=te();try{return ee(e)()}catch(r){if(ne(t),r!==r+0)throw r;X(1,0)}}function Qo(e,t,r,i,s,u,f,p){var y=te();try{ee(e)(t,r,i,s,u,f,p)}catch(A){if(ne(y),A!==A+0)throw A;X(1,0)}}function Zo(e,t,r,i,s,u,f,p,y,A,N,F){var x=te();try{return ee(e)(t,r,i,s,u,f,p,y,A,N,F)}catch(G){if(ne(x),G!==G+0)throw G;X(1,0)}}function Jo(e,t,r,i,s,u,f,p,y,A,N,F,x,G,q,ie){var z=te();try{ee(e)(t,r,i,s,u,f,p,y,A,N,F,x,G,q,ie)}catch(se){if(ne(z),se!==se+0)throw se;X(1,0)}}function Ko(e,t,r,i,s){var u=te();try{return Bn(e,t,r,i,s)}catch(f){if(ne(u),f!==f+0)throw f;X(1,0)}}var Ct;ue=function e(){Ct||Yn(),Ct||(ue=e)};function Yn(){if(ye>0||(Le(),ye>0))return;function e(){Ct||(Ct=!0,a.calledRun=!0,!E&&(Pe(),l(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),De()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),e()},1)):e()}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Yn(),o.ready}})();function Es(n){return fn(mn,n)}async function _s(n,o){return As(mn,n,o)}async function Cs(n,o){return Os(mn,n,o)}const an=new Map([["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["data_matrix","DataMatrix"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["pdf417","PDF417"],["qr_code","QRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"]]);function Ps(n){for(const[o,a]of an)if(n===a)return o;return"unknown"}var ut;class $r extends EventTarget{constructor(o={}){var a;super(),ts(this,ut,void 0);try{const l=(a=o==null?void 0:o.formats)==null?void 0:a.filter(c=>c!=="unknown");if((l==null?void 0:l.length)===0)throw new TypeError("Hint option provided, but is empty.");l==null||l.forEach(c=>{if(!ar.includes(c))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${c}' is not a valid enum value of type BarcodeFormat.`)}),ns(this,ut,l!=null?l:[]),Es().then(c=>{this.dispatchEvent(new CustomEvent("load",{detail:c}))}).catch(c=>{this.dispatchEvent(new CustomEvent("error",{detail:c}))})}catch(l){throw or(l,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return ar.filter(o=>o!=="unknown")}async detect(o){try{const a=await ls(o);if(a===null)return[];let l;try{Mr(a)?l=await _s(a,{tryHarder:!0,formats:rr(this,ut).map(c=>an.get(c))}):l=await Cs(a,{tryHarder:!0,formats:rr(this,ut).map(c=>an.get(c))})}catch(c){throw console.error(c),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return l.map(c=>{const{topLeft:{x:m,y:v},topRight:{x:w,y:d},bottomLeft:{x:g,y:h},bottomRight:{x:b,y:D}}=c.position,U=Math.min(m,w,g,b),I=Math.min(v,d,h,D),E=Math.max(m,w,g,b),H=Math.max(v,d,h,D);return{boundingBox:new DOMRectReadOnly(U,I,E-U,H-I),rawValue:c.text,format:Ps(c.format),cornerPoints:[{x:m,y:v},{x:w,y:d},{x:b,y:D},{x:g,y:h}]}})}catch(a){throw or(a,"Failed to execute 'detect' on 'BarcodeDetector'")}}}ut=new WeakMap;const Ur=(n,o,a="error")=>{let l,c;const m=new Promise((v,w)=>{l=v,c=w,n.addEventListener(o,l),n.addEventListener(a,c)});return m.finally(()=>{n.removeEventListener(o,l),n.removeEventListener(a,c)}),m},ur=n=>new Promise(o=>setTimeout(o,n));class Rr extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class Ns extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class Ms extends Error{constructor(){super("Loading camera stream timed out after 3 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let on;const Is=n=>{on=new $r({formats:n})},Ls=async(n,{detectHandler:o,locateHandler:a,minDelay:l,formats:c})=>{on=new $r({formats:c});const m=v=>async w=>{if(n.readyState>1){const{lastScanned:d,contentBefore:g,lastScanHadContent:h}=v;if(w-d<l)window.requestAnimationFrame(m(v));else{const b=await on.detect(n),D=b.some(E=>!g.includes(E.rawValue));D&&o(b);const U=b.length>0;U&&a(b),!U&&h&&a(b);const I={lastScanned:w,lastScanHadContent:U,contentBefore:D?b.map(E=>E.rawValue):g};window.requestAnimationFrame(m(I))}}};m({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var Fr={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.compactObject=Vr;ce.deprecated=js;var Ds=ce.detectBrowser=Hs;ce.disableLog=ks;ce.disableWarnings=xs;ce.extractVersion=Nt;ce.filterStats=Ws;ce.log=Vs;ce.walkStats=Lt;ce.wrapPeerConnectionEvent=Fs;function $s(n,o,a){return o=Us(o),o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,n}function Us(n){var o=Rs(n,"string");return Ve(o)==="symbol"?o:String(o)}function Rs(n,o){if(Ve(n)!=="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,o||"default");if(Ve(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}function Ve(n){return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ve(n)}var kr=!0,xr=!0;function Nt(n,o,a){var l=n.match(o);return l&&l.length>=a&&parseInt(l[a],10)}function Fs(n,o,a){if(n.RTCPeerConnection){var l=n.RTCPeerConnection.prototype,c=l.addEventListener;l.addEventListener=function(v,w){if(v!==o)return c.apply(this,arguments);var d=function(g){var h=a(g);h&&(w.handleEvent?w.handleEvent(h):w(h))};return this._eventMap=this._eventMap||{},this._eventMap[o]||(this._eventMap[o]=new Map),this._eventMap[o].set(w,d),c.apply(this,[v,d])};var m=l.removeEventListener;l.removeEventListener=function(v,w){if(v!==o||!this._eventMap||!this._eventMap[o])return m.apply(this,arguments);if(!this._eventMap[o].has(w))return m.apply(this,arguments);var d=this._eventMap[o].get(w);return this._eventMap[o].delete(w),this._eventMap[o].size===0&&delete this._eventMap[o],Object.keys(this._eventMap).length===0&&delete this._eventMap,m.apply(this,[v,d])},Object.defineProperty(l,"on"+o,{get:function(){return this["_on"+o]},set:function(v){this["_on"+o]&&(this.removeEventListener(o,this["_on"+o]),delete this["_on"+o]),v&&this.addEventListener(o,this["_on"+o]=v)},enumerable:!0,configurable:!0})}}function ks(n){return typeof n!="boolean"?new Error("Argument type: "+Ve(n)+". Please use a boolean."):(kr=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function xs(n){return typeof n!="boolean"?new Error("Argument type: "+Ve(n)+". Please use a boolean."):(xr=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function Vs(){if((typeof window>"u"?"undefined":Ve(window))==="object"){if(kr)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function js(n,o){xr&&console.warn(n+" is deprecated, please use "+o+" instead.")}function Hs(n){var o={browser:null,version:null};if(typeof n>"u"||!n.navigator||!n.navigator.userAgent)return o.browser="Not a browser.",o;var a=n.navigator;if(a.mozGetUserMedia)o.browser="firefox",o.version=Nt(a.userAgent,/Firefox\/(\d+)\./,1);else if(a.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)o.browser="chrome",o.version=Nt(a.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.RTCPeerConnection&&a.userAgent.match(/AppleWebKit\/(\d+)\./))o.browser="safari",o.version=Nt(a.userAgent,/AppleWebKit\/(\d+)\./,1),o.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype;else return o.browser="Not a supported browser.",o;return o}function cr(n){return Object.prototype.toString.call(n)==="[object Object]"}function Vr(n){return cr(n)?Object.keys(n).reduce(function(o,a){var l=cr(n[a]),c=l?Vr(n[a]):n[a],m=l&&!Object.keys(c).length;return c===void 0||m?o:Object.assign(o,$s({},a,c))},{}):n}function Lt(n,o,a){!o||a.has(o.id)||(a.set(o.id,o),Object.keys(o).forEach(function(l){l.endsWith("Id")?Lt(n,n.get(o[l]),a):l.endsWith("Ids")&&o[l].forEach(function(c){Lt(n,n.get(c),a)})}))}function Ws(n,o,a){var l=a?"outbound-rtp":"inbound-rtp",c=new Map;if(o===null)return c;var m=[];return n.forEach(function(v){v.type==="track"&&v.trackIdentifier===o.id&&m.push(v)}),m.forEach(function(v){n.forEach(function(w){w.type===l&&w.trackId===v.id&&Lt(n,w,c)})}),c}Object.defineProperty(Fr,"__esModule",{value:!0});var Gs=Fr.shimGetUserMedia=qs,Bs=Ys(ce);function jr(n){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(jr=function(l){return l?a:o})(n)}function Ys(n,o){if(!o&&n&&n.__esModule)return n;if(n===null||Fe(n)!=="object"&&typeof n!="function")return{default:n};var a=jr(o);if(a&&a.has(n))return a.get(n);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in n)if(m!=="default"&&Object.prototype.hasOwnProperty.call(n,m)){var v=c?Object.getOwnPropertyDescriptor(n,m):null;v&&(v.get||v.set)?Object.defineProperty(l,m,v):l[m]=n[m]}return l.default=n,a&&a.set(n,l),l}function Fe(n){return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Fe(n)}var dr=Bs.log;function qs(n,o){var a=n&&n.navigator;if(a.mediaDevices){var l=function(d){if(Fe(d)!=="object"||d.mandatory||d.optional)return d;var g={};return Object.keys(d).forEach(function(h){if(!(h==="require"||h==="advanced"||h==="mediaSource")){var b=Fe(d[h])==="object"?d[h]:{ideal:d[h]};b.exact!==void 0&&typeof b.exact=="number"&&(b.min=b.max=b.exact);var D=function(I,E){return I?I+E.charAt(0).toUpperCase()+E.slice(1):E==="deviceId"?"sourceId":E};if(b.ideal!==void 0){g.optional=g.optional||[];var U={};typeof b.ideal=="number"?(U[D("min",h)]=b.ideal,g.optional.push(U),U={},U[D("max",h)]=b.ideal,g.optional.push(U)):(U[D("",h)]=b.ideal,g.optional.push(U))}b.exact!==void 0&&typeof b.exact!="number"?(g.mandatory=g.mandatory||{},g.mandatory[D("",h)]=b.exact):["min","max"].forEach(function(I){b[I]!==void 0&&(g.mandatory=g.mandatory||{},g.mandatory[D(I,h)]=b[I])})}}),d.advanced&&(g.optional=(g.optional||[]).concat(d.advanced)),g},c=function(d,g){if(o.version>=61)return g(d);if(d=JSON.parse(JSON.stringify(d)),d&&Fe(d.audio)==="object"){var h=function(I,E,H){E in I&&!(H in I)&&(I[H]=I[E],delete I[E])};d=JSON.parse(JSON.stringify(d)),h(d.audio,"autoGainControl","googAutoGainControl"),h(d.audio,"noiseSuppression","googNoiseSuppression"),d.audio=l(d.audio)}if(d&&Fe(d.video)==="object"){var b=d.video.facingMode;b=b&&(Fe(b)==="object"?b:{ideal:b});var D=o.version<66;if(b&&(b.exact==="user"||b.exact==="environment"||b.ideal==="user"||b.ideal==="environment")&&!(a.mediaDevices.getSupportedConstraints&&a.mediaDevices.getSupportedConstraints().facingMode&&!D)){delete d.video.facingMode;var U;if(b.exact==="environment"||b.ideal==="environment"?U=["back","rear"]:(b.exact==="user"||b.ideal==="user")&&(U=["front"]),U)return a.mediaDevices.enumerateDevices().then(function(I){I=I.filter(function(H){return H.kind==="videoinput"});var E=I.find(function(H){return U.some(function(W){return H.label.toLowerCase().includes(W)})});return!E&&I.length&&U.includes("back")&&(E=I[I.length-1]),E&&(d.video.deviceId=b.exact?{exact:E.deviceId}:{ideal:E.deviceId}),d.video=l(d.video),dr("chrome: "+JSON.stringify(d)),g(d)})}d.video=l(d.video)}return dr("chrome: "+JSON.stringify(d)),g(d)},m=function(d){return o.version>=64?d:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[d.name]||d.name,message:d.message,constraint:d.constraint||d.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},v=function(d,g,h){c(d,function(b){a.webkitGetUserMedia(b,g,function(D){h&&h(m(D))})})};if(a.getUserMedia=v.bind(a),a.mediaDevices.getUserMedia){var w=a.mediaDevices.getUserMedia.bind(a.mediaDevices);a.mediaDevices.getUserMedia=function(d){return c(d,function(g){return w(g).then(function(h){if(g.audio&&!h.getAudioTracks().length||g.video&&!h.getVideoTracks().length)throw h.getTracks().forEach(function(b){b.stop()}),new DOMException("","NotFoundError");return h},function(h){return Promise.reject(m(h))})})}}}}var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});var zs=Hr.shimGetUserMedia=Js,Qs=Zs(ce);function Wr(n){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(Wr=function(l){return l?a:o})(n)}function Zs(n,o){if(!o&&n&&n.__esModule)return n;if(n===null||Ke(n)!=="object"&&typeof n!="function")return{default:n};var a=Wr(o);if(a&&a.has(n))return a.get(n);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in n)if(m!=="default"&&Object.prototype.hasOwnProperty.call(n,m)){var v=c?Object.getOwnPropertyDescriptor(n,m):null;v&&(v.get||v.set)?Object.defineProperty(l,m,v):l[m]=n[m]}return l.default=n,a&&a.set(n,l),l}function Ke(n){return Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ke(n)}function Js(n,o){var a=n&&n.navigator,l=n&&n.MediaStreamTrack;if(a.getUserMedia=function(d,g,h){Qs.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),a.mediaDevices.getUserMedia(d).then(g,h)},!(o.version>55&&"autoGainControl"in a.mediaDevices.getSupportedConstraints())){var c=function(d,g,h){g in d&&!(h in d)&&(d[h]=d[g],delete d[g])},m=a.mediaDevices.getUserMedia.bind(a.mediaDevices);if(a.mediaDevices.getUserMedia=function(d){return Ke(d)==="object"&&Ke(d.audio)==="object"&&(d=JSON.parse(JSON.stringify(d)),c(d.audio,"autoGainControl","mozAutoGainControl"),c(d.audio,"noiseSuppression","mozNoiseSuppression")),m(d)},l&&l.prototype.getSettings){var v=l.prototype.getSettings;l.prototype.getSettings=function(){var d=v.apply(this,arguments);return c(d,"mozAutoGainControl","autoGainControl"),c(d,"mozNoiseSuppression","noiseSuppression"),d}}if(l&&l.prototype.applyConstraints){var w=l.prototype.applyConstraints;l.prototype.applyConstraints=function(d){return this.kind==="audio"&&Ke(d)==="object"&&(d=JSON.parse(JSON.stringify(d)),c(d,"autoGainControl","mozAutoGainControl"),c(d,"noiseSuppression","mozNoiseSuppression")),w.apply(this,[d])}}}}var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.shimAudioContext=sl;Ce.shimCallbacksAPI=nl;Ce.shimConstraints=Yr;Ce.shimCreateOfferLegacy=il;var Ks=Ce.shimGetUserMedia=rl;Ce.shimLocalStreamsAPI=el;Ce.shimRTCIceServerUrls=al;Ce.shimRemoteStreamsAPI=tl;Ce.shimTrackEventTransceiver=ol;var Gr=Xs(ce);function Br(n){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(Br=function(l){return l?a:o})(n)}function Xs(n,o){if(!o&&n&&n.__esModule)return n;if(n===null||je(n)!=="object"&&typeof n!="function")return{default:n};var a=Br(o);if(a&&a.has(n))return a.get(n);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in n)if(m!=="default"&&Object.prototype.hasOwnProperty.call(n,m)){var v=c?Object.getOwnPropertyDescriptor(n,m):null;v&&(v.get||v.set)?Object.defineProperty(l,m,v):l[m]=n[m]}return l.default=n,a&&a.set(n,l),l}function je(n){return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},je(n)}function el(n){if(!(je(n)!=="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){var o=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(a){var l=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(a)||this._localStreams.push(a),a.getAudioTracks().forEach(function(c){return o.call(l,c,a)}),a.getVideoTracks().forEach(function(c){return o.call(l,c,a)})},n.RTCPeerConnection.prototype.addTrack=function(a){for(var l=this,c=arguments.length,m=new Array(c>1?c-1:0),v=1;v<c;v++)m[v-1]=arguments[v];return m&&m.forEach(function(w){l._localStreams?l._localStreams.includes(w)||l._localStreams.push(w):l._localStreams=[w]}),o.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(a){var l=this;this._localStreams||(this._localStreams=[]);var c=this._localStreams.indexOf(a);if(c!==-1){this._localStreams.splice(c,1);var m=a.getTracks();this.getSenders().forEach(function(v){m.includes(v.track)&&l.removeTrack(v)})}})}}function tl(n){if(!(je(n)!=="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(a){var l=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=a),this.addEventListener("track",this._onaddstreampoly=function(c){c.streams.forEach(function(m){if(l._remoteStreams||(l._remoteStreams=[]),!l._remoteStreams.includes(m)){l._remoteStreams.push(m);var v=new Event("addstream");v.stream=m,l.dispatchEvent(v)}})})}});var o=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){var a=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(function(c){if(a._remoteStreams||(a._remoteStreams=[]),!(a._remoteStreams.indexOf(c)>=0)){a._remoteStreams.push(c);var m=new Event("addstream");m.stream=c,a.dispatchEvent(m)}})}),o.apply(a,arguments)}}}function nl(n){if(!(je(n)!=="object"||!n.RTCPeerConnection)){var o=n.RTCPeerConnection.prototype,a=o.createOffer,l=o.createAnswer,c=o.setLocalDescription,m=o.setRemoteDescription,v=o.addIceCandidate;o.createOffer=function(d,g){var h=arguments.length>=2?arguments[2]:arguments[0],b=a.apply(this,[h]);return g?(b.then(d,g),Promise.resolve()):b},o.createAnswer=function(d,g){var h=arguments.length>=2?arguments[2]:arguments[0],b=l.apply(this,[h]);return g?(b.then(d,g),Promise.resolve()):b};var w=function(d,g,h){var b=c.apply(this,[d]);return h?(b.then(g,h),Promise.resolve()):b};o.setLocalDescription=w,w=function(d,g,h){var b=m.apply(this,[d]);return h?(b.then(g,h),Promise.resolve()):b},o.setRemoteDescription=w,w=function(d,g,h){var b=v.apply(this,[d]);return h?(b.then(g,h),Promise.resolve()):b},o.addIceCandidate=w}}function rl(n){var o=n&&n.navigator;if(o.mediaDevices&&o.mediaDevices.getUserMedia){var a=o.mediaDevices,l=a.getUserMedia.bind(a);o.mediaDevices.getUserMedia=function(c){return l(Yr(c))}}!o.getUserMedia&&o.mediaDevices&&o.mediaDevices.getUserMedia&&(o.getUserMedia=function(c,m,v){o.mediaDevices.getUserMedia(c).then(m,v)}.bind(o))}function Yr(n){return n&&n.video!==void 0?Object.assign({},n,{video:Gr.compactObject(n.video)}):n}function al(n){if(n.RTCPeerConnection){var o=n.RTCPeerConnection;n.RTCPeerConnection=function(a,l){if(a&&a.iceServers){for(var c=[],m=0;m<a.iceServers.length;m++){var v=a.iceServers[m];v.urls===void 0&&v.url?(Gr.deprecated("RTCIceServer.url","RTCIceServer.urls"),v=JSON.parse(JSON.stringify(v)),v.urls=v.url,delete v.url,c.push(v)):c.push(a.iceServers[m])}a.iceServers=c}return new o(a,l)},n.RTCPeerConnection.prototype=o.prototype,"generateCertificate"in o&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get:function(){return o.generateCertificate}})}}function ol(n){je(n)==="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function il(n){var o=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(a){if(a){typeof a.offerToReceiveAudio<"u"&&(a.offerToReceiveAudio=!!a.offerToReceiveAudio);var l=this.getTransceivers().find(function(m){return m.receiver.track.kind==="audio"});a.offerToReceiveAudio===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):a.offerToReceiveAudio===!0&&!l&&this.addTransceiver("audio",{direction:"recvonly"}),typeof a.offerToReceiveVideo<"u"&&(a.offerToReceiveVideo=!!a.offerToReceiveVideo);var c=this.getTransceivers().find(function(m){return m.receiver.track.kind==="video"});a.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):a.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return o.apply(this,arguments)}}function sl(n){je(n)!=="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const ll=n=>{let o=!1,a;return(...l)=>(o||(a=n(l),o=!0),a)};function Ie(n,o){if(n===!1)throw new Error(o!=null?o:"assertion failure")}const ul=ll(()=>{const n=Ds(window);switch(n.browser){case"chrome":Gs(window,n);break;case"firefox":zs(window,n);break;case"safari":Ks(window,n);break;default:throw new Rr}});let Xe=Promise.resolve({type:"stop",data:{}});async function fr(n,o,a){var l,c,m;if(window.isSecureContext!==!0)throw new Ns;if(((l=navigator==null?void 0:navigator.mediaDevices)==null?void 0:l.getUserMedia)===void 0)throw new Rr;ul();const v=await navigator.mediaDevices.getUserMedia({audio:!1,video:o});n.srcObject!==void 0?n.srcObject=v:n.mozSrcObject!==void 0?n.mozSrcObject=v:window.URL.createObjectURL?n.src=window.URL.createObjectURL(v):window.webkitURL?n.src=window.webkitURL.createObjectURL(v):n.src=v.id,n.play(),await Promise.race([Ur(n,"loadeddata"),ur(3e3).then(()=>{throw new Ms})]),await ur(500);const[w]=v.getVideoTracks(),d=(m=(c=w==null?void 0:w.getCapabilities)==null?void 0:c.call(w))!=null?m:{};let g=!1;return a&&d.torch&&(await w.applyConstraints({advanced:[{torch:!0}]}),g=!0),{type:"start",data:{videoEl:n,stream:v,capabilities:d,constraints:o,isTorchOn:g}}}async function cl(n,{constraints:o,torch:a,restart:l=!1}){Xe=Xe.then(m=>{if(m.type==="start"){const{data:{videoEl:v,stream:w,constraints:d,isTorchOn:g}}=m;return!l&&n===v&&o===d&&a===g?m:qr(v,w,g).then(()=>fr(n,o,a))}return fr(n,o,a)});const c=await Xe;if(c.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");return c.data.capabilities}async function qr(n,o,a){n.src="",n.srcObject=null,n.load(),await Ur(n,"error");for(const l of o.getTracks())a!=null||await l.applyConstraints({advanced:[{torch:!1}]}),o.removeTrack(l),l.stop();return{type:"stop",data:{}}}async function en(){if(Xe=Xe.then(n=>{if(n.type==="stop")return n;const{data:{videoEl:o,stream:a,isTorchOn:l}}=n;return qr(o,a,l)}),(await Xe).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const dl=mt({__name:"QrcodeStream",props:{constraints:{type:Object,default(){return{facingMode:"environment"}}},formats:{type:Array,default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function}},emits:["detect","camera-on","camera-off","error"],setup(n,{emit:o}){const a=n,l=o,c=k(),m=k(),v=k(),w=k(!1),d=k(!1);yr(()=>{d.value=!0}),ii(()=>{en()});const g=ge(()=>({torch:a.torch,constraints:a.constraints,shouldStream:d.value&&!a.paused}));ke(g,async $=>{const S=v.value;Ie(S!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const L=c.value;Ie(L!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const R=L.getContext("2d");if(Ie(R!==null,"if cavnas is defined, canvas 2d context should also be non-null"),$.shouldStream)try{const P=await cl(S,$);d.value?(w.value=!0,l("camera-on",P)):await en()}catch(P){l("error",P)}else L.width=S.videoWidth,L.height=S.videoHeight,R.drawImage(S,0,0,S.videoWidth,S.videoHeight),en(),w.value=!1,l("camera-off")},{deep:!0});const{formats:h}=Dt(a);ke(h,$=>{d.value&&Is($)});const b=ge(()=>g.value.shouldStream&&w.value);ke(b,$=>{if($){Ie(c.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),D(c.value),Ie(m.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),D(m.value);const S=()=>a.track===void 0?500:40;Ie(v.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),Ls(v.value,{detectHandler:L=>l("detect",L),formats:a.formats,locateHandler:U,minDelay:S()})}});const D=$=>{const S=$.getContext("2d");Ie(S!==null,"canvas 2d context should always be non-null"),S.clearRect(0,0,$.width,$.height)},U=$=>{const S=m.value;Ie(S!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const L=v.value;if(Ie(L!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),$.length===0||a.track===void 0)D(S);else{const R=L.offsetWidth,P=L.offsetHeight,O=L.videoWidth,_=L.videoHeight,Y=Math.max(R/O,P/_),Z=O*Y,fe=_*Y,Ae=Z/O,Le=fe/_,Pe=(R-Z)/2,De=(P-fe)/2,de=({x:ue,y:me})=>({x:Math.floor(ue*Ae),y:Math.floor(me*Le)}),$e=({x:ue,y:me})=>({x:Math.floor(ue+Pe),y:Math.floor(me+De)}),tt=$.map(ue=>{const{boundingBox:me,cornerPoints:nt}=ue,{x:J,y:He}=$e(de({x:me.x,y:me.y})),{x:pe,y:be}=de({x:me.width,y:me.height});return{...ue,cornerPoints:nt.map(vt=>$e(de(vt))),boundingBox:DOMRectReadOnly.fromRect({x:J,y:He,width:pe,height:be})}});S.width=L.offsetWidth,S.height=L.offsetHeight;const ye=S.getContext("2d");a.track(tt,ye)}},I={width:"100%",height:"100%",position:"relative","z-index":"0"},E={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},H={width:"100%",height:"100%","object-fit":"cover"},W=ge(()=>b.value?H:{...H,visibility:"hidden",position:"absolute"});return($,S)=>(we(),rn("div",{style:I},[j("video",{ref_key:"videoRef",ref:v,style:nn(W.value),autoplay:"",muted:"",playsinline:""},null,4),si(j("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:c,style:H},null,512),[[li,!b.value]]),j("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:m,style:E},null,512),j("div",{style:E},[ui($.$slots,"default")])]))}});var fl=[{LOCATION:"GUSA",IP:"10.10.0.58",HOSTNAME:"Gusa_OLT",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.24",HOSTNAME:"VSOL-Nasareth-24",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"no device model",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.28",HOSTNAME:"VSOL-Nasareth",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"no device model",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.56",HOSTNAME:"NAZ_VSOL_56",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.33",HOSTNAME:"Guangda_Nazareth",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"NAZARETH",IP:"10.10.0.22",HOSTNAME:"NAZARETH_GUANGDA",TYPE:"INDOOR",MANUFACTURER:"GUANGDA",STATUS:"unreachable",MODEL:"down - confirmed by DCTECH",SNMP:"",FIELD9:"",FIELD10:""},{LOCATION:"NAZARETH",IP:"10.10.0.69",HOSTNAME:"NAZARETH_VSOL_69",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.64",HOSTNAME:"OLT_NAZ_TEMP_64",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.94",HOSTNAME:"Nazareth_VSOL_94",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"NAZARETH",IP:"10.10.0.84",HOSTNAME:"TIBASAK_NAZ_OOLT",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"PUERTO",IP:"10.10.0.57",HOSTNAME:"Tagoloan_OLT1",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"no device model",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"PUERTO",IP:"10.10.0.40",HOSTNAME:"vsol_puerto_0002",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"PUERTO",IP:"10.10.0.39",HOSTNAME:"vsol_puerto_0003",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"PUERTO",IP:"10.10.0.63",HOSTNAME:"OLT_PUERTO_63",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"PUERTO",IP:"10.10.0.37",HOSTNAME:"PUERTO_OLT",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"UPTOWN",IP:"10.10.0.29",HOSTNAME:"Uptown",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"no device model",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"UPTOWN",IP:"10.10.0.41",HOSTNAME:"vsol_uptown_0019",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"UPTOWN",IP:"10.10.0.42",HOSTNAME:"vsol_uptown_0020",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"UPTOWN",IP:"10.10.0.79",HOSTNAME:"Guangda_OOLT_Uptown",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"TAGOLOAN",IP:"10.10.0.68",HOSTNAME:"TAGOLOAN_OOLT",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"TAGOLOAN",IP:"10.10.0.71",HOSTNAME:"Tagoloan_OOLT_2",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"EL-SALVADOR",IP:"10.10.0.66",HOSTNAME:"EL_SALVADOR_OLT1",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"EL-SALVADOR",IP:"10.10.0.67",HOSTNAME:"EL_SALVADOR_OLT2",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"CALAANAN",IP:"10.10.0.61",HOSTNAME:"OUTDOOR_OLT_CALAANAN",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"IPONAN",IP:"10.10.0.36",HOSTNAME:"IPONAN_GNGD",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"IPONAN",IP:"10.10.0.60",HOSTNAME:"OLT_IPONAN_CASCADE",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"IPONAN",IP:"10.10.0.80",HOSTNAME:"Regency_80",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"KAUSWAGAN",IP:"10.10.0.55",HOSTNAME:"Kauswagan_Vsol_55",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"KAUSWAGAN",IP:"10.10.0.25",HOSTNAME:"KAUSWAGAN_VSOL_25",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"no device model",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"KAUSWAGAN",IP:"10.10.0.77",HOSTNAME:"GUANGDA_OOLT_KAUSWAGAN",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"KAUSWAGAN",IP:"10.10.0.95",HOSTNAME:"Kauswagan_VSOL_95",TYPE:"OOLT",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"OPOL",IP:"10.10.0.43",HOSTNAME:"VSOL_OPOL_43",TYPE:"OOLT",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"OPOL",IP:"10.10.0.46",HOSTNAME:"VSOL_46",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"OPOL",IP:"10.10.0.78",HOSTNAME:"Guangda_OOLT_Opol",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"OPOL",IP:"10.10.0.86",HOSTNAME:"ILIGAN_NEW_OOLT_86",TYPE:"OOLT",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""},{LOCATION:"CLAVERIA",IP:"10.10.0.52",HOSTNAME:"CLAVERIA_VSOL52",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"no device model",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"CLAVERIA",IP:"10.10.0.45",HOSTNAME:"CLAVERIA_VSOL_45",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"VILLANUEVA",IP:"10.10.0.53",HOSTNAME:"VILLA_VSOL_53",TYPE:"",MANUFACTURER:"V-SOL",STATUS:"accessible",MODEL:"EPON-OLT",SNMP:"done",FIELD9:"",FIELD10:"done"},{LOCATION:"VILLANUEVA",IP:"10.10.0.83",HOSTNAME:"Villanueva_OOLT",TYPE:"",MANUFACTURER:"GUANGDA",STATUS:"accessible",MODEL:"",SNMP:"done",FIELD9:"done",FIELD10:""}];const zr=n=>(ln("data-v-df0efa26"),n=n(),un(),n),ml=zr(()=>j("div",{class:"text-h6"},"For Provisioning",-1)),pl=zr(()=>j("div",{class:"text-center"},[j("h1",{class:"text-h6"},"Responses")],-1)),vl={key:0,class:"text-center"},hl={key:0},gl=mt({__name:"ProvisionClient",props:{isOpen:{type:Boolean},serialAndMac:{},client:{},closeModal:{type:Function}},setup(n){const o=dn(),a=n,l=k(!1),{isOpen:c}=Dt(a),m=()=>{a.closeModal()},v=Ye({name:"",pw:""}),w=k(!1),d=k(!1),g=["code_128","code_39","code_93","codabar","itf","qr_code"],h=fl,b=Ye({autoConfig:"",monitoring:""}),D=Ye({autoConfig:!1,monitoring:!1}),U=k([]),I=k(""),E=Ye({clientId:0,accountNumber:"",packageType:"",serialAndMac:{serialNum:{label:"",idx:0},macAddress:""},oltIp:"",clientName:""}),H=(P,O)=>{P===""&&O(()=>{U.value=h}),O(()=>{const _=P.toLowerCase();U.value=h.filter(Y=>Y.HOSTNAME.toLowerCase().includes(_))})},W=(P,O)=>{for(const _ of O)if(_.serial_number===P)return{serial:_.serial_number,mac:_.mac_address};return{serial:"",mac:""}},$=P=>{const O=P.map(Z=>Z.rawValue);l.value=!1,I.value=O[0];const{serial:_,mac:Y}=W(O[0],a.serialAndMac);_&&Y?(E.serialAndMac.macAddress=Y,E.serialAndMac.serialNum.label=_):R()},S=(P,O)=>{for(const _ of P){const{boundingBox:{x:Y,y:Z,width:fe,height:Ae}}=_;O.lineWidth=2,O.strokeStyle="#007bff",O.strokeRect(Y,Z,fe,Ae)}},L=async()=>{o.loading.show(),d.value=!0,w.value=!1,console.log(E),b.autoConfig="",b.monitoring="",d.value=!1,w.value=!0,o.loading.hide()},R=()=>{o.notify({message:"Scanned Value is not in rogue devices!",color:"danger",position:"top"})};return ci(()=>{var P,O;E.serialAndMac.serialNum.label=(P=a.client)==null?void 0:P.onuSerialNumber,E.serialAndMac.macAddress=(O=a.client)==null?void 0:O.onuMacAddress}),gr(()=>{var P,O,_,Y,Z;E.clientId=(P=a.client)==null?void 0:P.id,E.accountNumber=(O=a.client)==null?void 0:O.accountNumber,E.clientName=(_=a.client)==null?void 0:_.clientName,E.oltIp=(Y=a.client)==null?void 0:Y.oltIp,E.packageType=(Z=a.client)==null?void 0:Z.packageTypeId}),ke(I,(P,O)=>{O!==P&&(l.value=!1)}),(P,O)=>(we(),xe($t,null,{default:V(()=>[C(Mt,{modelValue:Se(c),"onUpdate:modelValue":O[8]||(O[8]=_=>hr(c)?c.value=_:null),persistent:""},{default:V(()=>[C(qe,null,{default:V(()=>[C(ze,{class:"row items-center q-py-xs"},{default:V(()=>[ml,C(Di),C(dt,{name:"close",onClick:m,size:"sm",class:"cursor-pointer btn-modal rounded q-pa-xs"})]),_:1}),C(Xt),C(ze,{class:"flex-client"},{default:V(()=>[C(he,{modelValue:E.accountNumber,"onUpdate:modelValue":O[0]||(O[0]=_=>E.accountNumber=_),filled:"",label:"Account Number",readonly:""},null,8,["modelValue"]),C(he,{modelValue:E.clientName,"onUpdate:modelValue":O[1]||(O[1]=_=>E.clientName=_),filled:"",label:"Client Name",readonly:""},null,8,["modelValue"]),C(he,{modelValue:E.packageType,"onUpdate:modelValue":O[2]||(O[2]=_=>E.packageType=_),filled:"",label:"Package Type",readonly:""},null,8,["modelValue"]),C(he,{modelValue:E.serialAndMac.serialNum.label,"onUpdate:modelValue":O[5]||(O[5]=_=>E.serialAndMac.serialNum.label=_),label:"Barcode Scan",outlined:""},{append:V(()=>[C(dt,{name:"barcode_reader",class:"cursor-pointer",onClick:O[3]||(O[3]=()=>l.value=!l.value),rounded:""}),C(Mt,{modelValue:l.value,"onUpdate:modelValue":O[4]||(O[4]=_=>l.value=_),style:{height:"200px"}},{default:V(()=>[C(qe,null,{default:V(()=>[C(ze,null,{default:V(()=>[l.value?(we(),xe(Se(dl),{key:0,formats:g,onDetect:$,track:S})):Je("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),C(Tr,null,{default:V(()=>[le(" Scan Barcode ")]),_:1})]),_:1},8,["modelValue"]),C(he,{modelValue:E.serialAndMac.macAddress,"onUpdate:modelValue":O[6]||(O[6]=_=>E.serialAndMac.macAddress=_),filled:"",label:"ONU Mac Address",readonly:""},null,8,["modelValue"]),C(ft,{outlined:"",modelValue:E.oltIp,"onUpdate:modelValue":O[7]||(O[7]=_=>E.oltIp=_),options:U.value,label:"OLT IP",clearable:"","option-label":"HOSTNAME","option-value":"IP","input-debounce":"0","use-input":"","emit-value":"",onFilter:H},null,8,["modelValue","options"])]),_:1}),C(Xt),C(cn,{align:"right"},{default:V(()=>[C(et,{disable:!E.oltIp&&!E.serialAndMac.serialNum.label&&!E.oltIp,flat:"",type:"submit",label:E.oltIp&&E.serialAndMac.serialNum.label&&E.oltIp?"OK":"Missing Inputs",color:"primary full-width",onClick:L},null,8,["disable","label"])]),_:1}),C(ct,{class:"bg-primary text-white q-pt-none"},{default:V(()=>[pl,j("div",null,[j("p",null,[le(" Auto Config: "),j("span",{class:Kt(D.autoConfig?"text-positive":"text-warning")},Q(b.autoConfig),3)]),j("p",null,[le(" Monitoring: "),j("span",{class:Kt(D.monitoring?"text-positive":"text-warning")},Q(b.monitoring),3)]),w.value?(we(),rn("div",vl,[C(Xt,{class:"q-mb-sm"}),j("p",{class:Kt(["text-uppercase text-bold",D.autoConfig&&D.monitoring?"text-positive":"text-warning"])},Q(D.autoConfig&&D.monitoring?" Successful Provision!":"Unsuccessful Provision!"),3),v.name||v.pw?(we(),rn("p",hl," SSID: "+Q(v.name)+" Password: "+Q(v.pw),1)):Je("",!0)])):Je("",!0)])]),_:1}),d.value?(we(),xe(es,{key:0,src:"src/assets/dance.gif",class:"skeleton-dance"})):Je("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});var yl=sn(gl,[["__scopeId","data-v-df0efa26"]]);const Ml=mt({__name:"InetConfig",setup(n){const o=dn(),a=wr(),l=k(),c=k([]),m=k(["id","actions","clientName","ipAssigned","onuSerialNumber","onuMacAddress","oltIp","packageTypeId","ssidName"]),v=k(""),w=a.$state.subscribercolumns,d=k(!1),g=k(""),h=k(0),b=k(!1),D=k(!1);let U=[];const I=k({id:0,accountNumber:"",clientName:"",ipAssigned:"",onuSerialNumber:"",oltIp:"",onuDeviceName:"",onuMacAddress:"",packageTypeId:""}),E=async R=>{o.loading.show(),U=(await Oi()).map(O=>({serial_number:O.serial_number,mac_address:O.mac_address})),console.log(U),I.value=await br(R),d.value=!d.value,o.loading.hide()},H=()=>{d.value=!d.value},W=(R,P)=>{g.value=R,h.value=P,b.value=!b.value},$=()=>{b.value=!b.value},S=async()=>{c.value=[],c.value=await Kn()},L=async()=>{try{D.value=!0,c.value=await Kn()}catch{throw new Error("Cannot get Clients info.")}D.value=!1};return yr(async()=>{L()}),(R,P)=>(we(),xe($t,{padding:""},{default:V(()=>[C(Ii,{class:"my-sticky-last-column-table",rows:c.value,title:"For Provision","row-key":"name",columns:Se(w),loading:D.value,pagination:{rowsPerPage:10},dense:Se(o).screen.lt.md,filter:v.value,"visible-columns":m.value},{"body-cell-actions":V(O=>[C(Mi,{props:O},{default:V(()=>[C(et,{dense:"",round:"",flat:"",icon:"assignment",onClick:_=>E(O.row.id)},null,8,["onClick"]),C(et,{dense:"",round:"",flat:"",icon:"build",onClick:_=>W(O.row.onuDeviceName+"-"+O.row.ipAssigned,O.row.id),disable:O.row.onuDeviceName===null||O.row.onuDeviceName===""},{default:V(()=>[O.row.onuDeviceName===null||O.row.onuDeviceName===""?(we(),xe(Tr,{key:0,anchor:"center left",self:"center right",offset:[10,10]},{default:V(()=>[le(" Device Name Missing! ")]),_:1})):Je("",!0)]),_:2},1032,["onClick","disable"])]),_:2},1032,["props"])]),"top-right":V(()=>[C(ft,{modelValue:m.value,"onUpdate:modelValue":P[0]||(P[0]=O=>m.value=O),multiple:"",outlined:"",dense:"","options-dense":"","display-value":Se(o).lang.table.columns,"emit-value":"","map-options":"",options:Se(w),"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"]),C(he,{modelValue:v.value,"onUpdate:modelValue":P[1]||(P[1]=O=>v.value=O),filled:"",dense:"",label:"Search",debounce:"300",color:"primary"},{append:V(()=>[C(dt,{name:"search"})]),_:1},8,["modelValue"]),C(dt,{name:"autorenew",class:"cursor-pointer q-ma-sm",size:"sm",onClick:S,flat:""})]),_:1},8,["rows","columns","loading","dense","filter","visible-columns"]),C(yl,{"is-open":d.value,onOpenModal:E,"serial-and-mac":Se(U),client:I.value,"close-modal":H},null,8,["is-open","serial-and-mac","client"]),C(xi,{confirm:b.value,"close-modal":$,"device-name":g.value,clientId:h.value},null,8,["confirm","device-name","clientId"]),C(Zi,{"data-id":l.value,"get-subsribers":S},null,8,["data-id"])]),_:1}))}});export{Ml as default};
