import{c as B,r as b,a as u,o as S,e as z,h as d,g as $,d as g}from"./index.61d51993.js";import{i as E,a as Q,d as C}from"./QItem.d2fe947f.js";const k=XMLHttpRequest,M=k.prototype.open,w=["top","right","bottom","left"];let v=[],f=0;function D({p:e,pos:n,active:l,horiz:r,reverse:o,dir:s}){let t=1,a=1;return r===!0?(o===!0&&(t=-1),n==="bottom"&&(a=-1),{transform:`translate3d(${t*(e-100)}%,${l?0:a*-200}%,0)`}):(o===!0&&(a=-1),n==="right"&&(t=-1),{transform:`translate3d(${l?0:s*t*-200}%,${a*(e-100)}%,0)`})}function H(e,n){return typeof n!="number"&&(e<25?n=Math.random()*3+3:e<65?n=Math.random()*3:e<85?n=Math.random()*2:e<99?n=.6:n=0),E(e+n,0,100)}function L(e){f++,v.push(e),!(f>1)&&(k.prototype.open=function(n,l){const r=[],o=()=>{v.forEach(t=>{(t.hijackFilter.value===null||t.hijackFilter.value(l)===!0)&&(t.start(),r.push(t.stop))})},s=()=>{r.forEach(t=>{t()})};this.addEventListener("loadstart",o,{once:!0}),this.addEventListener("loadend",s,{once:!0}),M.apply(this,arguments)})}function P(e){v=v.filter(n=>n.start!==e),f=Math.max(0,f-1),f===0&&(k.prototype.open=M)}var O=B({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:e=>w.includes(e)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(e,{emit:n}){const{proxy:l}=$(),r=b(0),o=b(!1),s=b(!0);let t=0,a=null,h;const T=u(()=>`q-loading-bar q-loading-bar--${e.position}`+(e.color!==void 0?` bg-${e.color}`:"")+(s.value===!0?"":" no-transition")),j=u(()=>e.position==="top"||e.position==="bottom"),A=u(()=>j.value===!0?"height":"width"),_=u(()=>{const i=o.value,c=D({p:r.value,pos:e.position,active:i,horiz:j.value,reverse:l.$q.lang.rtl===!0&&["top","bottom"].includes(e.position)?e.reverse===!1:e.reverse,dir:l.$q.lang.rtl===!0?-1:1});return c[A.value]=e.size,c.opacity=i?1:0,c}),F=u(()=>o.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":r.value}:{"aria-hidden":"true"});function m(i=300){const c=h;return h=Math.max(0,i)||0,t++,t>1?(c===0&&i>0?p():a!==null&&c>0&&i<=0&&(clearTimeout(a),a=null),t):(a!==null&&clearTimeout(a),n("start"),r.value=0,a=setTimeout(()=>{a=null,s.value=!0,i>0&&p()},o.value===!0?500:1),o.value!==!0&&(o.value=!0,s.value=!1),t)}function x(i){return t>0&&(r.value=H(r.value,i)),t}function q(){if(t=Math.max(0,t-1),t>0)return t;a!==null&&(clearTimeout(a),a=null),n("stop");const i=()=>{s.value=!0,r.value=100,a=setTimeout(()=>{a=null,o.value=!1},1e3)};return r.value===0?a=setTimeout(i,1):i(),t}function p(){r.value<100&&(a=setTimeout(()=>{a=null,x(),p()},h))}let y;return S(()=>{e.skipHijack!==!0&&(y=!0,L({start:m,stop:q,hijackFilter:u(()=>e.hijackFilter||null)}))}),z(()=>{a!==null&&clearTimeout(a),y===!0&&P(m)}),Object.assign(l,{start:m,stop:q,increment:x}),()=>d("div",{class:T.value,style:_.value,...F.value})}}),R=B({name:"QBanner",props:{...Q,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:n}){const{proxy:{$q:l}}=$(),r=C(e,l),o=u(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(r.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),s=u(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const t=[d("div",{class:"q-banner__avatar col-auto row items-center self-start"},g(n.avatar)),d("div",{class:"q-banner__content col text-body2"},g(n.default))],a=g(n.action);return a!==void 0&&t.push(d("div",{class:s.value},a)),d("div",{class:o.value+(e.inlineActions===!1&&a!==void 0?" q-banner--top-padding":""),role:"alert"},t)}}});export{O as Q,R as a};
