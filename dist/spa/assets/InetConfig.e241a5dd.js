import{c as xe,r as u,a as X,w as ie,e as ve,A as be,u as ge,h as _e,ad as qe,g as Qe,d as Be,B as Le,ae as Ee,j as je,af as He,T as Z,ag as re,P as Y,U as Q,V as B,W as s,X as a,ah as c,Z as T,_ as y,ai as we,a1 as D,Y as Me,aj as $,ak as Ce,$ as ue,al as de,Q as ce,am as ke,an as Pe,ao as Re}from"./index.37a28002.js";import{u as We,a as Fe,v as ye,b as Ge,c as ze,d as Ke,e as Xe,f as Ye,r as he,s as Ze,p as Ne,g as Je,Q as J,h as H,i as me,j as ea}from"./QPage.25a002f1.js";import{u as aa,b as la,k as ta,e as oa,f as sa,c as Se,l as na}from"./QItem.4af82254.js";import{Q as V,a as ia}from"./QInput.e8bb12d2.js";import{Q as ra}from"./QTable.3bd82f12.js";import{Q as ua,a as j}from"./QBanner.c31a0ecf.js";import{Q as x,a as q}from"./QCard.87a303ab.js";import{Q as pe,a as Ie}from"./QRadio.e9081009.js";import{a as O}from"./axios.a596eead.js";import{g as Oe,c as da,a as ca,b as ma,u as pa,e as fa,d as va,f as Ae}from"./networkAddressAPIs.7307f1ae.js";import{g as ba}from"./rougeDevicesApi.ffc9d203.js";import"./QList.6405ceeb.js";var ga=xe({name:"QTooltip",inheritAttrs:!1,props:{...We,...aa,...Fe,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:ye},self:{type:String,default:"top middle",validator:ye},offset:{type:Array,default:()=>[14,14],validator:Ge},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...la],setup(n,{slots:f,emit:m,attrs:N}){let v,g;const l=Qe(),{proxy:{$q:d}}=l,w=u(null),b=u(!1),t=X(()=>Ne(n.anchor,d.lang.rtl)),o=X(()=>Ne(n.self,d.lang.rtl)),i=X(()=>n.persistent!==!0),{registerTick:S,removeTick:p}=ta(),{registerTimeout:A}=oa(),{transitionProps:C,transitionStyle:_}=ze(n),{localScrollTarget:h,changeScrollEvent:e,unconfigureScrollTarget:r}=Ke(n,K),{anchorEl:M,canShow:ee,anchorEvents:k}=Xe({showing:b,configureAnchorEl:se}),{show:ae,hide:L}=sa({showing:b,canShow:ee,handleShow:le,handleHide:te,hideOnRouteChange:i,processOnMount:!0});Object.assign(k,{delayShow:E,delayHide:oe});const{showPortal:W,hidePortal:F,renderPortal:G}=Ye(l,w,$e,"tooltip");if(d.platform.is.mobile===!0){const I={anchorEl:M,innerRef:w,onClickOutside(U){return L(U),U.target.classList.contains("q-dialog__backdrop")&&Le(U),!0}},ne=X(()=>n.modelValue===null&&n.persistent!==!0&&b.value===!0);ie(ne,U=>{(U===!0?Je:he)(I)}),ve(()=>{he(I)})}function le(I){W(),S(()=>{g=new MutationObserver(()=>P()),g.observe(w.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),P(),K()}),v===void 0&&(v=ie(()=>d.screen.width+"|"+d.screen.height+"|"+n.self+"|"+n.anchor+"|"+d.lang.rtl,P)),A(()=>{W(!0),m("show",I)},n.transitionDuration)}function te(I){p(),F(),z(),A(()=>{F(!0),m("hide",I)},n.transitionDuration)}function z(){g!==void 0&&(g.disconnect(),g=void 0),v!==void 0&&(v(),v=void 0),r(),be(k,"tooltipTemp")}function P(){Ze({targetEl:w.value,offset:n.offset,anchorEl:M.value,anchorOrigin:t.value,selfOrigin:o.value,maxHeight:n.maxHeight,maxWidth:n.maxWidth})}function E(I){if(d.platform.is.mobile===!0){Se(),document.body.classList.add("non-selectable");const ne=M.value,U=["touchmove","touchcancel","touchend","click"].map(fe=>[ne,fe,"delayHide","passiveCapture"]);ge(k,"tooltipTemp",U)}A(()=>{ae(I)},n.delay)}function oe(I){d.platform.is.mobile===!0&&(be(k,"tooltipTemp"),Se(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),A(()=>{L(I)},n.hideDelay)}function se(){if(n.noParentEvent===!0||M.value===null)return;const I=d.platform.is.mobile===!0?[[M.value,"touchstart","delayShow","passive"]]:[[M.value,"mouseenter","delayShow","passive"],[M.value,"mouseleave","delayHide","passive"]];ge(k,"anchor",I)}function K(){if(M.value!==null||n.scrollTarget!==void 0){h.value=na(M.value,n.scrollTarget);const I=n.noParentEvent===!0?P:L;e(h.value,I)}}function Ue(){return b.value===!0?_e("div",{...N,ref:w,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",N.class],style:[N.style,_.value],role:"tooltip"},Be(f.default)):null}function $e(){return _e(qe,C.value,Ue)}return ve(z),Object.assign(l.proxy,{updatePosition:P}),G}});const De=Ee("subsciber",{state:()=>({subscriberDetail:{subscriber_name:"",serial_number:"",acc_no:"",package_type:"",ssid:"",password:"",mode:"",olt_ip:"",olt_interface:""},modalIsOpen:!1,subscribercolumns:[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"accountNumber",label:"Account No.",field:"accountNumber",align:"left",sortable:!0},{name:"clientName",label:"Client Name",field:"clientName",align:"left",sortable:!0},{name:"ipAssigned",label:"IP Assigned",field:"ipAssigned",align:"left",sortable:!0},{name:"onuSerialNumber",label:"ONU Serial Number",field:"onuSerialNumber",align:"left",sortable:!0},{name:"onuMacAddress",label:"ONU Mac Address",field:"onuMacAddress",align:"left",sortable:!0},{name:"oltIp",label:"OLT IP",field:"oltIp",align:"left",sortable:!0},{name:"packageTypeId",label:"Package Type ID",field:"packageTypeId",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"",align:"left"}]})});function _a(){return je(He)}const wa={class:"provision-info"},ya=["src"],ha=Z({__name:"TroubleshootClient",props:{confirm:{type:Boolean},closeModal:{type:Function},deviceName:{},clientId:{}},setup(n){const f=n,m=_a(),N=u(!1),{confirm:v}=re(f),g=()=>{f.closeModal()},l=u({__name__:"",device_name:"",device_role:"",instance:"",job:"",site_name:"",site_status:"",site_tenant:""}),d=u("2d"),w=u(""),b=u(""),t=Y({accountNumber:"",clientName:"",ipAssigned:"",onuSerialNumber:"",oltIp:"",onuMacAddress:"",onuDeviceName:"",packageTypeId:"",oltSite:"",oltInterface:""}),o=Y({upStream:"",downStream:""}),i=u(),S=[{label:"Last 5 minutes",value:"5m"},{label:"Last 15 minutes",value:"15m"},{label:"Last 30 minutes",value:"30m"},{label:"Last 1 hour",value:"1h"},{label:"Last 3 hours",value:"3h"},{label:"Last 6 hours",value:"6h"},{label:"Last 12 hours",value:"12h"},{label:"Last 24 hours",value:"24h"},{label:"Last 2 days",value:"2d"},{label:"Last 90 days",value:"90d"}],p=()=>{m.notify({message:"Gathering SNMP Data! Please wait for a moment.",color:"warning",position:"top"})},A=async(_,h)=>{try{if(!_){C();return}const e=i.value;e==null||e.start();const r=await O.get(`http://172.91.10.129:9090/api/v1/query?query=lo_status{job=%22ip_address%22,site_tenant=%22DCTECH%22,device_name="${_}"}`);l.value=r.data.data.result[0].metric,w.value=r.data.data.result[0].value[1];const M=l.value.site_name,ee=await O.get(`http://172.91.10.129:9090/api/v1/query?query=lo_status{job=%22ip_address%22,site_tenant=%22DCTECH%22,device_name="${M}"}`);b.value=ee.data.data.result[0].value[1];const k=await Oe(h);if(k){const{accountNumber:L,clientName:W,ipAssigned:F,oltIp:G,onuDeviceName:le,onuMacAddress:te,onuSerialNumber:z,packageTypeId:P}=k;t.accountNumber=L,t.clientName=W,t.ipAssigned=F,t.oltIp=G,t.onuDeviceName=le,t.onuMacAddress=te,t.onuSerialNumber=z,t.packageTypeId=P;try{const E=await da(G);t.oltSite=E.olt_site;const oe=await ca(P),{upstream:se,downstream:K}=oe;o.upStream=se,o.downStream=K}catch(E){throw E}}else throw new Error("Error fetching client data");const ae=await ma(_);t.oltInterface=ae,e==null||e.stop(),N.value=!0}catch{C()}},C=()=>{const _=i.value;_==null||_.stop(),g(),p()};return ie(v,_=>{v.value===!0&&A(f.deviceName,f.clientId)}),(_,h)=>(Q(),B(J,null,{default:s(()=>[a(ua,{ref_key:"bar",ref:i,color:"info",position:"bottom",size:"10px","skip-hijack":""},null,512),a(me,{modelValue:$(v),"onUpdate:modelValue":h[1]||(h[1]=e=>Ce(v)?v.value=e:null),persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},{default:s(()=>[N.value?(Q(),B(x,{key:0,class:"dialog-content"},{default:s(()=>[c("div",wa,[a(x,null,{default:s(()=>[a(j,{class:"bg-primary text-white"},{default:s(()=>[T(" Client Details ")]),_:1}),a(q,null,{default:s(()=>[c("p",null,"Client Name: "+y(t.clientName),1),c("p",null,"Account Number: "+y(t.accountNumber),1),c("p",null,"Package Type: "+y(t.packageTypeId),1)]),_:1})]),_:1}),a(x,null,{default:s(()=>[a(j,{class:"bg-primary text-white"},{default:s(()=>[T(" ONU Details ")]),_:1}),a(q,null,{default:s(()=>[c("p",null,[T(" ONU Status: "),c("span",{style:we(w.value==="1"?"color: green":"color: red")},y(w.value==="1"?"UP":"Down"),5)]),c("p",null,"ONU IP: "+y(l.value.instance),1),c("p",null,"ONU Serial Number: "+y(t.onuSerialNumber),1),c("p",null,"ONU Mac Address: "+y(t.onuMacAddress),1),c("p",null," upstream: "+y(o.upStream)+" downstream: "+y(o.downStream),1)]),_:1})]),_:1}),a(x,null,{default:s(()=>[a(j,{class:"bg-primary text-white"},{default:s(()=>[T(" OLT Details ")]),_:1}),a(q,null,{default:s(()=>[c("p",null,[T(" OLT Status: "),c("span",{style:we(b.value==="1"?"color: green":"color: red")},y(b.value==="1"?"UP":"Down"),5)]),c("p",null," OLT IP: "+y(t.oltIp),1),c("p",null,"OLT Site: "+y(t.oltSite),1),c("p",null,"OLT Interface: "+y(t.oltInterface),1)]),_:1})]),_:1})]),a(H,{modelValue:d.value,"onUpdate:modelValue":h[0]||(h[0]=e=>d.value=e),options:S,label:"Select Time",filled:"",class:"select-time q-py-md","emit-value":"","map-options":""},null,8,["modelValue"]),c("iframe",{src:`http://172.91.10.151:3000/d-solo/d94d1e0e-a6e4-45c4-847f-6603e1c31ccb/subscribers-traffic-rate-and-uptime?orgId=1&from=now-${d.value}&to=now&var-Subscriber=${_.deviceName}&panelId=3`,class:"grafana-panel",frameborder:"0"},null,8,ya),a(pe,{vertical:"",align:"right"},{default:s(()=>[a(D,{filled:"",label:"Close",color:"red",onClick:g})]),_:1})]),_:1})):Me("",!0)]),_:1},8,["modelValue"])]),_:1}))}});var Na=ue(ha,[["__scopeId","data-v-6df42843"]]);const R=n=>(ke("data-v-7a47d3e6"),n=n(),Pe(),n),Sa={class:""},Ia={class:""},Aa={class:"q-gutter-sm"},Va=R(()=>c("br",null,null,-1)),Ta=R(()=>c("br",null,null,-1)),Ma=R(()=>c("br",null,null,-1)),Ca=R(()=>c("br",null,null,-1)),ka=R(()=>c("br",null,null,-1)),Pa="http://127.0.0.1:8000",Ve="http://172.91.0.136:7547",Te="http://172.91.10.108:8080",Oa=Z({__name:"SubscriberModal",props:["dataId","getSubsribers"],setup(n){const f=n;O.defaults.timeout=0;const m=De(),{dataId:N}=re(f),v=u(""),g=u(""),l=u(""),d=u(""),w=u(""),b=u(""),t=u(""),o=u(""),i=u(""),S=u(!0),p=Y({subscriber:"",configureSsid:"",setBandwidth:"",runAnsible:"",wanConfig:""});de(()=>{v.value=m.$state.subscriberDetail.acc_no,g.value=m.$state.subscriberDetail.subscriber_name,l.value=m.$state.subscriberDetail.package_type,d.value=m.$state.subscriberDetail.serial_number,w.value=m.$state.subscriberDetail.olt_ip,b.value=m.$state.subscriberDetail.olt_interface,t.value=m.$state.subscriberDetail.mode,o.value=m.$state.subscriberDetail.ssid,i.value=m.$state.subscriberDetail.password});const A=["0/1:1","0/1:2","0/1:3","0/2:1","0/2:2","0/2:3","0/3:1","0/3:2","0/3:3"],C=()=>{m.$state.modalIsOpen=!m.$state.modalIsOpen},_=async h=>{await O.put(`${Pa}/api/subscriber_test/${h}/edit`,{acc_no:v.value,subscriber_name:g.value,serial_number:d.value,olt_ip:w.value,olt_interface:b.value,package_type:l.value,mode:t.value,ssid:o.value,password:i.value}).then(e=>{p.subscriber=e.data,f.getSubsribers()}).catch(e=>{p.subscriber=e}),await O.post(`${Ve}/configureSSID`,{SN:d.value,NewSSID:t.value==="Bridged"?"":o.value,Password:i.value}).then(e=>{p.configureSsid=e.data}).catch(e=>{p.configureSsid=e}),await O.post(`${Ve}/bridgedWanConfig`,{SN:d.value}).then(e=>{p.wanConfig=e.data}).catch(e=>{p.wanConfig=e}),await O.post(Te+"/setBandwidth").then(e=>{if(e.data)p.setBandwidth="Bandwidth Config Success!";else throw new Error("Something went wrong!")}).catch(e=>{p.setBandwidth=e}),await O.post(Te+"/runPlaybook").then(e=>{if(e.data)p.runAnsible="Successfull Setup!";else throw new Error("Something went wrong!")}).catch(e=>{p.runAnsible=e})};return(h,e)=>(Q(),B(J,null,{default:s(()=>[a(me,{modelValue:$(m).$state.modalIsOpen,"onUpdate:modelValue":e[12]||(e[12]=r=>$(m).$state.modalIsOpen=r),modelModifiers:{trim:!0}},{default:s(()=>[a(x,null,{default:s(()=>[a(q,{class:"flex-subscriber"},{default:s(()=>[c("div",Sa,[a(V,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=r=>v.value=r),modelModifiers:{trim:!0},outlined:"",label:"Account No.",class:"q-ma-md",disable:""},null,8,["modelValue"]),a(V,{modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=r=>g.value=r),modelModifiers:{trim:!0},outlined:"",label:"Subscriber Name",class:"q-ma-md",disable:""},null,8,["modelValue"]),a(V,{modelValue:l.value,"onUpdate:modelValue":e[2]||(e[2]=r=>l.value=r),modelModifiers:{trim:!0},outlined:"",label:"Package Type",class:"q-ma-md",disable:""},null,8,["modelValue"]),a(V,{modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=r=>d.value=r),modelModifiers:{trim:!0},outlined:"",label:"Serial Number",class:"q-ma-md"},null,8,["modelValue"]),a(H,{modelValue:w.value,"onUpdate:modelValue":e[4]||(e[4]=r=>w.value=r),modelModifiers:{trim:!0},filled:"",options:["172.16.0.2","172.16.0.58","172.16.0.22"],label:"OLT IP",class:"q-ma-md"},null,8,["modelValue"])]),c("div",Ia,[a(H,{modelValue:b.value,"onUpdate:modelValue":e[5]||(e[5]=r=>b.value=r),modelModifiers:{trim:!0},filled:"",options:A,label:"OLT Interface",class:"q-ma-md"},null,8,["modelValue"]),a(ea,{filled:"",label:"Mode","stack-label":"",class:"q-ma-md"},{control:s(()=>[c("div",Aa,[a(Ie,{modelValue:t.value,"onUpdate:modelValue":e[6]||(e[6]=r=>t.value=r),modelModifiers:{trim:!0},dense:"",val:"Bridged",label:"Bridged"},null,8,["modelValue"]),a(Ie,{modelValue:t.value,"onUpdate:modelValue":e[7]||(e[7]=r=>t.value=r),modelModifiers:{trim:!0},dense:"",val:"Routed",label:"Routed"},null,8,["modelValue"])])]),_:1}),a(V,{modelValue:o.value,"onUpdate:modelValue":e[8]||(e[8]=r=>o.value=r),modelModifiers:{trim:!0},outlined:"",class:"q-ma-md",label:"SSID"},null,8,["modelValue"]),a(V,{modelValue:i.value,"onUpdate:modelValue":e[10]||(e[10]=r=>i.value=r),modelModifiers:{trim:!0},outlined:"",class:"q-ma-md",label:"Password",type:S.value?"password":"text"},{append:s(()=>[a(ce,{name:S.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[9]||(e[9]=r=>S.value=!S.value)},null,8,["name"])]),_:1},8,["modelValue","type"])])]),_:1}),a(pe,{align:"left"},{default:s(()=>[a(D,{flat:"",label:"Update Info",color:"secondary",onClick:e[11]||(e[11]=r=>_($(N)))}),a(D,{flat:"",label:"Close",color:"primary",onClick:C})]),_:1}),a(j,{class:"bg-primary text-white"},{default:s(()=>[T(" Subscriber Details: "+y(p.subscriber)+" ",1),Va,T(" SSID/Password Config: "+y(p.configureSsid)+" ",1),Ta,T(" Wan Config: "+y(p.wanConfig)+" ",1),Ma,T(" Bandwidth: "+y(p.setBandwidth)+" ",1),Ca,T(" Playbook: "+y(p.runAnsible)+" ",1),ka]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});var Da=ue(Oa,[["__scopeId","data-v-7a47d3e6"]]);const Ua=n=>(ke("data-v-3a487782"),n=n(),Pe(),n),$a=Ua(()=>c("div",{class:"text-h6"},"For Provisioning",-1)),xa=Z({__name:"AddNewClient",props:{isOpen:{type:Boolean},serialAndMac:{},client:{},closeModal:{type:Function}},setup(n){const f=n,{isOpen:m}=re(f),N=()=>{f.closeModal()},v=[{label:"Gusa 1",value:"172.16.0.2"},{label:"Gusa 2",value:"172.16.0.10"}],g=u(""),l=Y({clientId:0,accountNumber:"",packageType:"",serialAndMac:{serialNum:{label:"",idx:0},macAddress:""},oltIp:"",ipAssign:"",clientName:""});Re(()=>{var t,o;l.serialAndMac.serialNum.label=(t=f.client)==null?void 0:t.onuSerialNumber,l.serialAndMac.macAddress=(o=f.client)==null?void 0:o.onuMacAddress}),de(()=>{var t,o,i,S,p,A;l.clientId=(t=f.client)==null?void 0:t.id,l.accountNumber=(o=f.client)==null?void 0:o.accountNumber,l.clientName=(i=f.client)==null?void 0:i.clientName,l.ipAssign=(S=f.client)==null?void 0:S.ipAssigned,l.oltIp=(p=f.client)==null?void 0:p.oltIp,l.packageType=(A=f.client)==null?void 0:A.packageTypeId});const d=async()=>{console.log(l);try{await pa(l.clientId,l.ipAssign,l.serialAndMac.serialNum.label,l.oltIp,l.serialAndMac.macAddress)&&(g.value="Successfull Client Update!")}catch(t){g.value="Unsuccessful client Update: "+t}try{const t=await fa(l.accountNumber,l.clientName,l.serialAndMac.serialNum.label,l.serialAndMac.macAddress,l.ipAssign,l.oltIp,l.packageType);g.value=t}catch{throw new Error("Provoision Not complete")}},w=async()=>{const[t]=await va(),{ipAddress:o}=t;l.ipAssign=o},b=()=>{l.serialAndMac.macAddress=f.serialAndMac[l.serialAndMac.serialNum.idx].mac_address};return(t,o)=>(Q(),B(J,null,{default:s(()=>[a(me,{modelValue:$(m),"onUpdate:modelValue":o[7]||(o[7]=i=>Ce(m)?m.value=i:null),persistent:""},{default:s(()=>[a(x,null,{default:s(()=>[a(q,null,{default:s(()=>[$a]),_:1}),a(q,{class:"q-pt-none flex-client"},{default:s(()=>[a(V,{modelValue:l.accountNumber,"onUpdate:modelValue":o[0]||(o[0]=i=>l.accountNumber=i),filled:"",label:"Account Number",readonly:""},null,8,["modelValue"]),a(V,{modelValue:l.clientName,"onUpdate:modelValue":o[1]||(o[1]=i=>l.clientName=i),filled:"",label:"Client Name",readonly:""},null,8,["modelValue"]),a(V,{modelValue:l.ipAssign,"onUpdate:modelValue":o[2]||(o[2]=i=>l.ipAssign=i),filled:"",label:"IP Assign",readonly:""},{append:s(()=>[a(ce,{name:"add",class:"cursor-pointer",onClick:w})]),_:1},8,["modelValue"]),a(V,{modelValue:l.packageType,"onUpdate:modelValue":o[3]||(o[3]=i=>l.packageType=i),filled:"",label:"Package Type",readonly:""},null,8,["modelValue"]),a(H,{outlined:"",modelValue:l.serialAndMac.serialNum,"onUpdate:modelValue":[o[4]||(o[4]=i=>l.serialAndMac.serialNum=i),b],options:t.serialAndMac.map((i,S)=>({label:i.serial_number,idx:S})),label:"ONU Seriual Number"},null,8,["modelValue","options"]),a(V,{modelValue:l.serialAndMac.macAddress,"onUpdate:modelValue":o[5]||(o[5]=i=>l.serialAndMac.macAddress=i),filled:"",label:"ONU Mac Address",readonly:""},null,8,["modelValue"]),a(H,{outlined:"",modelValue:l.oltIp,"onUpdate:modelValue":o[6]||(o[6]=i=>l.oltIp=i),options:v,label:"OLT","emit-value":"","map-options":""},null,8,["modelValue"]),a(pe,{align:"right"},{default:s(()=>[a(D,{flat:"",label:"OK",color:"primary",onClick:d}),a(D,{flat:"",label:"close",color:"primary",onClick:N})]),_:1})]),_:1}),a(j,{class:"bg-primary text-white"},{default:s(()=>[T(" Response: "+y(g.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});var qa=ue(xa,[["__scopeId","data-v-3a487782"]]);const Xa=Z({__name:"InetConfig",setup(n){u(!0);const f=De(),m=u(),N=u([]),v=u(""),g=f.$state.subscribercolumns,l=u(!1),d=u(""),w=u(0),b=u(!1);let t=[];const o=u({id:0,accountNumber:"",clientName:"",ipAssigned:"",onuSerialNumber:"",oltIp:"",onuDeviceName:"",onuMacAddress:"",packageTypeId:""}),i=async _=>{l.value=!l.value,t=(await ba()).map(e=>({serial_number:e.serial_number,mac_address:e.mac_address})),o.value=await Oe(_)},S=()=>{l.value=!l.value},p=(_,h)=>{d.value=_,w.value=h,b.value=!b.value},A=()=>{b.value=!b.value},C=async()=>{N.value=[],N.value=await Ae()};return de(async()=>{N.value=await Ae()}),(_,h)=>(Q(),B(J,{padding:""},{default:s(()=>[a(ra,{rows:N.value,title:"For Provision","row-key":"name",columns:$(g),loading:!(N.value.length>0),pagination:{rowsPerPage:10},dense:_.$q.screen.lt.md},{"body-cell-actions":s(e=>[a(ia,{props:e},{default:s(()=>[a(D,{dense:"",round:"",flat:"",icon:"assignment",onClick:r=>i(e.row.id)},null,8,["onClick"]),a(D,{dense:"",round:"",flat:"",icon:"build",onClick:r=>p(e.row.onuDeviceName,e.row.id),disable:e.row.onuDeviceName===null||e.row.onuDeviceName===""},{default:s(()=>[e.row.onuDeviceName===null||e.row.onuDeviceName===""?(Q(),B(ga,{key:0,anchor:"center left",self:"center right",offset:[10,10]},{default:s(()=>[T(" Device Name Missing! ")]),_:1})):Me("",!0)]),_:2},1032,["onClick","disable"])]),_:2},1032,["props"])]),"top-right":s(()=>[a(D,{icon:"autorenew",class:"cursor-pointer q-mx-sm",onClick:C,flat:""}),a(V,{modelValue:v.value,"onUpdate:modelValue":h[0]||(h[0]=e=>v.value=e),filled:"",dense:"",label:"Search",debounce:"300",color:"primary"},{append:s(()=>[a(ce,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","loading","dense"]),a(qa,{"is-open":l.value,onOpenModal:i,"serial-and-mac":$(t),client:o.value,"close-modal":S},null,8,["is-open","serial-and-mac","client"]),a(Na,{confirm:b.value,"close-modal":A,"device-name":d.value,clientId:w.value},null,8,["confirm","device-name","clientId"]),a(Da,{"data-id":m.value,"get-subsribers":C},null,8,["data-id"])]),_:1}))}});export{Xa as default};
