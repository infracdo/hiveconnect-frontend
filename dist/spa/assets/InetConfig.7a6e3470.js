import{c as xe,h as Qe,g as P,Q as le}from"./QBtn.accf356b.js";import{r as m,c as K,w as ae,a as ce,v as me,p as pe,h as ve,Y as Le,g as qe,x as Be,a1 as Ee,_ as te,J as X,a2 as oe,H as J,K as L,L as q,M as s,N as a,X as $,a3 as Ie,a4 as f,P as T,Q as h,a5 as fe,O as Ae,a6 as se,a7 as Ve,a8 as Te,a9 as He}from"./index.f60f34fa.js";import{u as je,a as Fe,v as be,b as We,c as ze,d as Ge,e as Ke,f as Je,r as ge,s as Xe,p as _e,g as Ye,Q as ne,h as W,i as Y,j as Ze}from"./QPage.25264959.js";import{u as Re,b as ea,k as aa,e as la,f as ta,c as ye,l as oa}from"./QItem.4133c387.js";import{Q as V,a as sa}from"./QInput.1b3ebe6e.js";import{Q as na}from"./QTable.4200975a.js";import{Q as ia,a as F}from"./QBanner.9dc201ce.js";import{Q as x,a as Q}from"./QCard.609d0dd8.js";import{Q as ie,a as we}from"./QRadio.13478758.js";import{a as O}from"./axios.a596eead.js";import{g as Me,c as ra,a as ua,b as da,u as ca,e as ma,d as pa,f as he}from"./networkAddressAPIs.7307f1ae.js";import{g as va}from"./rougeDevicesApi.4baa89cc.js";import"./QList.e360e27f.js";var fa=xe({name:"QTooltip",inheritAttrs:!1,props:{...je,...Re,...Fe,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:be},self:{type:String,default:"top middle",validator:be},offset:{type:Array,default:()=>[14,14],validator:We},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...ea],setup(n,{slots:b,emit:p,attrs:y}){let S,g;const l=qe(),{proxy:{$q:v}}=l,w=m(null),o=m(!1),i=K(()=>_e(n.anchor,v.lang.rtl)),t=K(()=>_e(n.self,v.lang.rtl)),r=K(()=>n.persistent!==!0),{registerTick:I,removeTick:c}=aa(),{registerTimeout:N}=la(),{transitionProps:u,transitionStyle:M}=ze(n),{localScrollTarget:_,changeScrollEvent:e,unconfigureScrollTarget:d}=Ge(n,ue),{anchorEl:C,canShow:G,anchorEvents:D}=Ke({showing:o,configureAnchorEl:De}),{show:Z,hide:B}=ta({showing:o,canShow:G,handleShow:R,handleHide:ke,hideOnRouteChange:r,processOnMount:!0});Object.assign(D,{delayShow:Oe,delayHide:Pe});const{showPortal:E,hidePortal:k,renderPortal:H}=Je(l,w,$e,"tooltip");if(v.platform.is.mobile===!0){const A={anchorEl:C,innerRef:w,onClickOutside(U){return B(U),U.target.classList.contains("q-dialog__backdrop")&&Be(U),!0}},ee=K(()=>n.modelValue===null&&n.persistent!==!0&&o.value===!0);ae(ee,U=>{(U===!0?Ye:ge)(A)}),ce(()=>{ge(A)})}function R(A){E(),I(()=>{g=new MutationObserver(()=>j()),g.observe(w.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),j(),ue()}),S===void 0&&(S=ae(()=>v.screen.width+"|"+v.screen.height+"|"+n.self+"|"+n.anchor+"|"+v.lang.rtl,j)),N(()=>{E(!0),p("show",A)},n.transitionDuration)}function ke(A){c(),k(),re(),N(()=>{k(!0),p("hide",A)},n.transitionDuration)}function re(){g!==void 0&&(g.disconnect(),g=void 0),S!==void 0&&(S(),S=void 0),d(),me(D,"tooltipTemp")}function j(){Xe({targetEl:w.value,offset:n.offset,anchorEl:C.value,anchorOrigin:i.value,selfOrigin:t.value,maxHeight:n.maxHeight,maxWidth:n.maxWidth})}function Oe(A){if(v.platform.is.mobile===!0){ye(),document.body.classList.add("non-selectable");const ee=C.value,U=["touchmove","touchcancel","touchend","click"].map(de=>[ee,de,"delayHide","passiveCapture"]);pe(D,"tooltipTemp",U)}N(()=>{Z(A)},n.delay)}function Pe(A){v.platform.is.mobile===!0&&(me(D,"tooltipTemp"),ye(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),N(()=>{B(A)},n.hideDelay)}function De(){if(n.noParentEvent===!0||C.value===null)return;const A=v.platform.is.mobile===!0?[[C.value,"touchstart","delayShow","passive"]]:[[C.value,"mouseenter","delayShow","passive"],[C.value,"mouseleave","delayHide","passive"]];pe(D,"anchor",A)}function ue(){if(C.value!==null||n.scrollTarget!==void 0){_.value=oa(C.value,n.scrollTarget);const A=n.noParentEvent===!0?j:B;e(_.value,A)}}function Ue(){return o.value===!0?ve("div",{...y,ref:w,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",y.class],style:[y.style,M.value],role:"tooltip"},Qe(b.default)):null}function $e(){return ve(Le,u.value,Ue)}return ce(re),Object.assign(l.proxy,{updatePosition:j}),H}});const Ce=Ee("subsciber",{state:()=>({subscriberDetail:{subscriber_name:"",serial_number:"",acc_no:"",package_type:"",ssid:"",password:"",mode:"",olt_ip:"",olt_interface:""},modalIsOpen:!1,subscribercolumns:[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"accountNumber",label:"Account No.",field:"accountNumber",align:"left",sortable:!0},{name:"clientName",label:"Client Name",field:"clientName",align:"left",sortable:!0},{name:"ipAssigned",label:"IP Assigned",field:"ipAssigned",align:"left",sortable:!0},{name:"onuSerialNumber",label:"ONU Serial Number",field:"onuSerialNumber",align:"left",sortable:!0},{name:"onuMacAddress",label:"ONU Mac Address",field:"onuMacAddress",align:"left",sortable:!0},{name:"oltIp",label:"OLT IP",field:"oltIp",align:"left",sortable:!0},{name:"packageTypeId",label:"Package Type ID",field:"packageTypeId",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"",align:"left"}]})});const ba={class:"provision-info"},ga=["src"],_a=X({__name:"TroubleshootClient",props:{confirm:{type:Boolean},closeModal:{type:Function},deviceName:{},clientId:{}},setup(n){const b=n,p=m(!1),{confirm:y}=oe(b),S=()=>{b.closeModal()},g=m({__name__:"",device_name:"",device_role:"",instance:"",job:"",site_name:"",site_status:"",site_tenant:""}),l=m("2d"),v=m(""),w=m(""),o=J({accountNumber:"",clientName:"",ipAssigned:"",onuSerialNumber:"",oltIp:"",onuMacAddress:"",onuDeviceName:"",packageTypeId:"",oltSite:"",oltInterface:""}),i=J({upStream:"",downStream:""}),t=m(),r=[{label:"Last 5 minutes",value:"5m"},{label:"Last 15 minutes",value:"15m"},{label:"Last 30 minutes",value:"30m"},{label:"Last 1 hour",value:"1h"},{label:"Last 3 hours",value:"3h"},{label:"Last 6 hours",value:"6h"},{label:"Last 12 hours",value:"12h"},{label:"Last 24 hours",value:"24h"},{label:"Last 2 days",value:"2d"},{label:"Last 90 days",value:"90d"}],I=async(c,N)=>{const u=t.value;u==null||u.start();try{const _=await O.get(`http://172.91.10.129:9090/api/v1/query?query=lo_status{job=%22ip_address%22,site_tenant=%22DCTECH%22,device_name="${c}"}`);g.value=_.data.data.result[0].metric,v.value=_.data.data.result[0].value[1]}catch{u==null||u.stop()}try{const _=await O.get(`http://172.91.10.129:9090/api/v1/query?query=lo_status{job=%22ip_address%22,site_tenant=%22DCTECH%22,device_name="${g.value.site_name}"}`);w.value=_.data.data.result[0].value[1]}catch{u==null||u.stop()}try{const _=await Me(N),{accountNumber:e,clientName:d,ipAssigned:C,oltIp:G,onuDeviceName:D,onuMacAddress:Z,onuSerialNumber:B,packageTypeId:E}=_;o.accountNumber=e,o.clientName=d,o.ipAssigned=C,o.oltIp=G,o.onuDeviceName=D,o.onuMacAddress=Z,o.onuSerialNumber=B,o.packageTypeId=E;try{const k=await ra(G),{olt_site:H}=k;o.oltSite=H}catch{u==null||u.stop()}try{const k=await ua(E),{upstream:H,downstream:R}=k;i.upStream=H,i.downStream=R}catch{u==null||u.stop()}}catch{u==null||u.stop()}const M=await da(c);o.oltInterface=M,u==null||u.stop(),p.value=!0};return ae(y,c=>{y.value===!0&&I(b.deviceName,b.clientId)}),(c,N)=>(L(),q(Y,null,{default:s(()=>[a(ia,{ref_key:"bar",ref:t,color:"info",position:"bottom",size:"10px","skip-hijack":""},null,512),a(ne,{modelValue:$(y),"onUpdate:modelValue":N[1]||(N[1]=u=>Ie(y)?y.value=u:null),persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},{default:s(()=>[p.value?(L(),q(x,{key:0,class:"dialog-content"},{default:s(()=>[f("div",ba,[a(x,null,{default:s(()=>[a(F,{class:"bg-primary text-white"},{default:s(()=>[T(" Client Details ")]),_:1}),a(Q,null,{default:s(()=>[f("p",null,"Client Name: "+h(o.clientName),1),f("p",null,"Account Number: "+h(o.accountNumber),1),f("p",null,"Package Type: "+h(o.packageTypeId),1)]),_:1})]),_:1}),a(x,null,{default:s(()=>[a(F,{class:"bg-primary text-white"},{default:s(()=>[T(" ONU Details ")]),_:1}),a(Q,null,{default:s(()=>[f("p",null,[T(" ONU Status: "),f("span",{style:fe(v.value==="1"?"color: green":"color: red")},h(v.value==="1"?"UP":"Down"),5)]),f("p",null,"ONU IP: "+h(g.value.instance),1),f("p",null,"ONU Serial Number: "+h(o.onuSerialNumber),1),f("p",null,"ONU Mac Address: "+h(o.onuMacAddress),1),f("p",null," upstream: "+h(i.upStream)+" downstream: "+h(i.downStream),1)]),_:1})]),_:1}),a(x,null,{default:s(()=>[a(F,{class:"bg-primary text-white"},{default:s(()=>[T(" OLT Details ")]),_:1}),a(Q,null,{default:s(()=>[f("p",null,[T(" OLT Status: "),f("span",{style:fe(w.value==="1"?"color: green":"color: red")},h(w.value==="1"?"UP":"Down"),5)]),f("p",null," OLT IP: "+h(o.oltIp),1),f("p",null,"OLT Site: "+h(o.oltSite),1),f("p",null,"OLT Interface: "+h(o.oltInterface),1)]),_:1})]),_:1})]),a(W,{modelValue:l.value,"onUpdate:modelValue":N[0]||(N[0]=u=>l.value=u),options:r,label:"Select Time",filled:"",class:"select-time q-py-md","emit-value":"","map-options":""},null,8,["modelValue"]),f("iframe",{src:`http://172.91.10.151:3000/d-solo/d94d1e0e-a6e4-45c4-847f-6603e1c31ccb/subscribers-traffic-rate-and-uptime?orgId=1&from=now-${l.value}&to=now&var-Subscriber=${c.deviceName}&panelId=3`,class:"grafana-panel",frameborder:"0"},null,8,ga),a(ie,{vertical:"",align:"right"},{default:s(()=>[a(P,{filled:"",label:"Close",color:"red",onClick:S})]),_:1})]),_:1})):Ae("",!0)]),_:1},8,["modelValue"])]),_:1}))}});var ya=te(_a,[["__scopeId","data-v-9a355726"]]);const z=n=>(Ve("data-v-7a47d3e6"),n=n(),Te(),n),wa={class:""},ha={class:""},Na={class:"q-gutter-sm"},Sa=z(()=>f("br",null,null,-1)),Ia=z(()=>f("br",null,null,-1)),Aa=z(()=>f("br",null,null,-1)),Va=z(()=>f("br",null,null,-1)),Ta=z(()=>f("br",null,null,-1)),Ma="http://127.0.0.1:8000",Ne="http://172.91.0.136:7547",Se="http://172.91.10.108:8080",Ca=X({__name:"SubscriberModal",props:["dataId","getSubsribers"],setup(n){const b=n;O.defaults.timeout=0;const p=Ce(),{dataId:y}=oe(b),S=m(""),g=m(""),l=m(""),v=m(""),w=m(""),o=m(""),i=m(""),t=m(""),r=m(""),I=m(!0),c=J({subscriber:"",configureSsid:"",setBandwidth:"",runAnsible:"",wanConfig:""});se(()=>{S.value=p.$state.subscriberDetail.acc_no,g.value=p.$state.subscriberDetail.subscriber_name,l.value=p.$state.subscriberDetail.package_type,v.value=p.$state.subscriberDetail.serial_number,w.value=p.$state.subscriberDetail.olt_ip,o.value=p.$state.subscriberDetail.olt_interface,i.value=p.$state.subscriberDetail.mode,t.value=p.$state.subscriberDetail.ssid,r.value=p.$state.subscriberDetail.password});const N=["0/1:1","0/1:2","0/1:3","0/2:1","0/2:2","0/2:3","0/3:1","0/3:2","0/3:3"],u=()=>{p.$state.modalIsOpen=!p.$state.modalIsOpen},M=async _=>{await O.put(`${Ma}/api/subscriber_test/${_}/edit`,{acc_no:S.value,subscriber_name:g.value,serial_number:v.value,olt_ip:w.value,olt_interface:o.value,package_type:l.value,mode:i.value,ssid:t.value,password:r.value}).then(e=>{c.subscriber=e.data,b.getSubsribers()}).catch(e=>{c.subscriber=e}),await O.post(`${Ne}/configureSSID`,{SN:v.value,NewSSID:i.value==="Bridged"?"":t.value,Password:r.value}).then(e=>{c.configureSsid=e.data}).catch(e=>{c.configureSsid=e}),await O.post(`${Ne}/bridgedWanConfig`,{SN:v.value}).then(e=>{c.wanConfig=e.data}).catch(e=>{c.wanConfig=e}),await O.post(Se+"/setBandwidth").then(e=>{if(e.data)c.setBandwidth="Bandwidth Config Success!";else throw new Error("Something went wrong!")}).catch(e=>{c.setBandwidth=e}),await O.post(Se+"/runPlaybook").then(e=>{if(e.data)c.runAnsible="Successfull Setup!";else throw new Error("Something went wrong!")}).catch(e=>{c.runAnsible=e})};return(_,e)=>(L(),q(Y,null,{default:s(()=>[a(ne,{modelValue:$(p).$state.modalIsOpen,"onUpdate:modelValue":e[12]||(e[12]=d=>$(p).$state.modalIsOpen=d),modelModifiers:{trim:!0}},{default:s(()=>[a(x,null,{default:s(()=>[a(Q,{class:"flex-subscriber"},{default:s(()=>[f("div",wa,[a(V,{modelValue:S.value,"onUpdate:modelValue":e[0]||(e[0]=d=>S.value=d),modelModifiers:{trim:!0},outlined:"",label:"Account No.",class:"q-ma-md",disable:""},null,8,["modelValue"]),a(V,{modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=d=>g.value=d),modelModifiers:{trim:!0},outlined:"",label:"Subscriber Name",class:"q-ma-md",disable:""},null,8,["modelValue"]),a(V,{modelValue:l.value,"onUpdate:modelValue":e[2]||(e[2]=d=>l.value=d),modelModifiers:{trim:!0},outlined:"",label:"Package Type",class:"q-ma-md",disable:""},null,8,["modelValue"]),a(V,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=d=>v.value=d),modelModifiers:{trim:!0},outlined:"",label:"Serial Number",class:"q-ma-md"},null,8,["modelValue"]),a(W,{modelValue:w.value,"onUpdate:modelValue":e[4]||(e[4]=d=>w.value=d),modelModifiers:{trim:!0},filled:"",options:["172.16.0.2","172.16.0.58","172.16.0.22"],label:"OLT IP",class:"q-ma-md"},null,8,["modelValue"])]),f("div",ha,[a(W,{modelValue:o.value,"onUpdate:modelValue":e[5]||(e[5]=d=>o.value=d),modelModifiers:{trim:!0},filled:"",options:N,label:"OLT Interface",class:"q-ma-md"},null,8,["modelValue"]),a(Ze,{filled:"",label:"Mode","stack-label":"",class:"q-ma-md"},{control:s(()=>[f("div",Na,[a(we,{modelValue:i.value,"onUpdate:modelValue":e[6]||(e[6]=d=>i.value=d),modelModifiers:{trim:!0},dense:"",val:"Bridged",label:"Bridged"},null,8,["modelValue"]),a(we,{modelValue:i.value,"onUpdate:modelValue":e[7]||(e[7]=d=>i.value=d),modelModifiers:{trim:!0},dense:"",val:"Routed",label:"Routed"},null,8,["modelValue"])])]),_:1}),a(V,{modelValue:t.value,"onUpdate:modelValue":e[8]||(e[8]=d=>t.value=d),modelModifiers:{trim:!0},outlined:"",class:"q-ma-md",label:"SSID"},null,8,["modelValue"]),a(V,{modelValue:r.value,"onUpdate:modelValue":e[10]||(e[10]=d=>r.value=d),modelModifiers:{trim:!0},outlined:"",class:"q-ma-md",label:"Password",type:I.value?"password":"text"},{append:s(()=>[a(le,{name:I.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[9]||(e[9]=d=>I.value=!I.value)},null,8,["name"])]),_:1},8,["modelValue","type"])])]),_:1}),a(ie,{align:"left"},{default:s(()=>[a(P,{flat:"",label:"Update Info",color:"secondary",onClick:e[11]||(e[11]=d=>M($(y)))}),a(P,{flat:"",label:"Close",color:"primary",onClick:u})]),_:1}),a(F,{class:"bg-primary text-white"},{default:s(()=>[T(" Subscriber Details: "+h(c.subscriber)+" ",1),Sa,T(" SSID/Password Config: "+h(c.configureSsid)+" ",1),Ia,T(" Wan Config: "+h(c.wanConfig)+" ",1),Aa,T(" Bandwidth: "+h(c.setBandwidth)+" ",1),Va,T(" Playbook: "+h(c.runAnsible)+" ",1),Ta]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});var ka=te(Ca,[["__scopeId","data-v-7a47d3e6"]]);const Oa=n=>(Ve("data-v-3a487782"),n=n(),Te(),n),Pa=Oa(()=>f("div",{class:"text-h6"},"For Provisioning",-1)),Da=X({__name:"AddNewClient",props:{isOpen:{type:Boolean},serialAndMac:{},client:{},closeModal:{type:Function}},setup(n){const b=n,{isOpen:p}=oe(b),y=()=>{b.closeModal()},S=[{label:"Gusa 1",value:"172.16.0.2"},{label:"Gusa 2",value:"172.16.0.10"}],g=m(""),l=J({clientId:0,accountNumber:"",packageType:"",serialAndMac:{serialNum:{label:"",idx:0},macAddress:""},oltIp:"",ipAssign:"",clientName:""});He(()=>{var i,t;l.serialAndMac.serialNum.label=(i=b.client)==null?void 0:i.onuSerialNumber,l.serialAndMac.macAddress=(t=b.client)==null?void 0:t.onuMacAddress}),se(()=>{var i,t,r,I,c,N;l.clientId=(i=b.client)==null?void 0:i.id,l.accountNumber=(t=b.client)==null?void 0:t.accountNumber,l.clientName=(r=b.client)==null?void 0:r.clientName,l.ipAssign=(I=b.client)==null?void 0:I.ipAssigned,l.oltIp=(c=b.client)==null?void 0:c.oltIp,l.packageType=(N=b.client)==null?void 0:N.packageTypeId});const v=async()=>{console.log(l);try{await ca(l.clientId,l.ipAssign,l.serialAndMac.serialNum.label,l.oltIp,l.serialAndMac.macAddress)&&(g.value="Successfull Client Update!")}catch(i){g.value="Unsuccessful client Update: "+i}try{const i=await ma(l.accountNumber,l.clientName,l.serialAndMac.serialNum.label,l.serialAndMac.macAddress,l.ipAssign,l.oltIp,l.packageType);g.value=i}catch{throw new Error("Provoision Not complete")}},w=async()=>{const[i]=await pa(),{ipAddress:t}=i;l.ipAssign=t},o=()=>{l.serialAndMac.macAddress=b.serialAndMac[l.serialAndMac.serialNum.idx].mac_address};return(i,t)=>(L(),q(Y,null,{default:s(()=>[a(ne,{modelValue:$(p),"onUpdate:modelValue":t[7]||(t[7]=r=>Ie(p)?p.value=r:null),persistent:""},{default:s(()=>[a(x,null,{default:s(()=>[a(Q,null,{default:s(()=>[Pa]),_:1}),a(Q,{class:"q-pt-none flex-client"},{default:s(()=>[a(V,{modelValue:l.accountNumber,"onUpdate:modelValue":t[0]||(t[0]=r=>l.accountNumber=r),filled:"",label:"Account Number",readonly:""},null,8,["modelValue"]),a(V,{modelValue:l.clientName,"onUpdate:modelValue":t[1]||(t[1]=r=>l.clientName=r),filled:"",label:"Client Name",readonly:""},null,8,["modelValue"]),a(V,{modelValue:l.ipAssign,"onUpdate:modelValue":t[2]||(t[2]=r=>l.ipAssign=r),filled:"",label:"IP Assign",readonly:""},{append:s(()=>[a(le,{name:"add",class:"cursor-pointer",onClick:w})]),_:1},8,["modelValue"]),a(V,{modelValue:l.packageType,"onUpdate:modelValue":t[3]||(t[3]=r=>l.packageType=r),filled:"",label:"Package Type",readonly:""},null,8,["modelValue"]),a(W,{outlined:"",modelValue:l.serialAndMac.serialNum,"onUpdate:modelValue":[t[4]||(t[4]=r=>l.serialAndMac.serialNum=r),o],options:i.serialAndMac.map((r,I)=>({label:r.serial_number,idx:I})),label:"ONU Seriual Number"},null,8,["modelValue","options"]),a(V,{modelValue:l.serialAndMac.macAddress,"onUpdate:modelValue":t[5]||(t[5]=r=>l.serialAndMac.macAddress=r),filled:"",label:"ONU Mac Address",readonly:""},null,8,["modelValue"]),a(W,{outlined:"",modelValue:l.oltIp,"onUpdate:modelValue":t[6]||(t[6]=r=>l.oltIp=r),options:S,label:"OLT","emit-value":"","map-options":""},null,8,["modelValue"]),a(ie,{align:"right"},{default:s(()=>[a(P,{flat:"",label:"OK",color:"primary",onClick:v}),a(P,{flat:"",label:"close",color:"primary",onClick:y})]),_:1})]),_:1}),a(F,{class:"bg-primary text-white"},{default:s(()=>[T(" Response: "+h(g.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});var Ua=te(Da,[["__scopeId","data-v-3a487782"]]);const Ka=X({__name:"InetConfig",setup(n){m(!0);const b=Ce(),p=m(),y=m([]),S=m(""),g=b.$state.subscribercolumns,l=m(!1),v=m(""),w=m(0),o=m(!1);let i=[];const t=m({id:0,accountNumber:"",clientName:"",ipAssigned:"",onuSerialNumber:"",oltIp:"",onuDeviceName:"",onuMacAddress:"",packageTypeId:""}),r=async M=>{l.value=!l.value,i=(await va()).map(e=>({serial_number:e.serial_number,mac_address:e.mac_address})),t.value=await Me(M)},I=()=>{l.value=!l.value},c=(M,_)=>{v.value=M,w.value=_,o.value=!o.value},N=()=>{o.value=!o.value},u=async()=>{y.value=[],y.value=await he()};return se(async()=>{y.value=await he()}),(M,_)=>(L(),q(Y,{padding:""},{default:s(()=>[a(na,{rows:y.value,title:"For Provision","row-key":"name",columns:$(g),loading:!(y.value.length>0),pagination:{rowsPerPage:10},dense:M.$q.screen.lt.md},{"body-cell-actions":s(e=>[a(sa,{props:e},{default:s(()=>[a(P,{dense:"",round:"",flat:"",icon:"assignment",onClick:d=>r(e.row.id)},null,8,["onClick"]),a(P,{dense:"",round:"",flat:"",icon:"build",onClick:d=>c(e.row.onuDeviceName,e.row.id),disable:e.row.onuDeviceName===null||e.row.onuDeviceName===""},{default:s(()=>[e.row.onuDeviceName===null||e.row.onuDeviceName===""?(L(),q(fa,{key:0,anchor:"center left",self:"center right",offset:[10,10]},{default:s(()=>[T(" Device Name Missing! ")]),_:1})):Ae("",!0)]),_:2},1032,["onClick","disable"])]),_:2},1032,["props"])]),"top-right":s(()=>[a(P,{icon:"autorenew",class:"cursor-pointer q-mx-sm",onClick:u,flat:""}),a(V,{modelValue:S.value,"onUpdate:modelValue":_[0]||(_[0]=e=>S.value=e),filled:"",dense:"",label:"Search",debounce:"300",color:"primary"},{append:s(()=>[a(le,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","loading","dense"]),a(Ua,{"is-open":l.value,onOpenModal:r,"serial-and-mac":$(i),client:t.value,"close-modal":I},null,8,["is-open","serial-and-mac","client"]),a(ya,{confirm:o.value,"close-modal":N,"device-name":v.value,clientId:w.value},null,8,["confirm","device-name","clientId"]),a(ka,{"data-id":p.value,"get-subsribers":u},null,8,["data-id"])]),_:1}))}});export{Ka as default};
