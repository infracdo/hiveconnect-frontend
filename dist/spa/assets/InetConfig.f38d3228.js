import{c as xe,r as c,a as Z,w as te,e as me,A as pe,u as fe,h as ve,ad as qe,g as Qe,d as Be,B as Le,ae as Ee,j as je,af as He,T as R,ag as oe,P as J,U as Q,V as B,W as i,X as a,ah as f,Z as M,_ as w,ai as be,a1 as P,Y as Ae,aj as $,ak as Ve,$ as se,al as ne,Q as ie,am as Te,an as Me,ao as We}from"./index.d64c8675.js";import{u as Fe,a as Ge,v as ge,b as ze,c as Ke,d as Xe,e as Ye,f as Ze,r as _e,s as Je,p as ye,g as Re,Q as ee,h as W,i as re,j as ea}from"./QPage.522af5fd.js";import{u as aa,b as la,k as ta,e as oa,f as sa,c as we,l as na}from"./QItem.1c9dc26d.js";import{Q as T,a as ia}from"./QInput.ddf7956c.js";import{Q as ra}from"./QTable.9e9fc258.js";import{Q as ua,a as H}from"./QBanner.e279c7f9.js";import{Q as x,a as q}from"./QCard.7ce93f4a.js";import{Q as ue,a as he}from"./QRadio.bf00c89c.js";import{a as k}from"./axios.a596eead.js";import{g as Ce,c as da,a as ca,b as ma,u as pa,e as fa,d as va,f as Ne}from"./networkAddressAPIs.7307f1ae.js";import{g as ba}from"./rougeDevicesApi.c23e9b00.js";import"./QList.f65d3592.js";var ga=xe({name:"QTooltip",inheritAttrs:!1,props:{...Fe,...aa,...Ge,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:ge},self:{type:String,default:"top middle",validator:ge},offset:{type:Array,default:()=>[14,14],validator:ze},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...la],setup(r,{slots:b,emit:v,attrs:h}){let g,m;const l=Qe(),{proxy:{$q:p}}=l,y=c(null),_=c(!1),t=Z(()=>ye(r.anchor,p.lang.rtl)),o=Z(()=>ye(r.self,p.lang.rtl)),u=Z(()=>r.persistent!==!0),{registerTick:S,removeTick:d}=ta(),{registerTimeout:V}=oa(),{transitionProps:I,transitionStyle:N}=Ke(r),{localScrollTarget:s,changeScrollEvent:e,unconfigureScrollTarget:n}=Xe(r,de),{anchorEl:C,canShow:ae,anchorEvents:O}=Ye({showing:_,configureAnchorEl:De}),{show:G,hide:L}=sa({showing:_,canShow:ae,handleShow:D,handleHide:E,hideOnRouteChange:u,processOnMount:!0});Object.assign(O,{delayShow:Pe,delayHide:Oe});const{showPortal:z,hidePortal:K,renderPortal:X}=Ze(l,y,$e,"tooltip");if(p.platform.is.mobile===!0){const A={anchorEl:C,innerRef:y,onClickOutside(U){return L(U),U.target.classList.contains("q-dialog__backdrop")&&Le(U),!0}},le=Z(()=>r.modelValue===null&&r.persistent!==!0&&_.value===!0);te(le,U=>{(U===!0?Re:_e)(A)}),me(()=>{_e(A)})}function D(A){z(),S(()=>{m=new MutationObserver(()=>j()),m.observe(y.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),j(),de()}),g===void 0&&(g=te(()=>p.screen.width+"|"+p.screen.height+"|"+r.self+"|"+r.anchor+"|"+p.lang.rtl,j)),V(()=>{z(!0),v("show",A)},r.transitionDuration)}function E(A){d(),K(),Y(),V(()=>{K(!0),v("hide",A)},r.transitionDuration)}function Y(){m!==void 0&&(m.disconnect(),m=void 0),g!==void 0&&(g(),g=void 0),n(),pe(O,"tooltipTemp")}function j(){Je({targetEl:y.value,offset:r.offset,anchorEl:C.value,anchorOrigin:t.value,selfOrigin:o.value,maxHeight:r.maxHeight,maxWidth:r.maxWidth})}function Pe(A){if(p.platform.is.mobile===!0){we(),document.body.classList.add("non-selectable");const le=C.value,U=["touchmove","touchcancel","touchend","click"].map(ce=>[le,ce,"delayHide","passiveCapture"]);fe(O,"tooltipTemp",U)}V(()=>{G(A)},r.delay)}function Oe(A){p.platform.is.mobile===!0&&(pe(O,"tooltipTemp"),we(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),V(()=>{L(A)},r.hideDelay)}function De(){if(r.noParentEvent===!0||C.value===null)return;const A=p.platform.is.mobile===!0?[[C.value,"touchstart","delayShow","passive"]]:[[C.value,"mouseenter","delayShow","passive"],[C.value,"mouseleave","delayHide","passive"]];fe(O,"anchor",A)}function de(){if(C.value!==null||r.scrollTarget!==void 0){s.value=na(C.value,r.scrollTarget);const A=r.noParentEvent===!0?j:L;e(s.value,A)}}function Ue(){return _.value===!0?ve("div",{...h,ref:y,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",h.class],style:[h.style,N.value],role:"tooltip"},Be(b.default)):null}function $e(){return ve(qe,I.value,Ue)}return me(Y),Object.assign(l.proxy,{updatePosition:j}),X}});const ke=Ee("subsciber",{state:()=>({subscriberDetail:{subscriber_name:"",serial_number:"",acc_no:"",package_type:"",ssid:"",password:"",mode:"",olt_ip:"",olt_interface:""},modalIsOpen:!1,subscribercolumns:[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"accountNumber",label:"Account No.",field:"accountNumber",align:"left",sortable:!0},{name:"clientName",label:"Client Name",field:"clientName",align:"left",sortable:!0},{name:"ipAssigned",label:"IP Assigned",field:"ipAssigned",align:"left",sortable:!0},{name:"onuSerialNumber",label:"ONU Serial Number",field:"onuSerialNumber",align:"left",sortable:!0},{name:"onuMacAddress",label:"ONU Mac Address",field:"onuMacAddress",align:"left",sortable:!0},{name:"oltIp",label:"OLT IP",field:"oltIp",align:"left",sortable:!0},{name:"packageTypeId",label:"Package Type ID",field:"packageTypeId",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"",align:"left"}]})});function _a(){return je(He)}const ya={class:"provision-info"},wa=["src"],ha=R({__name:"TroubleshootClient",props:{confirm:{type:Boolean},closeModal:{type:Function},deviceName:{},clientId:{}},setup(r){const b=r,v=_a(),h=c(!1),{confirm:g}=oe(b),m=()=>{b.closeModal()},l=c({__name__:"",device_name:"",device_role:"",instance:"",job:"",site_name:"",site_status:"",site_tenant:""}),p=c("2d"),y=c(""),_=c(""),t=J({accountNumber:"",clientName:"",ipAssigned:"",onuSerialNumber:"",oltIp:"",onuMacAddress:"",onuDeviceName:"",packageTypeId:"",oltSite:"",oltInterface:""}),o=J({upStream:"",downStream:""}),u=c(),S=[{label:"Last 5 minutes",value:"5m"},{label:"Last 15 minutes",value:"15m"},{label:"Last 30 minutes",value:"30m"},{label:"Last 1 hour",value:"1h"},{label:"Last 3 hours",value:"3h"},{label:"Last 6 hours",value:"6h"},{label:"Last 12 hours",value:"12h"},{label:"Last 24 hours",value:"24h"},{label:"Last 2 days",value:"2d"},{label:"Last 90 days",value:"90d"}],d=()=>{v.notify({message:"Gathering SNMP Data! Please wait for a moment.",color:"primary"})},V=async(I,N)=>{(I===null||I==="")&&m();const s=u.value;s==null||s.start();try{const n=await k.get(`http://172.91.10.129:9090/api/v1/query?query=lo_status{job=%22ip_address%22,site_tenant=%22DCTECH%22,device_name="${I}"}`);l.value=n.data.data.result[0].metric,y.value=n.data.data.result[0].value[1]}catch{s==null||s.stop(),m(),d();return}try{const n=await k.get(`http://172.91.10.129:9090/api/v1/query?query=lo_status{job=%22ip_address%22,site_tenant=%22DCTECH%22,device_name="${l.value.site_name}"}`);_.value=n.data.data.result[0].value[1]}catch{s==null||s.stop(),m(),d();return}try{const n=await Ce(N),{accountNumber:C,clientName:ae,ipAssigned:O,oltIp:G,onuDeviceName:L,onuMacAddress:z,onuSerialNumber:K,packageTypeId:X}=n;t.accountNumber=C,t.clientName=ae,t.ipAssigned=O,t.oltIp=G,t.onuDeviceName=L,t.onuMacAddress=z,t.onuSerialNumber=K,t.packageTypeId=X;try{const D=await da(G),{olt_site:E}=D;t.oltSite=E}catch{s==null||s.stop(),m(),d();return}try{const D=await ca(X),{upstream:E,downstream:Y}=D;o.upStream=E,o.downStream=Y}catch{s==null||s.stop(),m(),d();return}}catch{s==null||s.stop(),m(),d();return}const e=await ma(I);t.oltInterface=e,s==null||s.stop(),h.value=!0};return te(g,I=>{g.value===!0&&V(b.deviceName,b.clientId)}),(I,N)=>(Q(),B(ee,null,{default:i(()=>[a(ua,{ref_key:"bar",ref:u,color:"info",position:"bottom",size:"10px","skip-hijack":""},null,512),a(re,{modelValue:$(g),"onUpdate:modelValue":N[1]||(N[1]=s=>Ve(g)?g.value=s:null),persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},{default:i(()=>[h.value?(Q(),B(x,{key:0,class:"dialog-content"},{default:i(()=>[f("div",ya,[a(x,null,{default:i(()=>[a(H,{class:"bg-primary text-white"},{default:i(()=>[M(" Client Details ")]),_:1}),a(q,null,{default:i(()=>[f("p",null,"Client Name: "+w(t.clientName),1),f("p",null,"Account Number: "+w(t.accountNumber),1),f("p",null,"Package Type: "+w(t.packageTypeId),1)]),_:1})]),_:1}),a(x,null,{default:i(()=>[a(H,{class:"bg-primary text-white"},{default:i(()=>[M(" ONU Details ")]),_:1}),a(q,null,{default:i(()=>[f("p",null,[M(" ONU Status: "),f("span",{style:be(y.value==="1"?"color: green":"color: red")},w(y.value==="1"?"UP":"Down"),5)]),f("p",null,"ONU IP: "+w(l.value.instance),1),f("p",null,"ONU Serial Number: "+w(t.onuSerialNumber),1),f("p",null,"ONU Mac Address: "+w(t.onuMacAddress),1),f("p",null," upstream: "+w(o.upStream)+" downstream: "+w(o.downStream),1)]),_:1})]),_:1}),a(x,null,{default:i(()=>[a(H,{class:"bg-primary text-white"},{default:i(()=>[M(" OLT Details ")]),_:1}),a(q,null,{default:i(()=>[f("p",null,[M(" OLT Status: "),f("span",{style:be(_.value==="1"?"color: green":"color: red")},w(_.value==="1"?"UP":"Down"),5)]),f("p",null," OLT IP: "+w(t.oltIp),1),f("p",null,"OLT Site: "+w(t.oltSite),1),f("p",null,"OLT Interface: "+w(t.oltInterface),1)]),_:1})]),_:1})]),a(W,{modelValue:p.value,"onUpdate:modelValue":N[0]||(N[0]=s=>p.value=s),options:S,label:"Select Time",filled:"",class:"select-time q-py-md","emit-value":"","map-options":""},null,8,["modelValue"]),f("iframe",{src:`http://172.91.10.151:3000/d-solo/d94d1e0e-a6e4-45c4-847f-6603e1c31ccb/subscribers-traffic-rate-and-uptime?orgId=1&from=now-${p.value}&to=now&var-Subscriber=${I.deviceName}&panelId=3`,class:"grafana-panel",frameborder:"0"},null,8,wa),a(ue,{vertical:"",align:"right"},{default:i(()=>[a(P,{filled:"",label:"Close",color:"red",onClick:m})]),_:1})]),_:1})):Ae("",!0)]),_:1},8,["modelValue"])]),_:1}))}});var Na=se(ha,[["__scopeId","data-v-51f571ef"]]);const F=r=>(Te("data-v-7a47d3e6"),r=r(),Me(),r),Sa={class:""},Ia={class:""},Aa={class:"q-gutter-sm"},Va=F(()=>f("br",null,null,-1)),Ta=F(()=>f("br",null,null,-1)),Ma=F(()=>f("br",null,null,-1)),Ca=F(()=>f("br",null,null,-1)),ka=F(()=>f("br",null,null,-1)),Pa="http://127.0.0.1:8000",Se="http://172.91.0.136:7547",Ie="http://172.91.10.108:8080",Oa=R({__name:"SubscriberModal",props:["dataId","getSubsribers"],setup(r){const b=r;k.defaults.timeout=0;const v=ke(),{dataId:h}=oe(b),g=c(""),m=c(""),l=c(""),p=c(""),y=c(""),_=c(""),t=c(""),o=c(""),u=c(""),S=c(!0),d=J({subscriber:"",configureSsid:"",setBandwidth:"",runAnsible:"",wanConfig:""});ne(()=>{g.value=v.$state.subscriberDetail.acc_no,m.value=v.$state.subscriberDetail.subscriber_name,l.value=v.$state.subscriberDetail.package_type,p.value=v.$state.subscriberDetail.serial_number,y.value=v.$state.subscriberDetail.olt_ip,_.value=v.$state.subscriberDetail.olt_interface,t.value=v.$state.subscriberDetail.mode,o.value=v.$state.subscriberDetail.ssid,u.value=v.$state.subscriberDetail.password});const V=["0/1:1","0/1:2","0/1:3","0/2:1","0/2:2","0/2:3","0/3:1","0/3:2","0/3:3"],I=()=>{v.$state.modalIsOpen=!v.$state.modalIsOpen},N=async s=>{await k.put(`${Pa}/api/subscriber_test/${s}/edit`,{acc_no:g.value,subscriber_name:m.value,serial_number:p.value,olt_ip:y.value,olt_interface:_.value,package_type:l.value,mode:t.value,ssid:o.value,password:u.value}).then(e=>{d.subscriber=e.data,b.getSubsribers()}).catch(e=>{d.subscriber=e}),await k.post(`${Se}/configureSSID`,{SN:p.value,NewSSID:t.value==="Bridged"?"":o.value,Password:u.value}).then(e=>{d.configureSsid=e.data}).catch(e=>{d.configureSsid=e}),await k.post(`${Se}/bridgedWanConfig`,{SN:p.value}).then(e=>{d.wanConfig=e.data}).catch(e=>{d.wanConfig=e}),await k.post(Ie+"/setBandwidth").then(e=>{if(e.data)d.setBandwidth="Bandwidth Config Success!";else throw new Error("Something went wrong!")}).catch(e=>{d.setBandwidth=e}),await k.post(Ie+"/runPlaybook").then(e=>{if(e.data)d.runAnsible="Successfull Setup!";else throw new Error("Something went wrong!")}).catch(e=>{d.runAnsible=e})};return(s,e)=>(Q(),B(ee,null,{default:i(()=>[a(re,{modelValue:$(v).$state.modalIsOpen,"onUpdate:modelValue":e[12]||(e[12]=n=>$(v).$state.modalIsOpen=n),modelModifiers:{trim:!0}},{default:i(()=>[a(x,null,{default:i(()=>[a(q,{class:"flex-subscriber"},{default:i(()=>[f("div",Sa,[a(T,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=n=>g.value=n),modelModifiers:{trim:!0},outlined:"",label:"Account No.",class:"q-ma-md",disable:""},null,8,["modelValue"]),a(T,{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=n=>m.value=n),modelModifiers:{trim:!0},outlined:"",label:"Subscriber Name",class:"q-ma-md",disable:""},null,8,["modelValue"]),a(T,{modelValue:l.value,"onUpdate:modelValue":e[2]||(e[2]=n=>l.value=n),modelModifiers:{trim:!0},outlined:"",label:"Package Type",class:"q-ma-md",disable:""},null,8,["modelValue"]),a(T,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=n=>p.value=n),modelModifiers:{trim:!0},outlined:"",label:"Serial Number",class:"q-ma-md"},null,8,["modelValue"]),a(W,{modelValue:y.value,"onUpdate:modelValue":e[4]||(e[4]=n=>y.value=n),modelModifiers:{trim:!0},filled:"",options:["172.16.0.2","172.16.0.58","172.16.0.22"],label:"OLT IP",class:"q-ma-md"},null,8,["modelValue"])]),f("div",Ia,[a(W,{modelValue:_.value,"onUpdate:modelValue":e[5]||(e[5]=n=>_.value=n),modelModifiers:{trim:!0},filled:"",options:V,label:"OLT Interface",class:"q-ma-md"},null,8,["modelValue"]),a(ea,{filled:"",label:"Mode","stack-label":"",class:"q-ma-md"},{control:i(()=>[f("div",Aa,[a(he,{modelValue:t.value,"onUpdate:modelValue":e[6]||(e[6]=n=>t.value=n),modelModifiers:{trim:!0},dense:"",val:"Bridged",label:"Bridged"},null,8,["modelValue"]),a(he,{modelValue:t.value,"onUpdate:modelValue":e[7]||(e[7]=n=>t.value=n),modelModifiers:{trim:!0},dense:"",val:"Routed",label:"Routed"},null,8,["modelValue"])])]),_:1}),a(T,{modelValue:o.value,"onUpdate:modelValue":e[8]||(e[8]=n=>o.value=n),modelModifiers:{trim:!0},outlined:"",class:"q-ma-md",label:"SSID"},null,8,["modelValue"]),a(T,{modelValue:u.value,"onUpdate:modelValue":e[10]||(e[10]=n=>u.value=n),modelModifiers:{trim:!0},outlined:"",class:"q-ma-md",label:"Password",type:S.value?"password":"text"},{append:i(()=>[a(ie,{name:S.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[9]||(e[9]=n=>S.value=!S.value)},null,8,["name"])]),_:1},8,["modelValue","type"])])]),_:1}),a(ue,{align:"left"},{default:i(()=>[a(P,{flat:"",label:"Update Info",color:"secondary",onClick:e[11]||(e[11]=n=>N($(h)))}),a(P,{flat:"",label:"Close",color:"primary",onClick:I})]),_:1}),a(H,{class:"bg-primary text-white"},{default:i(()=>[M(" Subscriber Details: "+w(d.subscriber)+" ",1),Va,M(" SSID/Password Config: "+w(d.configureSsid)+" ",1),Ta,M(" Wan Config: "+w(d.wanConfig)+" ",1),Ma,M(" Bandwidth: "+w(d.setBandwidth)+" ",1),Ca,M(" Playbook: "+w(d.runAnsible)+" ",1),ka]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});var Da=se(Oa,[["__scopeId","data-v-7a47d3e6"]]);const Ua=r=>(Te("data-v-3a487782"),r=r(),Me(),r),$a=Ua(()=>f("div",{class:"text-h6"},"For Provisioning",-1)),xa=R({__name:"AddNewClient",props:{isOpen:{type:Boolean},serialAndMac:{},client:{},closeModal:{type:Function}},setup(r){const b=r,{isOpen:v}=oe(b),h=()=>{b.closeModal()},g=[{label:"Gusa 1",value:"172.16.0.2"},{label:"Gusa 2",value:"172.16.0.10"}],m=c(""),l=J({clientId:0,accountNumber:"",packageType:"",serialAndMac:{serialNum:{label:"",idx:0},macAddress:""},oltIp:"",ipAssign:"",clientName:""});We(()=>{var t,o;l.serialAndMac.serialNum.label=(t=b.client)==null?void 0:t.onuSerialNumber,l.serialAndMac.macAddress=(o=b.client)==null?void 0:o.onuMacAddress}),ne(()=>{var t,o,u,S,d,V;l.clientId=(t=b.client)==null?void 0:t.id,l.accountNumber=(o=b.client)==null?void 0:o.accountNumber,l.clientName=(u=b.client)==null?void 0:u.clientName,l.ipAssign=(S=b.client)==null?void 0:S.ipAssigned,l.oltIp=(d=b.client)==null?void 0:d.oltIp,l.packageType=(V=b.client)==null?void 0:V.packageTypeId});const p=async()=>{console.log(l);try{await pa(l.clientId,l.ipAssign,l.serialAndMac.serialNum.label,l.oltIp,l.serialAndMac.macAddress)&&(m.value="Successfull Client Update!")}catch(t){m.value="Unsuccessful client Update: "+t}try{const t=await fa(l.accountNumber,l.clientName,l.serialAndMac.serialNum.label,l.serialAndMac.macAddress,l.ipAssign,l.oltIp,l.packageType);m.value=t}catch{throw new Error("Provoision Not complete")}},y=async()=>{const[t]=await va(),{ipAddress:o}=t;l.ipAssign=o},_=()=>{l.serialAndMac.macAddress=b.serialAndMac[l.serialAndMac.serialNum.idx].mac_address};return(t,o)=>(Q(),B(ee,null,{default:i(()=>[a(re,{modelValue:$(v),"onUpdate:modelValue":o[7]||(o[7]=u=>Ve(v)?v.value=u:null),persistent:""},{default:i(()=>[a(x,null,{default:i(()=>[a(q,null,{default:i(()=>[$a]),_:1}),a(q,{class:"q-pt-none flex-client"},{default:i(()=>[a(T,{modelValue:l.accountNumber,"onUpdate:modelValue":o[0]||(o[0]=u=>l.accountNumber=u),filled:"",label:"Account Number",readonly:""},null,8,["modelValue"]),a(T,{modelValue:l.clientName,"onUpdate:modelValue":o[1]||(o[1]=u=>l.clientName=u),filled:"",label:"Client Name",readonly:""},null,8,["modelValue"]),a(T,{modelValue:l.ipAssign,"onUpdate:modelValue":o[2]||(o[2]=u=>l.ipAssign=u),filled:"",label:"IP Assign",readonly:""},{append:i(()=>[a(ie,{name:"add",class:"cursor-pointer",onClick:y})]),_:1},8,["modelValue"]),a(T,{modelValue:l.packageType,"onUpdate:modelValue":o[3]||(o[3]=u=>l.packageType=u),filled:"",label:"Package Type",readonly:""},null,8,["modelValue"]),a(W,{outlined:"",modelValue:l.serialAndMac.serialNum,"onUpdate:modelValue":[o[4]||(o[4]=u=>l.serialAndMac.serialNum=u),_],options:t.serialAndMac.map((u,S)=>({label:u.serial_number,idx:S})),label:"ONU Seriual Number"},null,8,["modelValue","options"]),a(T,{modelValue:l.serialAndMac.macAddress,"onUpdate:modelValue":o[5]||(o[5]=u=>l.serialAndMac.macAddress=u),filled:"",label:"ONU Mac Address",readonly:""},null,8,["modelValue"]),a(W,{outlined:"",modelValue:l.oltIp,"onUpdate:modelValue":o[6]||(o[6]=u=>l.oltIp=u),options:g,label:"OLT","emit-value":"","map-options":""},null,8,["modelValue"]),a(ue,{align:"right"},{default:i(()=>[a(P,{flat:"",label:"OK",color:"primary",onClick:p}),a(P,{flat:"",label:"close",color:"primary",onClick:h})]),_:1})]),_:1}),a(H,{class:"bg-primary text-white"},{default:i(()=>[M(" Response: "+w(m.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});var qa=se(xa,[["__scopeId","data-v-3a487782"]]);const Ya=R({__name:"InetConfig",setup(r){c(!0);const b=ke(),v=c(),h=c([]),g=c(""),m=b.$state.subscribercolumns,l=c(!1),p=c(""),y=c(0),_=c(!1);let t=[];const o=c({id:0,accountNumber:"",clientName:"",ipAssigned:"",onuSerialNumber:"",oltIp:"",onuDeviceName:"",onuMacAddress:"",packageTypeId:""}),u=async N=>{l.value=!l.value,t=(await ba()).map(e=>({serial_number:e.serial_number,mac_address:e.mac_address})),o.value=await Ce(N)},S=()=>{l.value=!l.value},d=(N,s)=>{p.value=N,y.value=s,_.value=!_.value},V=()=>{_.value=!_.value},I=async()=>{h.value=[],h.value=await Ne()};return ne(async()=>{h.value=await Ne()}),(N,s)=>(Q(),B(ee,{padding:""},{default:i(()=>[a(ra,{rows:h.value,title:"For Provision","row-key":"name",columns:$(m),loading:!(h.value.length>0),pagination:{rowsPerPage:10},dense:N.$q.screen.lt.md},{"body-cell-actions":i(e=>[a(ia,{props:e},{default:i(()=>[a(P,{dense:"",round:"",flat:"",icon:"assignment",onClick:n=>u(e.row.id)},null,8,["onClick"]),a(P,{dense:"",round:"",flat:"",icon:"build",onClick:n=>d(e.row.onuDeviceName,e.row.id),disable:e.row.onuDeviceName===null||e.row.onuDeviceName===""},{default:i(()=>[e.row.onuDeviceName===null||e.row.onuDeviceName===""?(Q(),B(ga,{key:0,anchor:"center left",self:"center right",offset:[10,10]},{default:i(()=>[M(" Device Name Missing! ")]),_:1})):Ae("",!0)]),_:2},1032,["onClick","disable"])]),_:2},1032,["props"])]),"top-right":i(()=>[a(P,{icon:"autorenew",class:"cursor-pointer q-mx-sm",onClick:I,flat:""}),a(T,{modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=e=>g.value=e),filled:"",dense:"",label:"Search",debounce:"300",color:"primary"},{append:i(()=>[a(ie,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","loading","dense"]),a(qa,{"is-open":l.value,onOpenModal:u,"serial-and-mac":$(t),client:o.value,"close-modal":S},null,8,["is-open","serial-and-mac","client"]),a(Na,{confirm:_.value,"close-modal":V,"device-name":p.value,clientId:y.value},null,8,["confirm","device-name","clientId"]),a(Da,{"data-id":v.value,"get-subsribers":I},null,8,["data-id"])]),_:1}))}});export{Ya as default};
